üìÇ Estrutura do projeto ‚Äì 2025-09-15T19:50:58.980Z
Pasta base: /app
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÅ app
    üìÑ .eslintrc.json
    ‚îî‚îÄ‚îÄ Conte√∫do:
        {
          "extends": "next",
          "rules": {
            "no-mixed-operators": ["error", { "groups": [["??", "&&", "||"]] }]
          }
        }

    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÅ .github
        üìÅ workflows
    üìÑ .gitignore
    ‚îî‚îÄ‚îÄ Conte√∫do:
        # Node modules e cache
        node_modules/
        npm-debug.log*
        yarn-debug.log*
        yarn-error.log*

        # Build e arquivos tempor√°rios
        .next/
        dist/
        out/
        *.log
        coverage/

        # Vari√°veis de ambiente
        .env
        .env.local
        .env.production
        .env.development

        # Arquivos do sistema
        .DS_Store
        Thumbs.db

        # Arquivos de lock gerados
        package-lock.json

        # Backup ou arquivos tempor√°rios
        *.bak
        *.tmp

    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÅ app
        üìÅ api
            üìÅ clientes
                üìÅ buscar
                    üìÑ route.ts
                    ‚îî‚îÄ‚îÄ Conte√∫do:
                        import { NextResponse } from 'next/server';
                        import { getSheetData } from '../../../../lib/googleSheets.js';
                        import { padCNPJ14, onlyDigits } from '@/utils/cnpj';

                        const SHEET_NAME = 'Leads Exact Spotter';
                        const RESULT_LIMIT = 20;

                        // Normalizer function as specified
                        const norm = (s: string) =>
                          s.normalize('NFD').replace(/[\u0300-\u036f]/g, '').toLowerCase().replace(/\s+/g,' ').trim();

                        interface ScoredCompany {
                            Cliente_ID: string;
                            Nome_da_Empresa: string;
                            CNPJ_Empresa: string;
                            score: number;
                            nomeLength: number;
                        }

                        export async function GET(request: Request) {
                          const { searchParams } = new URL(request.url);
                          const q = searchParams.get('q')?.trim() || '';
                          const qDigits = onlyDigits(q);

                          if (q.length < 2 && qDigits.length < 2) {
                            return NextResponse.json([]);
                          }

                          try {
                            const { rows } = await getSheetData(SHEET_NAME);

                            const scoredResults = rows.map(row => {
                              const nomeRaw = row['Nome da Empresa'] || row['Nome do Lead'] || '';
                              const cnpjRaw = row['CPF/CNPJ'] || '';

                              const nome = norm(nomeRaw);
                              const cnpj = onlyDigits(cnpjRaw);

                              if (!nome && !cnpj) {
                                return null;
                              }

                              let score = 0;
                              if (qDigits.length === 14 && cnpj === qDigits) {
                                score = 1000;
                              } else {
                                const nq = norm(q);
                                const tokens = nq.split(' ').filter(Boolean);

                                const starts = nome.startsWith(nq) ? 1 : 0;
                                const containsAll = tokens.every(t => nome.includes(t)) ? 1 : 0;
                                const cnpjContains = qDigits.length >= 5 && cnpj.includes(qDigits) ? 1 : 0;

                                score = (starts * 800) + (containsAll * 700) + (cnpjContains * 500);
                              }

                              if (score === 0) {
                                return null;
                              }

                              return {
                                Cliente_ID: row['Cliente_ID'],
                                Nome_da_Empresa: nomeRaw,
                                CNPJ_Empresa: padCNPJ14(cnpjRaw),
                                score,
                                nomeLength: nomeRaw.length,
                              };
                            }).filter(Boolean);

                            // Deduplicate results, keeping the one with the highest score
                            const deduplicated: ScoredCompany[] = Array.from(
                              (scoredResults as ScoredCompany[]).reduce((map, item) => {
                                const key = item.CNPJ_Empresa || item.Nome_da_Empresa; // Use CNPJ or Name as key
                                if (!map.has(key) || item.score > map.get(key)!.score) {
                                  map.set(key, item);
                                }
                                return map;
                              }, new Map<string, ScoredCompany>()).values()
                            );

                            // Sort the results
                            deduplicated.sort((a, b) => {
                              if (b.score !== a.score) {
                                return b.score - a.score;
                              }
                              if (a.nomeLength !== b.nomeLength) {
                                return a.nomeLength - b.nomeLength;
                              }
                              return a.Nome_da_Empresa.localeCompare(b.Nome_da_Empresa);
                            });

                            // Limit and map to final structure
                            const finalResults = deduplicated.slice(0, RESULT_LIMIT).map(item => ({
                              Cliente_ID: item.Cliente_ID,
                              Nome_da_Empresa: item.Nome_da_Empresa,
                              CNPJ_Empresa: item.CNPJ_Empresa,
                            }));

                            return NextResponse.json(finalResults);
                          } catch (error) {
                            console.error('Error searching clients:', error);
                            const errorMessage = error instanceof Error ? error.message : 'An unknown error occurred';
                            return NextResponse.json({ message: 'Failed to search clients', error: errorMessage }, { status: 500 });
                          }
                        }

                    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                üìÅ registrar
                    üìÑ route.ts
                    ‚îî‚îÄ‚îÄ Conte√∫do:
                        import { NextResponse } from 'next/server';
                        import { appendSheetData } from '../../../../lib/googleSheets.js';
                        import { getSheetData } from '../../../../lib/googleSheets.js';

                        const SHEET_NAME = 'layout_importacao_empresas';

                        const HEADERS = [
                          'Cliente_ID', 'Nome da Empresa', 'Site Empresa', 'Pa√≠s Empresa', 'Estado Empresa',
                          'Cidade Empresa', 'Logradouro Empresa', 'Numero Empresa', 'Bairro Empresa',
                          'Complemento Empresa', 'CEP Empresa', 'CNPJ Empresa', 'DDI Empresa',
                          'Telefones Empresa', 'Observa√ß√£o Empresa'
                        ];

                        function generateClienteId() {
                          const now = new Date();
                          const datePart = now.toISOString().slice(0, 10).replace(/-/g, '');
                          const randomPart = Math.random().toString(36).substring(2, 8).toUpperCase();
                          return `CL-${datePart}-${randomPart}`;
                        }

                        export async function POST(request: Request) {
                          try {
                            const body = await request.json();

                            // Basic validation
                            if (!body['Nome da Empresa'] || !body['CNPJ Empresa']) {
                              return NextResponse.json({ ok: false, message: 'Nome da Empresa e CNPJ s√£o obrigat√≥rios.' }, { status: 400 });
                            }

                            // Generate a new Cliente_ID
                            const newId = generateClienteId();
                            const newRowObject = { ...body, Cliente_ID: newId };

                            // Ensure the row has all headers in the correct order
                            const rowToAppend = HEADERS.map(header => newRowObject[header] ?? '');

                            await appendSheetData(SHEET_NAME, [rowToAppend]);

                            return NextResponse.json({ ok: true, message: 'Cliente cadastrado com sucesso!', newClient: newRowObject });
                          } catch (error) {
                            console.error('[API /clientes/registrar]', error);
                            const errorMessage = error instanceof Error ? error.message : 'An unknown error occurred';
                            return NextResponse.json({ ok: false, message: errorMessage }, { status: 500 });
                          }
                        }

                    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÅ empresas
                üìÅ cadastrar
                    üìÑ route.ts
                    ‚îî‚îÄ‚îÄ Conte√∫do:
                        import { NextResponse } from 'next/server';
                        import {
                          getNextClienteId,
                          findByCnpj,
                          findByName,
                          appendToSheets,
                          updateInSheets, // Import the new update function
                        } from '../../../../lib/googleSheets';

                        // --- Helper Functions ---

                        function normalizeCnpj(cnpj: string | undefined | null): string {
                          return String(cnpj || '').replace(/\D/g, '');
                        }

                        function isValidCnpj(cnpj: string | undefined | null): boolean {
                          const digits = normalizeCnpj(cnpj);
                          if (digits.length !== 14) return false;
                          if (/^(\d)\1+$/.test(digits)) return false;
                          // Calculation logic remains the same...
                          let size = 12, sum = 0, pos = 5;
                          for (let i = 0; i < size; i++) {
                            sum += parseInt(digits[i]) * pos--;
                            if (pos < 2) pos = 9;
                          }
                          let result = sum % 11 < 2 ? 0 : 11 - (sum % 11);
                          if (result !== parseInt(digits[12])) return false;
                          size = 13; sum = 0; pos = 6;
                          for (let i = 0; i < size; i++) {
                            sum += parseInt(digits[i]) * pos--;
                            if (pos < 2) pos = 9;
                          }
                          result = sum % 11 < 2 ? 0 : 11 - (sum % 11);
                          return result === parseInt(digits[13]);
                        }

                        // --- API Route Handler ---

                        export async function POST(req: Request) {
                          try {
                            const payload = await req.json();
                            const { Cliente_ID, Empresa, Contato, Comercial } = payload;

                            // 1. Validation
                            if (!Empresa?.Nome_da_Empresa) {
                              return NextResponse.json({ message: 'O "Nome da Empresa" √© obrigat√≥rio.' }, { status: 400 });
                            }

                            const normalizedCnpj = normalizeCnpj(Empresa.CNPJ_Empresa);
                            if (Empresa.CNPJ_Empresa && !isValidCnpj(normalizedCnpj)) {
                              return NextResponse.json({ message: 'O CNPJ informado √© inv√°lido.' }, { status: 400 });
                            }

                            // --- UPDATE FLOW ---
                            if (Cliente_ID) {
                              // In update mode, we assume the user has confirmed and we just save the data.
                              // A more robust check could re-verify the CNPJ isn't being changed to a conflicting one, but we'll keep it simple.
                              await updateInSheets(Cliente_ID, payload);
                              const savedCompany = {
                                  Cliente_ID,
                                  Nome_da_Empresa: Empresa.Nome_da_Empresa,
                                  CNPJ_Empresa: normalizedCnpj,
                              };
                              return NextResponse.json({ ok: true, company: savedCompany }, { status: 200 });
                            }

                            // --- CREATE FLOW ---

                            // 2. Duplicate & Enrichment Check
                            if (normalizedCnpj) {
                              const existingByCnpj = await findByCnpj(normalizedCnpj);
                              if (existingByCnpj) {
                                return NextResponse.json(
                                  { message: `Empresa j√° cadastrada com este CNPJ.`, company: existingByCnpj },
                                  { status: 409 }
                                );
                              }
                            }

                            const existingByName = await findByName(Empresa.Nome_da_Empresa);
                            if (existingByName && !normalizeCnpj(existingByName['CNPJ Empresa'])) {
                               return NextResponse.json(
                                {
                                    message: 'Encontramos uma empresa com este nome mas sem CNPJ. Deseja enriquecer o cadastro existente?',
                                    mode: 'enrich-existing',
                                    company: existingByName
                                },
                                { status: 200 }
                              );
                            }

                            // 3. Generate New ID
                            const newClienteId = await getNextClienteId();
                            const finalPayload = { ...payload, Cliente_ID: newClienteId };

                            // 4. Write to Sheets
                            await appendToSheets(finalPayload);

                            // 5. Return Success
                            const savedCompany = {
                                Cliente_ID: newClienteId,
                                Nome_da_Empresa: Empresa.Nome_da_Empresa,
                                CNPJ_Empresa: normalizedCnpj,
                            };
                            return NextResponse.json({ ok: true, company: savedCompany }, { status: 201 });

                          } catch (error: any) {
                            console.error('[API /empresas/cadastrar]', error);
                            return NextResponse.json({ message: `Erro interno no servidor: ${error.message}` }, { status: 500 });
                          }
                        }

                    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                üìÅ concorrentes
                    üìÑ route.ts
                    ‚îî‚îÄ‚îÄ Conte√∫do:
                        import { NextResponse } from 'next/server';
                        import { findCompetitors } from '@/lib/perplexity';

                        export const runtime = 'nodejs';

                        export async function POST(req: Request) {
                          try {
                            const body = await req.json().catch(() => ({}));
                            const nome = (body?.nome || '').trim();
                            const max  = body?.max ?? 20;
                            if (!nome) return NextResponse.json({ error: 'nome obrigat√≥rio' }, { status: 400 });

                            const { items, debug } = await findCompetitors({ nome, max });
                            return NextResponse.json({ items, debug }, { status: 200 });
                          } catch (e: any) {
                            return NextResponse.json({ error: e?.message || 'Erro ao buscar concorrentes' }, { status: 400 });
                          }
                        }

                    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                üìÅ enriquecer
                    üìÑ route.ts
                    ‚îî‚îÄ‚îÄ Conte√∫do:
                        import { NextResponse } from 'next/server';
                        import { enrichCompanyData } from '@/lib/perplexity';

                        export const runtime = 'nodejs';

                        export async function POST(req: Request) {
                          try {
                            const body = await req.json().catch(() => ({}));
                            const nome = body?.nome ?? '';
                            const cnpj = body?.cnpj ?? '';

                            const { suggestion, debug } = await enrichCompanyData({ nome, cnpj });

                            const payload: any = { suggestion };
                            if (debug) payload.debug = debug;
                            return NextResponse.json(payload, { status: 200 });
                          } catch (e: any) {
                            return NextResponse.json({ error: e.message || 'Erro ao enriquecer' }, { status: 400 });
                          }
                        }


                    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÅ infosimples
                üìÅ perdcomp
                    üìÑ route.ts
                    ‚îî‚îÄ‚îÄ Conte√∫do:
                        import { NextResponse } from 'next/server';
                        import { getSheetData, getSheetsClient } from '../../../../lib/googleSheets.js';
                        import { padCNPJ14, isValidCNPJ } from '@/utils/cnpj';
                        import { agregaPerdcomp } from '@/utils/perdcomp';

                        export const runtime = 'nodejs';

                        const PERDECOMP_SHEET_NAME = 'PERDECOMP';

                        const REQUIRED_HEADERS = [
                          'Cliente_ID', 'Nome da Empresa', 'Perdcomp_ID', 'CNPJ', 'Tipo_Pedido',
                          'Situacao', 'Periodo_Inicio', 'Periodo_Fim', 'Quantidade_PERDCOMP',
                          'Qtd_PERDCOMP_DCOMP', 'Qtd_PERDCOMP_REST', 'Qtd_PERDCOMP_RESSARC', 'Qtd_PERDCOMP_CANCEL',
                          'Numero_Processo', 'Data_Protocolo', 'Ultima_Atualizacao',
                          'Quantidade_Receitas', 'Quantidade_Origens', 'Quantidade_DARFs',
                          'URL_Comprovante_HTML', 'URL_Comprovante_PDF', 'Data_Consulta',
                          'Tipo_Empresa', 'Concorrentes',
                          'Code', 'Code_Message', 'MappedCount', 'Perdcomp_Principal_ID',
                          'Perdcomp_Solicitante', 'Perdcomp_Tipo_Documento',
                          'Perdcomp_Tipo_Credito', 'Perdcomp_Data_Transmissao',
                          'Perdcomp_Situacao', 'Perdcomp_Situacao_Detalhamento'
                        ];

                        function columnNumberToLetter(columnNumber: number) {
                          let temp;
                          let letter = '';
                          while (columnNumber > 0) {
                            temp = (columnNumber - 1) % 26;
                            letter = String.fromCharCode(temp + 65) + letter;
                            columnNumber = (columnNumber - temp - 1) / 26;
                          }
                          return letter;
                        }

                        function todayISO() {
                          const d = new Date();
                          return d.toISOString().slice(0, 10);
                        }

                        function addYears(dateISO: string, years: number) {
                          const d = new Date(dateISO);
                          d.setFullYear(d.getFullYear() + years);
                          return d.toISOString().slice(0, 10);
                        }

                        function sleep(ms: number) {
                          return new Promise(r => setTimeout(r, ms));
                        }

                        function jitter(base: number) {
                          return Math.round(base * (0.8 + Math.random() * 0.4));
                        }

                        async function withRetry<T>(fn: () => Promise<T>, attempts = 3, delays = [1500, 3000, 5000]): Promise<T> {
                          let lastErr: any;
                          for (let i = 0; i < attempts; i++) {
                            try {
                              return await fn();
                            } catch (err: any) {
                              lastErr = err;
                              const status = err?.response?.status ?? err?.status ?? 0;
                              const shouldRetry = status >= 500 || status === 0;
                              if (!shouldRetry || i === attempts - 1) throw err;
                              await sleep(jitter(delays[i] ?? 2000));
                            }
                          }
                          throw lastErr;
                        }

                        async function getLastPerdcompFromSheet({
                          cnpj,
                          clienteId,
                        }: {
                          cnpj?: string;
                          clienteId?: string;
                        }) {
                          const sheets = await getSheetsClient();
                          const head = await sheets.spreadsheets.values.get({
                            spreadsheetId: process.env.SPREADSHEET_ID,
                            range: 'PERDECOMP!1:1',
                          });
                          const headers = head.data.values?.[0] || [];
                          const col = (name: string) => headers.indexOf(name);
                          const resp = await sheets.spreadsheets.values.get({
                            spreadsheetId: process.env.SPREADSHEET_ID,
                            range: 'PERDECOMP!A2:Z',
                          });
                          const rows = resp.data.values || [];
                          const idxCliente = col('Cliente_ID');
                          const idxCnpj = col('CNPJ');
                          const idxQtd = col('Quantidade_PERDCOMP');
                          const idxHtml = col('URL_Comprovante_HTML');
                          const idxData = col('Data_Consulta');
                          const idxQtdDcomp = col('Qtd_PERDCOMP_DCOMP');
                          const idxQtdRest = col('Qtd_PERDCOMP_REST');
                          const idxQtdRessarc = col('Qtd_PERDCOMP_RESSARC');
                          const idxQtdCancel = col('Qtd_PERDCOMP_CANCEL');
                          const match = rows.find(
                            r =>
                              (clienteId && r[idxCliente] === clienteId) ||
                              (cnpj && (r[idxCnpj] || '').replace(/\D/g, '') === cnpj)
                          );
                          if (!match) return null;
                          const qtd = Number(match[idxQtd] ?? 0);
                          const dcomp = Number(match[idxQtdDcomp] ?? 0);
                          const rest = Number(match[idxQtdRest] ?? 0);
                          const ressarc = Number(match[idxQtdRessarc] ?? 0);
                          const canc = Number(match[idxQtdCancel] ?? 0);
                          return {
                            quantidade: qtd || 0,
                            dcomp,
                            rest,
                            ressarc,
                            canc,
                            site_receipt: match[idxHtml] || null,
                            requested_at: match[idxData] || null,
                          };
                        }

                        export async function POST(request: Request) {
                          try {
                            const body = await request.json().catch(() => ({}));
                            const url = new URL(request.url);

                            const rawCnpj = body?.cnpj ?? url.searchParams.get('cnpj') ?? '';
                            const cnpj = padCNPJ14(rawCnpj);
                            if (!isValidCNPJ(cnpj)) {
                              return NextResponse.json(
                                { error: true, httpStatus: 400, httpStatusText: 'Bad Request', message: 'CNPJ inv√°lido' },
                                { status: 400 }
                              );
                            }

                            let data_fim = (body?.data_fim ?? url.searchParams.get('data_fim') ?? '').toString().slice(0, 10);
                            let data_inicio = (body?.data_inicio ?? url.searchParams.get('data_inicio') ?? '').toString().slice(0, 10);
                            if (!/^\d{4}-\d{2}-\d{2}$/.test(data_fim)) data_fim = todayISO();
                            if (!/^\d{4}-\d{2}-\d{2}$/.test(data_inicio)) data_inicio = addYears(data_fim, -5);
                            if (new Date(data_inicio) > new Date(data_fim)) {
                              data_inicio = addYears(data_fim, -5);
                            }

                            const force = body?.force ?? false;
                            const debugMode = body?.debug ?? false;
                            const clienteId =
                              body?.Cliente_ID ??
                              body?.clienteId ??
                              url.searchParams.get('Cliente_ID') ??
                              url.searchParams.get('clienteId');
                            const nomeEmpresa =
                              body?.Nome_da_Empresa ??
                              body?.nomeEmpresa ??
                              url.searchParams.get('Nome_da_Empresa') ??
                              url.searchParams.get('nomeEmpresa');
                            if (!clienteId || !nomeEmpresa) {
                              return NextResponse.json({ message: 'Missing required fields' }, { status: 400 });
                            }

                            const requestedAt = new Date().toISOString();
                            const apiRequest = {
                              cnpj,
                              data_inicio,
                              data_fim,
                              timeout: 600,
                              endpoint: 'https://api.infosimples.com/api/v2/consultas/receita-federal/perdcomp',
                            };

                            // 1. If not forcing, check the spreadsheet first
                            if (!force) {
                              const { rows } = await getSheetData(PERDECOMP_SHEET_NAME);

                              const dataForCnpj = rows.filter(row => {
                                const rowCnpj = padCNPJ14(row.CNPJ);
                                return row.Cliente_ID === clienteId || rowCnpj === cnpj;
                              });

                              if (dataForCnpj.length > 0) {
                                const lastConsulta = dataForCnpj.reduce((acc, r) => {
                                  const dc = r.Data_Consulta;
                                  // Only consider valid-looking dates (basic ISO format check)
                                  if (!dc || typeof dc !== 'string' || !dc.startsWith('20')) return acc;
                                  try {
                                    // Check if dates are valid before comparing
                                    const d1 = new Date(dc);
                                    if (isNaN(d1.getTime())) return acc;
                                    if (!acc) return dc;
                                    const d2 = new Date(acc);
                                    if (isNaN(d2.getTime())) return dc;
                                    return d1 > d2 ? dc : acc;
                                  } catch {
                                    return acc;
                                  }
                                }, '');

                                const rawQtd = dataForCnpj[0]?.Quantidade_PERDCOMP ?? '0';
                                const qtdSemCanc = parseInt(String(rawQtd).replace(/\D/g, ''), 10) || 0;
                                const dcomp = parseInt(String(dataForCnpj[0]?.Qtd_PERDCOMP_DCOMP ?? '0').replace(/\D/g, ''), 10) || 0;
                                const rest = parseInt(String(dataForCnpj[0]?.Qtd_PERDCOMP_REST ?? '0').replace(/\D/g, ''), 10) || 0;
                                const ressarc = parseInt(String(dataForCnpj[0]?.Qtd_PERDCOMP_RESSARC ?? '0').replace(/\D/g, ''), 10) || 0;
                                const canc = parseInt(String(dataForCnpj[0]?.Qtd_PERDCOMP_CANCEL ?? '0').replace(/\D/g, ''), 10) || 0;
                                const porFamilia = { DCOMP: dcomp, REST: rest, RESSARC: ressarc, CANC: canc, DESCONHECIDO: 0 };
                                const porNaturezaAgrupada = {
                                  '1.3/1.7': dcomp,
                                  '1.2/1.6': rest,
                                  '1.1/1.5': ressarc,
                                };
                                const total = dcomp + rest + ressarc + canc;
                                const resumo = {
                                  total,
                                  totalSemCancelamento: qtdSemCanc || dcomp + rest + ressarc,
                                  canc,
                                  porFamilia,
                                  porNaturezaAgrupada,
                                };
                                const resp: any = {
                                  ok: true,
                                  fonte: 'planilha',
                                  linhas: dataForCnpj,
                                  perdcompResumo: resumo,
                                  total_perdcomp: resumo.total,
                                };
                                if (debugMode) {
                                  resp.debug = {
                                    requestedAt,
                                    fonte: 'planilha',
                                    apiRequest,
                                    apiResponse: null,
                                    mappedCount: dataForCnpj.length,
                                    header: { requested_at: lastConsulta },
                                    total_perdcomp: resumo.total,
                                  };
                                }
                                return NextResponse.json(resp);
                              }
                            }

                            // 2. If forced or no data found, call the Infosimples API
                            const token = process.env.INFOSIMPLES_TOKEN;
                            if (!token) {
                              throw new Error('INFOSIMPLES_TOKEN is not set in .env.local');
                            }

                            const params = new URLSearchParams({
                              token: token,
                              cnpj: cnpj,
                              data_inicio: data_inicio,
                              data_fim: data_fim,
                              timeout: '600',
                            });

                            const doCall = async () => {
                              const resp = await fetch(apiRequest.endpoint, {
                                method: 'POST',
                                headers: {
                                  'Content-Type': 'application/x-www-form-urlencoded',
                                },
                                body: params.toString(),
                              });
                              const text = await resp.text();
                              const json = (() => {
                                try {
                                  return JSON.parse(text);
                                } catch {
                                  return null;
                                }
                              })();
                              // Allow 200 (OK) and 612 (No data found) to be treated as "successful" calls
                              if (!resp.ok || (json && typeof json.code === 'number' && ![200, 612].includes(json.code))) {
                                const err: any = new Error('provider_error');
                                err.status = resp.status || 502;
                                err.statusText = resp.statusText || 'Bad Gateway';
                                err.providerCode = json?.code;
                                err.providerMessage =
                                  json?.code_message || json?.message || json?.errors?.[0]?.message || null;
                                throw err;
                              }
                              return json;
                            };

                            let apiResponse: any;
                            try {
                              apiResponse = await withRetry(doCall, 3, [1500, 3000, 5000]);
                            } catch (err: any) {
                              const fallback = await getLastPerdcompFromSheet({ cnpj, clienteId });
                              return NextResponse.json(
                                {
                                  error: true,
                                  httpStatus: err?.status || 502,
                                  httpStatusText: err?.statusText || 'Bad Gateway',
                                  providerCode: err?.providerCode ?? null,
                                  providerMessage: err?.providerMessage ?? err?.message ?? 'API error',
                                  fallback,
                                },
                                { status: err?.status || 502 }
                              );
                            }

                            if (debugMode && apiResponse?.header?.parameters?.token) {
                              delete apiResponse.header.parameters.token;
                            }

                            const headerRequestedAt = apiResponse?.header?.requested_at || requestedAt;
                            // If code is 612 (no data), treat perdcomp array as empty
                            const perdcompArrayRaw = apiResponse?.code === 612 ? [] : apiResponse?.data?.[0]?.perdcomp;
                            const perdcompArray = Array.isArray(perdcompArrayRaw) ? perdcompArrayRaw : [];
                            const resumo = agregaPerdcomp(perdcompArray);
                            const first = perdcompArray[0] || {};
                            const totalPerdcomp = resumo.total;
                            const mappedCount = apiResponse?.mapped_count || totalPerdcomp;
                            const siteReceipt = apiResponse?.site_receipts?.[0] || '';

                            const writes: Record<string, any> = {
                              Code: apiResponse.code,
                              Code_Message: apiResponse.code_message || '',
                              MappedCount: mappedCount,
                              Quantidade_PERDCOMP: resumo.totalSemCancelamento,
                              Qtd_PERDCOMP_DCOMP: resumo.porFamilia.DCOMP,
                              Qtd_PERDCOMP_REST: resumo.porFamilia.REST,
                              Qtd_PERDCOMP_RESSARC: resumo.porFamilia.RESSARC,
                              Qtd_PERDCOMP_CANCEL: resumo.porFamilia.CANC,
                              URL_Comprovante_HTML: siteReceipt,
                              Data_Consulta: headerRequestedAt,
                              Perdcomp_Principal_ID: first?.perdcomp || '',
                              Perdcomp_Solicitante: first?.solicitante || '',
                              Perdcomp_Tipo_Documento: first?.tipo_documento || '',
                              Perdcomp_Tipo_Credito: first?.tipo_credito || '',
                              Perdcomp_Data_Transmissao: first?.data_transmissao || '',
                              Perdcomp_Situacao: first?.situacao || '',
                              Perdcomp_Situacao_Detalhamento: first?.situacao_detalhamento || '',
                            };

                            const sheets = await getSheetsClient();
                            // Call getSheetData ONCE and get both headers and rows
                            const { headers, rows } = await getSheetData(PERDECOMP_SHEET_NAME);
                            const finalHeaders = [...headers];
                            let headerUpdated = false;
                            for (const h of REQUIRED_HEADERS) {
                              if (!finalHeaders.includes(h)) {
                                finalHeaders.push(h);
                                headerUpdated = true;
                              }
                            }
                            if (headerUpdated) {
                              await sheets.spreadsheets.values.update({
                                spreadsheetId: process.env.SPREADSHEET_ID!,
                                range: `${PERDECOMP_SHEET_NAME}!1:1`,
                                valueInputOption: 'RAW',
                                requestBody: { values: [finalHeaders] },
                              });
                            }

                            // Use the 'rows' we already fetched instead of calling getSheetData again
                            let rowNumber = -1;
                            for (const r of rows) {
                              if (r.Cliente_ID === clienteId || String(r.CNPJ || '').replace(/\D/g, '') === cnpj) {
                                rowNumber = r._rowNumber;
                                break;
                              }
                            }

                            if (rowNumber !== -1) {
                              const data = [] as any[];
                              for (const [key, value] of Object.entries(writes)) {
                                if (value === undefined || value === '') continue;
                                const colIndex = finalHeaders.indexOf(key);
                                if (colIndex === -1) continue;
                                const colLetter = columnNumberToLetter(colIndex + 1);
                                data.push({
                                  range: `${PERDECOMP_SHEET_NAME}!${colLetter}${rowNumber}`,
                                  values: [[value]],
                                });
                              }
                              if (data.length) {
                                await sheets.spreadsheets.values.batchUpdate({
                                  spreadsheetId: process.env.SPREADSHEET_ID!,
                                  requestBody: { valueInputOption: 'RAW', data },
                                });
                              }
                            } else {
                              const row: Record<string, any> = {};
                              finalHeaders.forEach(h => (row[h] = ''));
                              row['Cliente_ID'] = clienteId;
                              row['Nome da Empresa'] = nomeEmpresa;
                              row['CNPJ'] = `'${cnpj}`;
                              for (const [k, v] of Object.entries(writes)) {
                                if (v !== undefined) row[k] = v;
                              }
                              const values = finalHeaders.map(h => row[h]);
                              await sheets.spreadsheets.values.append({
                                spreadsheetId: process.env.SPREADSHEET_ID!,
                                range: PERDECOMP_SHEET_NAME,
                                valueInputOption: 'RAW',
                                requestBody: { values: [values] },
                              });
                            }

                            const resp: any = {
                              ok: true,
                              header: { requested_at: headerRequestedAt },
                              mappedCount,
                              total_perdcomp: totalPerdcomp,
                              site_receipt: siteReceipt,
                              perdcomp: perdcompArray,
                              perdcompResumo: resumo,
                              primeiro: {
                                perdcomp: first?.perdcomp,
                                solicitante: first?.solicitante,
                                tipo_documento: first?.tipo_documento,
                                tipo_credito: first?.tipo_credito,
                                data_transmissao: first?.data_transmissao,
                                situacao: first?.situacao,
                                situacao_detalhamento: first?.situacao_detalhamento,
                              },
                              cnpj,
                            };
                            if (debugMode) {
                              resp.debug = {
                                requestedAt,
                                fonte: 'api',
                                apiRequest,
                                apiResponse,
                                mappedCount,
                                siteReceipts: apiResponse?.site_receipts,
                                header: apiResponse?.header,
                                total_perdcomp: totalPerdcomp,
                                perdcompResumo: resumo,
                              };
                            }

                            return NextResponse.json(resp);

                          } catch (error: any) {
                            console.error('[API /infosimples/perdcomp]', error);
                            return NextResponse.json(
                              {
                                error: true,
                                httpStatus: 502,
                                httpStatusText: 'Bad Gateway',
                                providerCode: null,
                                providerMessage: error?.message || 'API error',
                              },
                              { status: 502 }
                            );
                          }
                        }

                    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÅ perdecomp
                üìÅ salvar
                    üìÑ route.ts
                    ‚îî‚îÄ‚îÄ Conte√∫do:
                        import { NextResponse } from 'next/server';
                        import { appendSheetData } from '../../../../lib/googleSheets.js';

                        const PERDECOMP_SHEET_NAME = 'PERDECOMP';

                        const PERDECOMP_HEADERS = [
                          'Cliente_ID', 'Nome da Empresa', 'Perdcomp_ID', 'CNPJ', 'Tipo_Pedido',
                          'Situacao', 'Periodo_Inicio', 'Periodo_Fim', 'Valor_Total', 'Numero_Processo',
                          'Data_Protocolo', 'Ultima_Atualizacao', 'Quantidade_Receitas', 'Quantidade_Origens',
                          'Quantidade_DARFs', 'URL_Comprovante_HTML', 'URL_Comprovante_PDF', 'Data_Consulta'
                        ];

                        export async function POST(request: Request) {
                          try {
                            const body = await request.json();
                            const { linhas } = body;

                            if (!linhas || !Array.isArray(linhas) || linhas.length === 0) {
                              return NextResponse.json({ ok: false, message: 'Payload inv√°lido: "linhas" deve ser um array n√£o-vazio.' }, { status: 400 });
                            }

                            const rowsToAppend = linhas.map((linha: any) => {
                              // Ensure the object has keys for all headers, even if they are empty
                              const fullLinha = PERDECOMP_HEADERS.reduce((acc, header) => {
                                acc[header] = linha[header] ?? '';
                                return acc;
                              }, {} as { [key: string]: any });

                              // Validate that the provided line is not malformed
                              if (Object.keys(linha).length > PERDECOMP_HEADERS.length) {
                                  // This is a simple check. A more robust one would check for unexpected keys.
                              }

                              return PERDECOMP_HEADERS.map(header => fullLinha[header]);
                            });

                            // The appendSheetData function expects an array of arrays.
                            await appendSheetData(PERDECOMP_SHEET_NAME, rowsToAppend);

                            return NextResponse.json({ ok: true, inseridos: rowsToAppend.length });
                          } catch (error) {
                            console.error('[API /perdecomp/salvar]', error);
                            const errorMessage = error instanceof Error ? error.message : 'An unknown error occurred';
                            return NextResponse.json({ ok: false, message: errorMessage }, { status: 500 });
                          }
                        }

                    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                üìÅ verificar
                    üìÑ route.ts
                    ‚îî‚îÄ‚îÄ Conte√∫do:
                        import { NextResponse } from 'next/server';
                        import { getSheetData } from '../../../../lib/googleSheets.js';
                        import { padCNPJ14 } from '@/utils/cnpj';

                        const PERDECOMP_SHEET_NAME = 'PERDECOMP';

                        export async function GET(request: Request) {
                          const { searchParams } = new URL(request.url);
                          const cnpj = searchParams.get('cnpj')?.trim();

                          if (!cnpj) {
                            return NextResponse.json({ message: 'Query parameter "cnpj" is required' }, { status: 400 });
                          }

                          const cleanCnpj = padCNPJ14(cnpj);

                          try {
                            const { rows } = await getSheetData(PERDECOMP_SHEET_NAME);

                            const dataForCnpj = rows.filter(row => {
                              const rowCnpj = padCNPJ14(row.CNPJ);
                              return rowCnpj === cleanCnpj;
                            });

                            if (dataForCnpj.length === 0) {
                              return NextResponse.json({ lastConsultation: null });
                            }

                            // Find the most recent consultation date
                            const mostRecentConsultation = dataForCnpj.reduce((latest, row) => {
                              const currentDate = new Date(row.Data_Consulta);
                              if (!latest || currentDate > new Date(latest)) {
                                return row.Data_Consulta;
                              }
                              return latest;
                            }, '' as string | null);

                            return NextResponse.json({ lastConsultation: mostRecentConsultation });

                          } catch (error) {
                            console.error('[API /perdecomp/verificar]', error);
                            const errorMessage = error instanceof Error ? error.message : 'An unknown error occurred';
                            return NextResponse.json({ message: 'Failed to verify consultation', error: errorMessage }, { status: 500 });
                          }
                        }

                    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÅ spoter
                üìÅ oportunidades
                    üìÑ route.js
                    ‚îî‚îÄ‚îÄ Conte√∫do:
                        import { NextResponse } from 'next/server';
                        import { spotterPost } from '@/lib/exactSpotter';
                        import { normalizePhoneList } from '@/utils/telefone.js';

                        // Mapping from user-facing layout names to the actual API field names
                        const apiFieldMap = {
                          "Nome do Lead": "name",
                          "Origem": "source",
                          "Sub-Origem": "subSource",
                          "Mercado": "industry",
                          "Produto": "leadProduct",
                          "Site": "website",
                          "Pa√≠s": "country",
                          "Estado": "state",
                          "Cidade": "city",
                          "Logradouro": "address",
                          "N√∫mero": "addressNumber",
                          "Bairro": "neighborhood",
                          "Complemento": "addressComplement",
                          "CEP": "zipcode",
                          "DDI": "ddiPhone",
                          "Telefones": "phone",
                          "Observa√ß√£o": "description",
                          "CPF/CNPJ": "cpfcnpj",
                          "Nome Contato": "personName", // Assuming, not in doc example but logical
                          "E-mail Contato": "personEmail", // Assuming
                          "Cargo Contato": "personRole", // Assuming
                          "DDI Contato": "personDdiPhone", // Assuming
                          "Telefones Contato": "personPhone", // Assuming
                          "√Årea": "area", // Not in doc, but in user's layout
                          "Nome da Empresa": "companyName", // Not in doc, but in user's layout
                          "Etapa": "stage",
                          "Funil": "funnelId", // The API expects an ID here, might need adjustment
                          "Email Pr√©-vendedor": "sdrEmail",
                          // Fields not in the modal form but in the API docs
                          "organizationId": null,
                          "sdrEmail": null,
                          "group": null,
                          "mktLink": null,
                          "ddiPhone2": null,
                          "phone2": null
                        };


                        function validatePayload(p) {
                          const errs = [];
                          const requiredFields = ["Nome do Lead", "Origem", "Mercado", "Telefones", "√Årea", "Etapa"];

                          for (const f of requiredFields) {
                            if (!p[f] || String(p[f]).trim() === "") {
                              errs.push({ field: f, message: "Campo obrigat√≥rio" });
                            }
                          }

                          const { "Pa√≠s": pais, "Estado": uf, "Cidade": cidade } = p;
                          if (pais || uf || cidade) {
                            if (!pais) errs.push({ field: "Pa√≠s", message: "Obrigat√≥rio quando Estado/Cidade forem informados" });
                            if (!uf) errs.push({ field: "Estado", message: "Obrigat√≥rio quando Pa√≠s/Cidade forem informados" });
                            if (!cidade) errs.push({ field: "Cidade", message: "Obrigat√≥rio quando Pa√≠s/Estado forem informados" });
                          }

                          const hasContactInfo = ["E-mail Contato", "Telefones Contato", "Cargo Contato"].some(f => p[f] && String(p[f]).trim() !== "");
                          if (hasContactInfo && (!p["Nome Contato"] || String(p["Nome Contato"]).trim() === "")) {
                            errs.push({ field: "Nome Contato", message: "Obrigat√≥rio quando h√° dados de contato" });
                          }

                          const tipoCom = !!(p["Tipo do Serv. Comunica√ß√£o"] && String(p["Tipo do Serv. Comunica√ß√£o"]).trim());
                          const idCom = !!(p["ID do Serv. Comunica√ß√£o"] && String(p["ID do Serv. Comunica√ß√£o"]).trim());
                          if (tipoCom !== idCom) {
                            errs.push({ field: "Tipo/ID do Serv. Comunica√ß√£o", message: "Informe o par: Tipo e ID, ou nenhum" });
                          }

                          return errs;
                        }

                        export async function POST(req) {
                          try {
                            const formPayload = await req.json();

                            // 1. Normalize phone numbers first, as validation depends on them
                            formPayload["Telefones"] = normalizePhoneList(formPayload["Telefones"]);
                            formPayload["Telefones Contato"] = normalizePhoneList(formPayload["Telefones Contato"]);

                            // 2. Validate the incoming data using user-defined rules
                            const errors = validatePayload(formPayload);
                            if (errors.length > 0) {
                              return NextResponse.json({ error: 'Campos inv√°lidos', details: errors }, { status: 400 });
                            }

                            // 3. Map the validated form payload to the API payload structure
                            const apiLeadObject = {};
                            for (const layoutKey in formPayload) {
                                const apiKey = apiFieldMap[layoutKey];
                                if (apiKey) {
                                    // Ensure we don't send empty strings for optional fields, send null instead
                                    apiLeadObject[apiKey] = formPayload[layoutKey] || null;
                                }
                            }

                            // Handle the separate person fields from the docs
                            apiLeadObject.person = {
                                name: formPayload['Nome Contato'],
                                email: formPayload['E-mail Contato'],
                                role: formPayload['Cargo Contato'],
                                ddiPhone: formPayload['DDI Contato'],
                                phone: formPayload['Telefones Contato']
                            };

                            // The documentation shows the contact fields are not top-level
                            // but I can't see where they go. The example has no "person" object.
                            // I will assume for now they are top-level with a "person" prefix.
                            // Re-reading docs: `name` is `Nome do lead`. `industry` is `Mercado`.
                            // The example body has no separate person object. It seems the fields are flat.
                            // I will remap based on the documentation fields.
                            const finalApiPayload = {
                                name: formPayload["Nome do Lead"],
                                industry: formPayload["Mercado"],
                                source: "Lista Francisco",
                                subSource: formPayload["Sub-Origem"],
                                website: formPayload["Site"],
                                leadProduct: formPayload["Produto"],
                                address: formPayload["Logradouro"],
                                addressNumber: formPayload["N√∫mero"],
                                addressComplement: formPayload["Complemento"],
                                neighborhood: formPayload["Bairro"],
                                zipcode: formPayload["CEP"],
                                city: formPayload["Cidade"],
                                state: formPayload["Estado"],
                                country: formPayload["Pa√≠s"],
                                description: formPayload["Observa√ß√£o"],
                                cpfcnpj: formPayload["CPF/CNPJ"],
                                funnelId: null, // Padr√£o
                                stage: "Entrada",
                                sdrEmail: formPayload["Email Pr√©-vendedor"],
                                // The docs show ddiPhone and phone separately. My normalizer combines them.
                                // I will send the combined number in `phone` and the DDI separately.
                                ddiPhone: formPayload["Telefones"] ? '55' : null,
                                phone: formPayload["Telefones"] ? formPayload["Telefones"].replace(/^55/, '') : null,
                                // There are no contact-specific fields in the final API payload example.
                                // I will omit them for now to match the documentation.
                            };

                            // 4. Wrap the final payload in the required structure
                            const requestBody = {
                                duplicityValidation: true,
                                lead: finalApiPayload
                            };

                            // 5. Use the centralized service to make the API call
                            const created = await spotterPost('LeadsAdd', requestBody);

                            return NextResponse.json({ ok: true, data: created }, { status: 201 });
                          } catch (err) {
                            return NextResponse.json({ error: err.message || 'Erro interno no servidor' }, { status: 500 });
                          }
                        }

                    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÅ clientes
            üìÑ page.jsx
            ‚îî‚îÄ‚îÄ Conte√∫do:
                'use client';
                import { useEffect, useState } from 'react';
                import { FaSpinner } from 'react-icons/fa';
                import ClientCard from '../../components/ClientCard';
                import Filters from '../../components/Filters';
                import NewCompanyModal from '../../components/NewCompanyModal';
                import EnrichmentPreviewDialog from '../../components/EnrichmentPreviewDialog';
                import { decideCNPJFinal } from '@/helpers/decideCNPJ';

                async function openConfirmDialog({ title, description, confirmText, cancelText }) {
                  const msg = `${title}\n\n${description}\n\n[OK] ${confirmText}\n[Cancelar] ${cancelText}`;
                  return window.confirm(msg) ? 'confirm' : 'cancel';
                }

                export default function ClientesPage() {
                  const [clients, setClients] = useState([]);
                  const [filtered, setFiltered] = useState([]);
                  const [query, setQuery] = useState('');

                  // State for modals
                  const [companyModalOpen, setCompanyModalOpen] = useState(false);
                  const [companyPrefill, setCompanyPrefill] = useState(null);
                  const [enrichPreview, setEnrichPreview] = useState(null);
                  const [showEnrichPreview, setShowEnrichPreview] = useState(false);
                  const [isEnriching, setIsEnriching] = useState(false);

                  const fetchClients = () => {
                    fetch('/api/clientes')
                      .then((res) => res.json())
                      .then((data) => {
                        setClients(data.clients);
                        setFiltered(data.clients);
                      });
                  };

                  useEffect(() => {
                    fetchClients();
                  }, []);

                  const handleFilter = ({ query, segmento, porte, uf, cidade }) => {
                    setQuery(query); // Keep track of the query for the "no results" case
                    let result = clients.filter((client) => {
                      if (segmento && segmento.trim() && (client.segment || '').trim().toLowerCase() !== segmento.trim().toLowerCase()) return false;
                      if (porte && porte.length > 0 && !porte.map(p => p.toLowerCase()).includes((client.size || '').trim().toLowerCase())) return false;
                      if (uf && uf.trim() && (client.uf || '').trim().toLowerCase() !== uf.trim().toLowerCase()) return false;
                      if (cidade && cidade.trim() && (client.city || '').trim().toLowerCase() !== cidade.trim().toLowerCase()) return false;
                      if (query) {
                        const q = query.toLowerCase();
                        const matchName = (client.company || '').toLowerCase().includes(q);
                        const matchContact = (client.contacts || []).some((c) => (c.name || c.nome || '').toLowerCase().includes(q));
                        const matchOpp = (client.opportunities || []).some((o) => (o || '').toLowerCase().includes(q));
                        if (!matchName && !matchContact && !matchOpp) return false;
                      }
                      return true;
                    });
                    setFiltered(result);
                  };

                  const handleEnrichQuery = async () => {
                    if (!query) return;
                    setIsEnriching(true);
                    try {
                      const resp = await fetch('/api/empresas/enriquecer', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ nome: query })
                      });
                      const json = await resp.json();
                      if (!resp.ok) throw new Error(json?.error || 'Falha ao enriquecer');
                      setEnrichPreview({ ...json, base: { Nome_da_Empresa: query } });
                      setShowEnrichPreview(true);
                    } catch (e) {
                      console.error(e);
                      setEnrichPreview({ error: e?.toString?.() || 'Erro ao enriquecer', base: { Nome_da_Empresa: query } });
                      setShowEnrichPreview(true);
                    } finally {
                      setIsEnriching(false);
                    }
                  };

                  const handleOpenNewCompanyModal = (initialData = {}) => {
                    setCompanyPrefill(initialData);
                    setCompanyModalOpen(true);
                  };

                  const handleSaveNewCompany = () => {
                    setCompanyModalOpen(false);
                    setCompanyPrefill(null);
                    // Refetch clients to show the new one
                    fetchClients();
                  };

                  return (
                    <div className="p-4 space-y-4">
                      <div className="flex">
                        <div
                          className="ml-auto text-2xl md:text-3xl font-semibold tracking-tight"
                          aria-label="Total de clientes exibidos"
                          data-testid="total-clientes-exibidos"
                          title="Quantidade de clientes atualmente exibidos, ap√≥s a aplica√ß√£o de filtros"
                        >
                          TOTAL DE CLIENTES EXIBIDOS: <span className="tabular-nums">{filtered.length}</span>
                        </div>
                      </div>
                      <Filters onFilter={handleFilter} />

                      {filtered.length === 0 && query && (
                        <div className="text-center py-10">
                          <p className="mb-4">Nenhum cliente encontrado para "<strong>{query}</strong>".</p>
                          <div className="flex justify-center gap-4">
                            <button
                              onClick={() => handleOpenNewCompanyModal()}
                              className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
                            >
                              Cadastrar Novo
                            </button>
                            <button
                              onClick={handleEnrichQuery}
                              disabled={isEnriching}
                              className="px-4 py-2 bg-violet-600 text-white rounded hover:bg-violet-700 disabled:bg-gray-400 flex items-center"
                            >
                              {isEnriching && <FaSpinner className="animate-spin mr-2" />}
                              Enriquecer
                            </button>
                          </div>
                        </div>
                      )}

                      <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                        {filtered.map((client) => (
                          <ClientCard key={client.id} client={client} />
                        ))}
                      </div>

                      <NewCompanyModal
                        isOpen={companyModalOpen}
                        initialData={companyPrefill || undefined}
                        onClose={() => {
                          setCompanyModalOpen(false);
                          setCompanyPrefill(null);
                        }}
                        onSaved={handleSaveNewCompany}
                      />

                      <EnrichmentPreviewDialog
                        isOpen={showEnrichPreview}
                        onClose={() => setShowEnrichPreview(false)}
                        suggestionFlat={enrichPreview?.suggestion || null}
                        rawJson={enrichPreview?.debug?.parsedJson}
                        error={enrichPreview?.error ? String(enrichPreview.error) : undefined}
                        onConfirm={async (flat) => {
                          const merged = { ...enrichPreview.base, ...flat };
                          const cnpjFinal = await decideCNPJFinal({
                            currentFormCNPJ: merged?.CNPJ_Empresa,
                            enrichedCNPJ: flat?.CNPJ_Empresa ?? flat?.cnpj,
                            ask: async (matriz, filial) => {
                              const choice = await openConfirmDialog({
                                title: 'CNPJ indica Filial',
                                description: `Detectamos FILIAL (${filial}). Deseja salvar como filial mesmo?\nSe preferir Matriz, salvaremos ${matriz}.`,
                                confirmText: 'Usar Matriz',
                                cancelText: 'Manter Filial',
                              });
                              return choice === 'confirm';
                            },
                          });
                          const mergedWithCnpj = { ...merged, CNPJ_Empresa: cnpjFinal };
                          handleOpenNewCompanyModal(mergedWithCnpj);
                          setShowEnrichPreview(false);
                        }}
                      />
                    </div>
                  );
                }


            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ page.test.jsx
            ‚îî‚îÄ‚îÄ Conte√∫do:
                /** @jest-environment jsdom */
                import { render, screen, waitFor } from '@testing-library/react';
                import userEvent from '@testing-library/user-event';
                import '@testing-library/jest-dom';
                import ClientesPage from './page';

                jest.mock('../../components/ClientCard', () => () => <div />);
                jest.mock('../../components/NewCompanyModal', () => () => null);
                jest.mock('../../components/EnrichmentPreviewDialog', () => () => null);

                function buildClients(count, mapFn) {
                  return Array.from({ length: count }, (_, i) => ({
                    id: String(i + 1),
                    company: `Company ${i + 1}`,
                    opportunities: [],
                    contacts: [],
                    segment: '',
                    size: '',
                    uf: mapFn ? mapFn(i) : '',
                    city: '',
                  }));
                }

                describe('ClientesPage total counter', () => {
                  afterEach(() => {
                    jest.resetAllMocks();
                  });

                  test('renders total count of 4384 when no filters applied', async () => {
                    const clients = buildClients(4384);
                    global.fetch = jest.fn().mockResolvedValue({
                      json: async () => ({ clients, filters: { segmento: [], porte: [], uf: [], cidade: [] } }),
                    });

                    render(<ClientesPage />);

                    const counter = await screen.findByTestId('total-clientes-exibidos');
                    await waitFor(() =>
                      expect(counter).toHaveTextContent('TOTAL DE CLIENTES EXIBIDOS: 4384')
                    );
                  });

                  test('updates count when UF filter is applied', async () => {
                    const clients = buildClients(1200, (i) => (i < 950 ? 'SP' : 'RJ'));
                    global.fetch = jest.fn().mockResolvedValue({
                      json: async () => ({ clients, filters: { segmento: [], porte: [], uf: ['SP', 'RJ'], cidade: [] } }),
                    });

                    render(<ClientesPage />);

                    const counter = await screen.findByTestId('total-clientes-exibidos');
                    await waitFor(() =>
                      expect(counter).toHaveTextContent('TOTAL DE CLIENTES EXIBIDOS: 1200')
                    );

                    const selects = await screen.findAllByRole('combobox');
                    const ufSelect = selects[1];
                    await userEvent.selectOptions(ufSelect, 'SP');

                    await waitFor(() =>
                      expect(screen.getByTestId('total-clientes-exibidos')).toHaveTextContent(
                        'TOTAL DE CLIENTES EXIBIDOS: 950'
                      )
                    );
                  });
                });

            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÅ consultas
            üìÅ perdecomp-comparativo
                üìÑ ClientPerdecompComparativo.tsx
                ‚îî‚îÄ‚îÄ Conte√∫do:
                    'use client';

                    import { useState, useEffect } from 'react';
                    import { FaSpinner } from 'react-icons/fa';
                    import Autocomplete from '../../../components/Perdecomp/Autocomplete';
                    import NewCompanyModal from '../../../components/NewCompanyModal';
                    import CompetitorSearchDialog from '../../../components/CompetitorSearchDialog';
                    import PerdcompApiPreviewDialog from '../../../components/PerdcompApiPreviewDialog';
                    import EnrichmentPreviewDialog from '../../../components/EnrichmentPreviewDialog';
                    import { padCNPJ14, isValidCNPJ, normalizeDigits, isEmptyCNPJLike, isCNPJ14 } from '@/utils/cnpj';

                    // --- Helper Types ---
                    interface Company {
                      Cliente_ID: string;
                      Nome_da_Empresa: string;
                      CNPJ_Empresa: string;
                      [key: string]: any;
                    }

                    interface CardData {
                      lastConsultation: string | null;
                      quantity: number;
                      siteReceipt?: string | null;
                      fromCache?: boolean;
                      perdcompResumo?: {
                        total: number;
                        totalSemCancelamento: number;
                        canc: number;
                        porFamilia: { DCOMP: number; REST: number; RESSARC: number; CANC: number; DESCONHECIDO: number };
                        porNaturezaAgrupada: Record<string, number>;
                      };
                    }

                    type ApiDebug = {
                      requestedAt?: string;
                      fonte?: 'api' | 'planilha';
                      apiRequest?: any;
                      apiResponse?: any;
                      mappedCount?: number;
                      siteReceipts?: string[];
                      header?: any;
                      total_perdcomp?: number;
                    } | null;

                    interface ComparisonResult {
                      company: Company; data: CardData | null;
                      status: 'idle' | 'loading' | 'loaded' | 'error'; error?: any;
                      debug?: ApiDebug;
                    }

                    interface CompanySelection {
                      company: Company; lastConsultation: string | null; forceRefresh: boolean;
                    }

                    // Tipagem do flattened vindo do preview de enriquecimento
                    type Prefill = {
                      Nome_da_Empresa?: string;
                      Site_Empresa?: string;
                      Pais_Empresa?: string;
                      Estado_Empresa?: string;
                      Cidade_Empresa?: string;
                      Logradouro_Empresa?: string;
                      Numero_Empresa?: string;
                      Bairro_Empresa?: string;
                      Complemento_Empresa?: string;
                      CEP_Empresa?: string;
                      CNPJ_Empresa?: string;
                      DDI_Empresa?: string;
                      Telefones_Empresa?: string;
                      Observacao_Empresa?: string;
                      Nome_Contato?: string;
                      Email_Contato?: string;
                      Cargo_Contato?: string;
                      DDI_Contato?: string;
                      Telefones_Contato?: string;
                      Mercado?: string;
                      Produto?: string;
                      Area?: string;
                    };

                    function buildApiErrorLabel(e: any) {
                      const parts: string[] = [];
                      if (e?.httpStatus) {
                        parts.push(
                          `API error: ${e.httpStatus}${e.httpStatusText ? ' ' + e.httpStatusText : ''}`,
                        );
                      } else {
                        parts.push('API error:');
                      }
                      if (e?.providerCode) {
                        parts.push(
                          `‚Äì ${e.providerCode}${e?.providerMessage ? ' ' + e.providerMessage : ''}`,
                        );
                      } else if (e?.message) {
                        parts.push(`‚Äì ${e.message}`);
                      }
                      return parts.join(' ');
                    }
                    // --- Main Page Component ---
                    export default function ClientPerdecompComparativo({ initialQ = '' }: { initialQ?: string }) {
                      const [client, setClient] = useState<CompanySelection | null>(null);
                      const [competitors, setCompetitors] = useState<Array<CompanySelection | null>>([]);
                      const MAX_COMPETITORS = 3;
                      const remainingSlots = MAX_COMPETITORS - competitors.filter(c => !!c).length;
                      const [compDialogOpen, setCompDialogOpen] = useState(false);
                      const [compFetch, setCompFetch] = useState<{loading: boolean; error: string|null; items: Array<{nome:string; cnpj:string}>}>({ loading: false, error: null, items: [] });
                      const [endDate, setEndDate] = useState(new Date().toISOString().split('T')[0]);
                      const [startDate, setStartDate] = useState(() => {
                        const d = new Date();
                        d.setFullYear(d.getFullYear() - 5);
                        return d.toISOString().split('T')[0];
                      });
                      const [results, setResults] = useState<ComparisonResult[]>([]);
                      const [globalLoading, setGlobalLoading] = useState(false);
                      const [companyModalOpen, setCompanyModalOpen] = useState(false);
                      const [companyPrefill, setCompanyPrefill] = useState<Prefill | null>(null);
                      const [modalWarning, setModalWarning] = useState(false);
                      const [modalTarget, setModalTarget] = useState<{ type: 'client' | 'competitor'; index?: number } | null>(null);
                      const [isEnriching, setIsEnriching] = useState(false);
                      const [enrichTarget, setEnrichTarget] = useState<string | null>(null);
                      const [enrichPreview, setEnrichPreview] = useState<any>(null);
                      const [showEnrichPreview, setShowEnrichPreview] = useState(false);
                      const [isDateAutomationEnabled, setIsDateAutomationEnabled] = useState(true);
                      const [previewOpen, setPreviewOpen] = useState(false);
                      const [previewPayload, setPreviewPayload] = useState<{ company: Company; debug: ApiDebug } | null>(null);
                      const [openCancel, setOpenCancel] = useState(false);
                      const [cancelCount, setCancelCount] = useState(0);
                      const showDebug = false;
                      const q: string = initialQ;

                      // chamado pelo preview ao clicar "Usar e abrir cadastro"
                      const handleUseSuggestion = (flat: Prefill) => {
                        setCompanyPrefill(flat);
                        setCompanyModalOpen(true);
                      };

                      useEffect(() => {
                        if (isDateAutomationEnabled) {
                          const end = new Date(endDate);
                          end.setFullYear(end.getFullYear() - 5);
                          setStartDate(end.toISOString().split('T')[0]);
                        }
                      }, [endDate, isDateAutomationEnabled]);

                      const handleDateChange = (field: 'start' | 'end', value: string) => {
                        let newStartDate = startDate;
                        let newEndDate = endDate;

                        if (field === 'start') newStartDate = value;
                        else newEndDate = value;

                        const start = new Date(newStartDate);
                        const end = new Date(newEndDate);

                        const diffYears = (end.getTime() - start.getTime()) / (1000 * 60 * 60 * 24 * 365.25);

                        if (diffYears < 5) {
                          const userConfirmed = window.confirm("Deseja realmente investigar um per√≠odo menor que 05 anos?");
                          if (userConfirmed) {
                            setIsDateAutomationEnabled(false);
                            setStartDate(newStartDate);
                            setEndDate(newEndDate);
                          } else {
                            return;
                          }
                        } else {
                          setIsDateAutomationEnabled(true);
                          setStartDate(newStartDate);
                          setEndDate(newEndDate);
                        }
                      };

                      const updateResult = (cnpj: string, data: Partial<ComparisonResult>) => {
                        const c14 = padCNPJ14(cnpj);
                        setResults(prev => prev.map(r => padCNPJ14(r.company.CNPJ_Empresa) === c14 ? { ...r, ...data } : r));
                      };

                      const runConsultation = async (selection: CompanySelection) => {
                        const { company, forceRefresh } = selection;
                        const cnpj = padCNPJ14(company.CNPJ_Empresa);
                        if (!isValidCNPJ(cnpj)) {
                          updateResult(cnpj, { status: 'error', error: { message: 'CNPJ inv√°lido. Verifique e tente novamente.' } });
                          return;
                        }
                        updateResult(cnpj, { status: 'loading' });
                        try {
                          const res = await fetch('/api/infosimples/perdcomp', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                              cnpj,
                              data_inicio: startDate,
                              data_fim: endDate,
                              force: forceRefresh,
                              debug: showDebug,
                              Cliente_ID: company.Cliente_ID,
                              nomeEmpresa: company.Nome_da_Empresa,
                            }),
                          });
                          const data = await res.json();
                          if (!res.ok || data.error) {
                            const errorObj = {
                              httpStatus: data?.httpStatus,
                              httpStatusText: data?.httpStatusText,
                              providerCode: data?.providerCode,
                              providerMessage: data?.providerMessage,
                              message: data?.message,
                            };
                            // Special handling for non-critical "no data" error when we have fallback data
                            const isNoDataError = errorObj.providerCode === 612;

                            if (data.fallback) {
                              const dcomp = data.fallback.dcomp ?? 0;
                              const rest = data.fallback.rest ?? 0;
                              const ressarc = data.fallback.ressarc ?? 0;
                              const canc = data.fallback.canc ?? 0;
                              const porFamilia = {
                                DCOMP: dcomp,
                                REST: rest,
                                RESSARC: ressarc,
                                CANC: canc,
                                DESCONHECIDO: 0,
                              };
                              const porNaturezaAgrupada = {
                                '1.3/1.7': dcomp,
                                '1.2/1.6': rest,
                                '1.1/1.5': ressarc,
                              };
                              const resumo = {
                                total: dcomp + rest + ressarc + canc,
                                totalSemCancelamento:
                                  data.fallback.quantidade ?? dcomp + rest + ressarc,
                                canc,
                                porFamilia,
                                porNaturezaAgrupada,
                              };
                              const cardData: CardData = {
                                quantity: resumo.totalSemCancelamento,
                                lastConsultation: data.fallback.requested_at ?? null,
                                siteReceipt: data.fallback.site_receipt ?? null,
                                fromCache: true,
                                perdcompResumo: resumo,
                              };
                              // Do not show a scary error message for a simple "no data found"
                              updateResult(cnpj, { status: 'loaded', data: cardData, error: isNoDataError ? null : errorObj });
                            } else {
                              updateResult(cnpj, { status: 'error', error: errorObj });
                            }
                            return;
                          }

                          const firstLinha = Array.isArray(data.linhas) ? data.linhas[0] : undefined;
                          const mappedCount =
                            data.mappedCount ??
                            data.debug?.mappedCount ??
                            (Array.isArray(data.linhas) ? data.linhas.length : 0);
                          const totalPerdcomp =
                            data.total_perdcomp ??
                            data.debug?.total_perdcomp ??
                            0;
                          const siteReceipt =
                            (data.site_receipt ??
                              data.debug?.siteReceipts?.[0] ??
                              firstLinha?.URL_Comprovante_HTML) || null;
                          const lastConsultation =
                            data.header?.requested_at ||
                            data.debug?.header?.requested_at ||
                            firstLinha?.Data_Consulta ||
                            null;
                          const resumo = data.perdcompResumo;
                          const cardData: CardData = {
                            quantity: resumo?.totalSemCancelamento ?? Math.max(totalPerdcomp, mappedCount),
                            lastConsultation,
                            siteReceipt,
                            perdcompResumo: resumo,
                          };
                          updateResult(cnpj, { status: 'loaded', data: cardData, debug: showDebug ? data.debug ?? null : null });

                          if (showDebug && forceRefresh && (totalPerdcomp === 0 || !data.debug?.apiResponse)) {
                            setPreviewPayload({ company, debug: data.debug ?? null });
                            setPreviewOpen(true);
                          }

                        } catch (e: any) {
                          updateResult(cnpj, { status: 'error', error: { message: e.message } });
                        }
                      };

                      function sleep(ms: number) {
                        return new Promise(resolve => setTimeout(resolve, ms));
                      }

                      const handleConsult = async () => {
                        const allSelections = [client, ...competitors].filter((c): c is CompanySelection => c !== null);
                        if (allSelections.length === 0) return;

                        setGlobalLoading(true);
                        setResults(allSelections.map(s => ({ company: { ...s.company, CNPJ_Empresa: padCNPJ14(s.company.CNPJ_Empresa) }, data: null, status: 'idle', debug: null })));

                        for (const sel of allSelections) {
                          try {
                            await runConsultation(sel);
                            await sleep(600);
                          } catch (e) {
                            console.error('Falha ao consultar CNPJ', sel.company.CNPJ_Empresa, e);
                            await sleep(600);
                          }
                        }

                        setGlobalLoading(false);
                      };

                      const handleAddCompetitor = () => {
                        if (competitors.length < MAX_COMPETITORS) setCompetitors([...competitors, null]);
                      };

                      const handleRemoveCompetitor = (index: number) => {
                        setCompetitors(competitors.filter((_, i) => i !== index));
                      };

                      const handleCompetitorChange = (index: number, data: Partial<CompanySelection>) => {
                        setCompetitors(prev => prev.map((c, i) => i === index ? { ...c!, ...data } : c));
                      };

                      function openCompetitorDialog() {
                        if (!client || remainingSlots <= 0) return;
                        setCompDialogOpen(true);
                        setCompFetch({ loading: true, error: null, items: [] });

                        fetch('/api/empresas/concorrentes', {
                          method: 'POST',
                          headers: { 'Content-Type': 'application/json' },
                          body: JSON.stringify({ nome: client.company.Nome_da_Empresa, max: 20 })
                        })
                        .then(async (r) => {
                          const data = await r.json();
                          if (!r.ok) throw new Error(data?.error || 'Falha na busca');
                          const selCnpjs = new Set(competitors.filter(Boolean).map(c => padCNPJ14(c!.company.CNPJ_Empresa)));
                          const clientCnpj = padCNPJ14(client.company.CNPJ_Empresa);

                          const items = (data.items || []).filter((it: any) => {
                            const c = padCNPJ14(it?.cnpj);
                            const isClient = c && clientCnpj && c === clientCnpj;
                            const already = c && selCnpjs.has(c);
                            const nameDup = competitors.filter(Boolean).some(cmp => cmp!.company.Nome_da_Empresa.toLowerCase() === String(it?.nome || '').toLowerCase());
                            return !isClient && !already && !nameDup;
                          });

                          setCompFetch({ loading: false, error: null, items });
                        })
                        .catch(err => setCompFetch({ loading: false, error: String(err?.message || err), items: [] }));
                      }

                      function closeCompetitorDialog() {
                        setCompDialogOpen(false);
                      }

                      function confirmCompetitors(selected: Array<{ nome:string; cnpj:string }>) {
                        const next = [...competitors];
                        let idx = 0;
                        for (let i = 0; i < next.length && idx < selected.length; i++) {
                          if (!next[i]) {
                            const s = selected[idx++];
                            next[i] = {
                              company: {
                                Cliente_ID: `COMP-${(s.cnpj || s.nome).replace(/\W+/g,'').slice(0,20)}`,
                                Nome_da_Empresa: s.nome,
                                CNPJ_Empresa: padCNPJ14(s.cnpj),
                              },
                              lastConsultation: null,
                              forceRefresh: false,
                            };
                          }
                        }
                        while (next.length < MAX_COMPETITORS && idx < selected.length) {
                          const s = selected[idx++];
                          next.push({
                            company: {
                              Cliente_ID: `COMP-${(s.cnpj || s.nome).replace(/\W+/g,'').slice(0,20)}`,
                              Nome_da_Empresa: s.nome,
                              CNPJ_Empresa: padCNPJ14(s.cnpj),
                            },
                            lastConsultation: null,
                            forceRefresh: false,
                          });
                        }
                        setCompetitors(next.slice(0, MAX_COMPETITORS));
                        setCompDialogOpen(false);
                      }

                      const checkLastConsultation = async (cnpj: string): Promise<string | null> => {
                        try {
                          const c = padCNPJ14(cnpj);
                          const res = await fetch(`/api/perdecomp/verificar?cnpj=${c}`);
                          if (res.ok) {
                            const { lastConsultation } = await res.json();
                            return lastConsultation;
                          }
                          return null;
                        } catch (error) {
                          console.error('Failed to check last consultation', error);
                          return null;
                        }
                      };

                      function mergeEmptyFields(base: any, sug: any) {
                        const out = { ...base };
                        Object.keys(sug || {}).forEach(k => {
                          const cur = String(out[k] ?? '').trim();
                          const val = String(sug[k] ?? '').trim();
                          if (k === 'CNPJ_Empresa') {
                            const curDigits = normalizeDigits(cur);
                            const valDigits = normalizeDigits(val);
                            if (isEmptyCNPJLike(curDigits) && isCNPJ14(valDigits)) {
                              out[k] = valDigits;
                            }
                          } else if (!cur && val) {
                            out[k] = val;
                          }
                        });
                        return out;
                      }

                      function openNewCompanyModal(opts: { initialData: any; warning?: boolean; target: { type: 'client' | 'competitor'; index?: number } }) {
                        setCompanyPrefill(opts.initialData);
                        setModalWarning(!!opts.warning);
                        setModalTarget(opts.target);
                        setCompanyModalOpen(true);
                      }

                      async function handleRegisterNewFromQuery(query: string, target: { type: 'client' | 'competitor'; index?: number }) {
                        setIsEnriching(true);
                        setEnrichTarget(target.type === 'client' ? 'client' : `competitor-${target.index}`);
                        try {
                          const r = await fetch('/api/empresas/enriquecer', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ nome: query })
                          });
                          const { suggestion } = await r.json();
                          openNewCompanyModal({ initialData: suggestion ?? { Nome_da_Empresa: query }, warning: !suggestion, target });
                        } catch {
                          openNewCompanyModal({ initialData: { Nome_da_Empresa: query }, warning: true, target });
                        } finally {
                          setIsEnriching(false);
                          setEnrichTarget(null);
                        }
                      }

                      async function handleEnrichFromMain(source: 'selected' | 'query', selectedCompany?: Company, rawQuery?: string, target?: { type: 'client' | 'competitor'; index?: number }) {
                        let nome = '';
                        let cnpj = '';
                        if (source === 'selected' && selectedCompany) {
                          nome = selectedCompany.Nome_da_Empresa || '';
                          cnpj = padCNPJ14(selectedCompany.CNPJ_Empresa);
                        } else if (source === 'query' && rawQuery) {
                          nome = rawQuery.trim();
                        }
                        if (!nome && !cnpj) return;

                        setIsEnriching(true);
                        setEnrichTarget(target ? (target.type === 'client' ? 'client' : `competitor-${target.index}`) : null);
                        try {
                          const resp = await fetch('/api/empresas/enriquecer', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ nome, cnpj })
                          });
                          const json = await resp.json();
                          if (!resp.ok) throw new Error(json?.error || 'Falha ao enriquecer');
                          setEnrichPreview({ ...json, base: selectedCompany });
                          setShowEnrichPreview(true);
                          setModalTarget(target || null);
                        } catch (e: any) {
                          console.error(e);
                          setEnrichPreview({ error: e?.toString?.() || 'Erro ao enriquecer', base: selectedCompany });
                          setShowEnrichPreview(true);
                          setModalTarget(target || null);
                        } finally {
                          setIsEnriching(false);
                          setEnrichTarget(null);
                        }
                      }

                      const handleSelectCompany = async (type: 'client' | 'competitor', company: Company, index?: number) => {
                        const cnpj = padCNPJ14(company.CNPJ_Empresa);
                        const normalized = { ...company, CNPJ_Empresa: cnpj };
                        const lastConsultation = await checkLastConsultation(cnpj);
                        const selection: CompanySelection = { company: normalized, lastConsultation, forceRefresh: false };
                        if (type === 'client') {
                          setClient(selection);
                        } else if (type === 'competitor' && index !== undefined) {
                          setCompetitors(prev => prev.map((c, i) => i === index ? selection : c));
                        }
                      };

                      const handleSaveNewCompany = (newCompany: Company) => {
                        if (modalTarget?.type === 'competitor' && modalTarget.index !== undefined) {
                          handleSelectCompany('competitor', newCompany, modalTarget.index);
                        } else {
                          handleSelectCompany('client', newCompany);
                        }
                        setCompanyModalOpen(false);
                        setCompanyPrefill(null);
                        setModalTarget(null);
                      };

                      useEffect(() => {
                        if (!q) return;
                        (async () => {
                          try {
                            const res = await fetch(`/api/clientes/buscar?q=${encodeURIComponent(q)}`);
                            if (res.ok) {
                              const data = await res.json();
                              if (Array.isArray(data) && data.length > 0) {
                                await handleSelectCompany('client', data[0]);
                                handleConsult();
                              }
                            }
                          } catch (err) {
                            console.error('Erro ao pr√©-preencher busca', err);
                          }
                        })();
                      }, [q]);

                      return (
                        <div className="container mx-auto p-4 text-gray-900 dark:text-gray-100">
                          <h1 className="text-3xl font-bold mb-6">Comparativo PER/DCOMP</h1>
                          <div className="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                              <div>
                                <label className="font-semibold block mb-2">Cliente Principal</label>
                                <div className="flex items-center gap-2">
                                  <div className="flex-grow">
                                    <Autocomplete
                                      selectedCompany={client?.company ?? null}
                                      onSelect={(company) => handleSelectCompany('client', company)}
                                      onClear={() => setClient(null)}
                                      onNoResults={(q) => handleRegisterNewFromQuery(q, { type: 'client' })}
                                      onEnrichSelected={(company) => handleEnrichFromMain('selected', company, undefined, { type: 'client' })}
                                      onEnrichQuery={(q) => handleEnrichFromMain('query', undefined, q, { type: 'client' })}
                                      isEnriching={isEnriching && enrichTarget === 'client'}
                                      initialQuery={q}
                                    />
                                  </div>
                                </div>
                                {client?.lastConsultation && (
                                  <div className="mt-2 text-sm text-gray-500 dark:text-gray-400">
                                    <label className="flex items-center gap-2">
                                      <input type="checkbox" checked={client.forceRefresh} onChange={(e) => setClient(c => c ? {...c, forceRefresh: e.target.checked} : null)} className="form-checkbox h-4 w-4 text-violet-600"/>
                                      <span>Refazer consulta (√∫ltima em: {new Date(client.lastConsultation).toLocaleDateString()})</span>
                                    </label>
                                  </div>
                                )}
                              </div>
                              <div className="grid grid-cols-2 gap-4">
                                <div>
                                  <label htmlFor="endDate" className="font-semibold block mb-2">Per√≠odo Fim</label>
                                  <input type="date" id="endDate" value={endDate} onChange={(e) => handleDateChange('end', e.target.value)} className="w-full p-2 border rounded bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600" />
                                </div>
                                <div>
                                  <label htmlFor="startDate" className="font-semibold block mb-2">Per√≠odo In√≠cio</label>
                                  <input type="date" id="startDate" value={startDate} onChange={(e) => handleDateChange('start', e.target.value)} className="w-full p-2 border rounded bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600" />
                                </div>
                              </div>
                            </div>
                            <div className="mt-6">
                              <h3 className="font-semibold mb-2">Concorrentes (at√© 3)</h3>
                              {competitors.map((comp, index) => (
                                <div key={index} className="mb-4">
                                  <div className="flex items-center gap-2">
                                    <div className="flex-grow">
                                      <Autocomplete
                                        selectedCompany={comp?.company ?? null}
                                        onSelect={(company) => handleSelectCompany('competitor', company, index)}
                                        onClear={() => handleRemoveCompetitor(index)}
                                        onNoResults={(q) => handleRegisterNewFromQuery(q, { type: 'competitor', index })}
                                        onEnrichSelected={(company) => handleEnrichFromMain('selected', company, undefined, { type: 'competitor', index })}
                                        onEnrichQuery={(q) => handleEnrichFromMain('query', undefined, q, { type: 'competitor', index })}
                                        isEnriching={isEnriching && enrichTarget === `competitor-${index}`}
                                      />
                                    </div>
                                    <button onClick={() => handleRemoveCompetitor(index)} className="text-red-500 hover:text-red-700 font-bold p-2">X</button>
                                  </div>
                                  {comp?.lastConsultation && (
                                    <div className="mt-2 text-sm text-gray-500 dark:text-gray-400">
                                      <label className="flex items-center gap-2">
                                        <input type="checkbox" checked={comp.forceRefresh} onChange={(e) => handleCompetitorChange(index, { forceRefresh: e.target.checked })} className="form-checkbox h-4 w-4 text-violet-600"/>
                                        <span>Refazer consulta (√∫ltima em: {new Date(comp.lastConsultation).toLocaleDateString()})</span>
                                      </label>
                                    </div>
                                  )}
                                </div>
                              ))}
                              <div className="mt-2 flex gap-2">
                                <button
                                  onClick={handleAddCompetitor}
                                  disabled={remainingSlots === 0 || competitors.length >= MAX_COMPETITORS}
                                  className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed"
                                >
                                  + Adicionar Concorrente
                                </button>
                                <button
                                  onClick={openCompetitorDialog}
                                  disabled={!client || remainingSlots === 0}
                                  className="px-4 py-2 bg-violet-600 text-white rounded hover:bg-violet-700 disabled:bg-gray-400 disabled:cursor-not-allowed"
                                >
                                  Pesquisar Concorrentes
                                </button>
                              </div>
                            </div>
                            <div className="mt-8 text-center">
                                <button onClick={handleConsult} disabled={globalLoading || !client} className="px-8 py-3 bg-violet-600 text-white font-bold rounded-lg hover:bg-violet-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center mx-auto">
                                  {globalLoading && <FaSpinner className="animate-spin mr-2" />}
                                  {globalLoading ? 'Consultando...' : 'Consultar / Atualizar Compara√ß√£o'}
                                </button>
                            </div>
                          </div>

                          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                            {results.map(({ company, data, status, error, debug }) => (
                              <div key={company.CNPJ_Empresa} className="bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg flex flex-col">
                                <h3 className="font-bold text-lg truncate mb-1" title={company.Nome_da_Empresa}>{company.Nome_da_Empresa}</h3>
                                <p className="text-sm text-gray-500 dark:text-gray-400 mb-4">{padCNPJ14(company.CNPJ_Empresa)}</p>

                                {status === 'loading' && <div className="flex-grow flex items-center justify-center"><FaSpinner className="animate-spin text-4xl text-violet-500"/></div>}
                                {status === 'error' && (
                                  <div className="flex-grow flex items-center justify-center text-red-500 text-sm text-center whitespace-pre-line">
                                    {buildApiErrorLabel(error)}
                                  </div>
                                )}
                                {status === 'loaded' && data && (() => {
                                  const resumo = data.perdcompResumo;
                                  const temRegistros = (resumo?.totalSemCancelamento ?? 0) > 0;
                                  return (
                                    <div className="flex-grow flex flex-col">
                                      {error && (
                                        <p className="text-red-500 text-sm whitespace-pre-line mb-2">{buildApiErrorLabel(error)}</p>
                                      )}
                                      {data.fromCache && (
                                        <p className="text-xs text-yellow-600 mb-2">
                                          Mostrando dados da √∫ltima consulta em {data.lastConsultation ? new Date(data.lastConsultation).toLocaleDateString() : ''} (falha {error?.httpStatus} hoje)
                                        </p>
                                      )}
                                      {data.lastConsultation && <p className="text-xs text-gray-400 mb-2">√öltima consulta: {new Date(data.lastConsultation).toLocaleDateString()}</p>}
                                      <div className="space-y-3 text-sm mb-4 flex-grow">
                                        <div className="flex justify-between"><span>Quantidade:</span> <span className="font-bold">{resumo?.totalSemCancelamento ?? 0}</span></div>
                                        <div className="flex justify-between"><span>Valor Total:</span> <span className="font-bold">R$ 0,00</span></div>
                                        {temRegistros && (
                                          <div className="mt-2 text-sm">
                                            <div className="font-medium">Quantos s√£o:</div>
                                            {Object.entries(resumo?.porNaturezaAgrupada || {}).map(([cod, qtd]) => (
                                              <div key={cod} className="flex justify-between">
                                                <span>
                                                  {cod === '1.3/1.7'
                                                    ? '1.3/1.7 = DCOMP (Declara√ß√µes de Compensa√ß√£o)'
                                                    : cod === '1.2/1.6'
                                                    ? '1.2/1.6 = REST (Pedidos de Restitui√ß√£o)'
                                                    : cod === '1.1/1.5'
                                                    ? '1.1/1.5 = RESSARC (Pedidos de Ressarcimento)'
                                                    : cod}
                                                </span>
                                                <span>{qtd}</span>
                                              </div>
                                            ))}
                                          </div>
                                        )}
                                        <div className="mt-2">
                                          <button className="underline text-sm" onClick={() => { setCancelCount(resumo?.canc ?? resumo?.porFamilia?.CANC ?? 0); setOpenCancel(true); }}>
                                            Cancelamentos
                                          </button>
                                        </div>
                                      </div>
                                      {data.siteReceipt && (
                                        <div className="mb-4">
                                          <h4 className="font-semibold mb-1 text-sm">Comprovantes:</h4>
                                          <div className="text-xs">
                                            <a href={data.siteReceipt} target="_blank" rel="noopener noreferrer" className="text-blue-500 hover:underline">HTML</a>
                                          </div>
                                        </div>
                                      )}
                                    </div>
                                  );
                                })()}
                                {status === 'loaded' && (() => {
                                  const resumo = data?.perdcompResumo;
                                  const temRegistros = (resumo?.totalSemCancelamento ?? 0) > 0;
                                  return !temRegistros ? (
                                    <div className="flex-grow flex flex-col items-center justify-center text-center">
                                      <p className="text-gray-500">Nenhum PER/DCOMP encontrado no per√≠odo.</p>
                                    </div>
                                  ) : null;
                                })()}
                                {showDebug && status === 'loaded' && debug && (
                                  <button
                                    onClick={() => { setPreviewPayload({ company, debug }); setPreviewOpen(true); }}
                                    className="mt-2 w-full px-3 py-1.5 bg-gray-200 dark:bg-gray-700 text-xs rounded hover:bg-gray-300 dark:hover:bg-gray-600"
                                  >
                                    Ver retorno da API
                                  </button>
                                )}
                              </div>
                            ))}
                          </div>

                          {openCancel && (
                            <div className="fixed inset-0 bg-black/40 flex items-center justify-center z-50">
                              <div className="bg-white rounded-xl p-4 w-full max-w-md">
                                <div className="text-lg font-semibold mb-2">Cancelamentos</div>
                                <div>Quantidade: <strong>{cancelCount}</strong></div>
                                <div className="mt-3 text-right">
                                  <button className="px-3 py-1 rounded bg-gray-200" onClick={() => setOpenCancel(false)}>
                                    Fechar
                                  </button>
                                </div>
                              </div>
                            </div>
                          )}

                          <EnrichmentPreviewDialog
                            isOpen={showEnrichPreview}
                            onClose={() => { setShowEnrichPreview(false); setModalTarget(null); }}
                            suggestionFlat={enrichPreview?.suggestion || null}
                            baseCompany={enrichPreview?.base || null}
                            rawJson={enrichPreview?.debug?.parsedJson}
                            error={enrichPreview?.error ? String(enrichPreview.error) : undefined}
                            onConfirm={(flat) => {
                              const merged = enrichPreview?.base ? mergeEmptyFields(enrichPreview.base, flat) : flat;
                              // The CNPJ decision is now made inside the dialog, so we just use the result (flat).
                              // However, we still need to merge other fields.
                              const finalData = { ...merged, CNPJ_Empresa: flat.CNPJ_Empresa };
                              handleUseSuggestion(finalData);
                              setModalWarning(!enrichPreview?.suggestion);
                              setShowEnrichPreview(false);
                            }}
                          />

                          <CompetitorSearchDialog
                            isOpen={compDialogOpen}
                            onClose={closeCompetitorDialog}
                            clientName={client?.company.Nome_da_Empresa || ''}
                            limitRemaining={remainingSlots}
                            fetchState={compFetch}
                            onConfirm={confirmCompetitors}
                          />

                          <NewCompanyModal
                            isOpen={companyModalOpen}
                            initialData={companyPrefill || undefined}
                            warning={modalWarning}
                            onClose={() => {
                              setCompanyModalOpen(false);
                              setCompanyPrefill(null);
                            }}
                            onSaved={handleSaveNewCompany}
                          />

                          {showDebug && (
                            <PerdcompApiPreviewDialog
                              isOpen={previewOpen}
                              onClose={() => setPreviewOpen(false)}
                              company={previewPayload?.company || null}
                              debug={previewPayload?.debug || null}
                            />
                          )}
                        </div>
                      );
                    }

                ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                üìÑ page.tsx
                ‚îî‚îÄ‚îÄ Conte√∫do:
                    import ClientPerdecompComparativo from './ClientPerdecompComparativo';

                    type PageProps = {
                      searchParams?: { [key: string]: string | string[] | undefined };
                    };

                    export default function Page({ searchParams }: PageProps) {
                      const raw = searchParams?.q;
                      const q = Array.isArray(raw) ? raw[0] ?? '' : (raw ?? '');

                      return <ClientPerdecompComparativo initialQ={q} />;
                    }

                ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÅ kanban
            üìÑ page.jsx
            ‚îî‚îÄ‚îÄ Conte√∫do:
                'use client';
                import { DragDropContext } from '@hello-pangea/dnd';
                import { useEffect, useState } from 'react';
                import KanbanColumn from '../../components/KanbanColumn';
                import Filters from '../../components/Filters';

                export default function KanbanPage() {
                  const [columns, setColumns] = useState([]);
                  const [filteredColumns, setFilteredColumns] = useState(null);
                  const [produtos, setProdutos] = useState([]);
                  const [produto, setProduto] = useState('');
                  const isAdmin = process.env.NEXT_PUBLIC_IS_ADMIN === 'true';
                  const [isUpdating, setIsUpdating] = useState(false);

                  // Buscar dados ao montar
                  useEffect(() => {
                    fetchColumns();
                  }, []);

                  // Sempre que columns mudar, reseta o filtro
                  useEffect(() => {
                    setFilteredColumns(null);
                  }, [columns]);

                  const fetchColumns = async () => {
                    const res = await fetch('/api/kanban');
                    const data = await res.json();
                    setColumns(data);
                  };

                  useEffect(() => {
                    if (!isAdmin) return;
                    const loadProdutos = async () => {
                      const res = await fetch('/api/padroes');
                      const data = await res.json();
                      setProdutos(data.produtos || []);
                    };
                    loadProdutos();
                  }, [isAdmin]);

                  const handleMesclar = async () => {
                    if (!produto) {
                      alert('Selecione um produto');
                      return;
                    }
                    const res = await fetch('/api/mesclar-leads-exact-spotter', {
                      method: 'POST',
                      headers: { 'Content-Type': 'application/json' },
                      body: JSON.stringify({ produto }),
                    });
                    const data = await res.json();
                    if (!res.ok) {
                      alert(data.error || 'Erro ao mesclar');
                      return;
                    }
                    alert(
                      `Criadas: ${data.criadas}\nAtualizadas: ${data.atualizadas}\nIgnoradas: ${data.ignoradas}\nErros: ${data.erros.join(', ')}`
                    );
                  };

                  const handleFilter = ({ query, segmento, porte, uf, cidade }) => {
                    // Fun√ß√£o de filtro
                    const filterFn = (client) => {
                      // segmento
                      if (segmento && segmento.trim()) {
                        if ((client.segment || '').trim().toLowerCase() !== segmento.trim().toLowerCase()) {
                          return false;
                        }
                      }

                      // porte
                      if (porte) {
                        if (Array.isArray(porte)) {
                          if (porte.length > 0) {
                            const options = porte.map((p) => p.trim().toLowerCase());
                            if (!options.includes((client.size || '').trim().toLowerCase())) return false;
                          }
                        } else if (porte.trim()) {
                          if ((client.size || '').trim().toLowerCase() !== porte.trim().toLowerCase()) return false;
                        }
                      }

                      // uf
                      if (uf && uf.trim()) {
                        if ((client.uf || '').trim().toLowerCase() !== uf.trim().toLowerCase()) return false;
                      }

                      // cidade
                      if (cidade && cidade.trim()) {
                        if ((client.city || '').trim().toLowerCase() !== cidade.trim().toLowerCase()) return false;
                      }

                      // query de texto
                      if (query) {
                        const q = query.toLowerCase();
                        const matchName = (client.company || '').toLowerCase().includes(q);
                        const matchContact = (client.contacts || []).some((c) =>
                          (c.name || c.nome || '').toLowerCase().includes(q)
                        );
                        const matchOpp = (client.opportunities || []).some((o) =>
                          (o || '').toLowerCase().includes(q)
                        );
                        if (!matchName && !matchContact && !matchOpp) return false;
                      }
                      return true;
                    };

                    // Aplica o filtro em todas as colunas
                    const newFiltered = columns.map(col => ({
                      ...col,
                      cards: col.cards.filter(card => filterFn(card.client))
                    }));

                    // Se o filtro resultar em todas as colunas vazias, mostra vazio (poderia ser um estado especial se quiser)
                    setFilteredColumns(newFiltered);
                  };

                  const onDragEnd = async (result) => {
                    if (!result.destination) return;
                    if (
                      result.destination.droppableId === result.source.droppableId &&
                      result.destination.index === result.source.index
                    )
                      return;
                    if (isUpdating) return;
                    const { source, destination, draggableId } = result;
                    const prevColumns = columns.map((c) => ({ ...c, cards: [...c.cards] }));
                    const newColumns = columns.map((c) => ({ ...c, cards: [...c.cards] }));
                    const sourceCol = newColumns.find((c) => c.id === source.droppableId);
                    const destCol = newColumns.find((c) => c.id === destination.droppableId);
                    const [moved] = sourceCol.cards.splice(source.index, 1);
                    destCol.cards.splice(destination.index, 0, moved);

                    const newStatus = destCol.id;
                    if (newStatus === moved.client.status) {
                      return;
                    }
                    let newColor = moved.client.color;

                    if (newStatus === 'Perdido') {
                      newColor = 'red';
                    } else if (newStatus === 'Lead Selecionado') {
                      newColor = 'green';
                    }

                    moved.client.status = newStatus;
                    moved.client.color = newColor;

                    setColumns(newColumns);
                    setIsUpdating(true);
                    try {
                      const res = await fetch('/api/kanban', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ id: draggableId, status: newStatus, color: newColor }),
                      });
                      if (!res.ok) throw new Error('Erro ao atualizar');
                      await fetchColumns();
                      await fetch('/api/interacoes', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                          clienteId: draggableId,
                          tipo: 'Mudan√ßa de Fase',
                          deFase: source.droppableId,
                          paraFase: destination.droppableId,
                          dataHora: new Date().toISOString(),
                        }),
                      });
                    } catch (err) {
                      setColumns(prevColumns);
                      alert('Erro ao atualizar');
                    } finally {
                      setIsUpdating(false);
                    }
                  };

                  const columnsToShow = filteredColumns ?? columns;

                  return (
                    <div className="p-4 overflow-x-auto">
                      <div className="mb-4">
                        <Filters onFilter={handleFilter} />
                      </div>
                      {isAdmin && (
                        <div className="mb-4 flex items-center gap-2">
                          <select
                            className="border p-1"
                            value={produto}
                            onChange={(e) => setProduto(e.target.value)}
                          >
                            <option value="">Produto</option>
                            {produtos.map((p) => (
                              <option key={p} value={p}>
                                {p}
                              </option>
                            ))}
                          </select>
                          <button
                            className="bg-blue-500 text-white px-3 py-1 rounded"
                            onClick={handleMesclar}
                          >
                            Mesclar Leads Exact Spotter
                          </button>
                        </div>
                      )}
                      <DragDropContext onDragEnd={onDragEnd}>
                        <div className="flex flex-wrap gap-4">
                          {columnsToShow.map((col) => (
                            <KanbanColumn key={col.id} column={col} />
                          ))}
                        </div>
                      </DragDropContext>
                    </div>
                  );
                }

            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ layout.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            import './globals.css';
            import Sidebar from '../components/Sidebar';

            export const metadata = {
              title: 'Client Kanban System',
            };

            export default function RootLayout({ children }) {
              return (
                <html lang="en">
                  <body className="min-h-screen md:pl-60 bg-gray-100">
                    <Sidebar />
                    <main className="p-4">{children}</main>
                  </body>
                </html>
              );
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ page.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';
            import { useEffect, useState } from 'react';
            import SummaryCard from '../components/SummaryCard';
            import Charts from '../components/Charts';
            
            export default function Dashboard() {
              const [allClients, setAllClients] = useState([]);
              const [clients, setClients] = useState([]);
              const [options, setOptions] = useState({ segmento: [], uf: [] });
              const [filters, setFilters] = useState({ segmento: '', uf: '' });
            
              useEffect(() => {
                fetch('/api/clientes')
                  .then((res) => res.json())
                  .then((data) => {
                    setAllClients(data.clients || []);
                    setClients(data.clients || []);
                    setOptions({ segmento: data.filters.segmento, uf: data.filters.uf });
                  });
              }, []);
            
              useEffect(() => {
                let filtered = allClients;
                if (filters.segmento) filtered = filtered.filter((c) => c.segment === filters.segmento);
                if (filters.uf) filtered = filtered.filter((c) => c.uf === filters.uf);
                setClients(filtered);
              }, [filters, allClients]);
            
              const phaseLabels = [
                'Lead Selecionado',
                'Tentativa de Contato',
                'Contato Efetuado',
                'Conversa Iniciada',
                'Reuni√£o Agendada',
                'Perdido',
              ];

              const phaseCounts = clients.reduce((acc, c) => {
                acc[c.status] = (acc[c.status] || 0) + 1;
                return acc;
              }, {});

              const companies = clients.length;
              const contactsSet = new Set();
              clients.forEach((c) => {
                c.contacts.forEach((ct) => {
                  contactsSet.add(`${ct.nome}|${ct.email}`);
                });
              });
              const contacts = contactsSet.size;

              const funnelPhases = [
                'Lead Selecionado',
                'Tentativa de Contato',
                'Contato Efetuado',
                'Conversa Iniciada',
              ];
              const funnelTotal = funnelPhases.reduce((s, p) => s + (phaseCounts[p] || 0), 0);
              const meetings = phaseCounts['Reuni√£o Agendada'] || 0;
              const losses = phaseCounts['Perdido'] || 0;
              const meetingRate = funnelTotal ? ((meetings / funnelTotal) * 100).toFixed(1) : '0';
              const lossRate = funnelTotal ? ((losses / funnelTotal) * 100).toFixed(1) : '0';

              const handleChange = (key, value) => {
                setFilters((prev) => ({ ...prev, [key]: value }));
              };

              return (
                <div className="space-y-6">
                  <h1 className="text-2xl font-bold">Dashboard</h1>
                  <div className="flex gap-2 flex-wrap">
                    <select
                      value={filters.segmento}
                      onChange={(e) => handleChange('segmento', e.target.value)}
                      className="border p-2 rounded"
                    >
                      <option value="">Segmento</option>
                      {options.segmento.map((s) => (
                        <option key={s} value={s}>
                          {s}
                        </option>
                      ))}
                    </select>
                    <select
                      value={filters.uf}
                      onChange={(e) => handleChange('uf', e.target.value)}
                      className="border p-2 rounded"
                    >
                      <option value="">UF</option>
                      {options.uf.map((s) => (
                        <option key={s} value={s}>
                          {s}
                        </option>
                      ))}
                    </select>
                    <input type="text" placeholder="Data Range" className="border p-2 rounded" disabled />
                  </div>
                  <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                    <SummaryCard title="Empresas" value={companies} />
                    <SummaryCard title="Contatos √önicos" value={contacts} />
                    {phaseLabels.map((label) => (
                      <SummaryCard key={label} title={label} value={phaseCounts[label] || 0} />
                    ))}
                    <SummaryCard title="Taxa de Reuni√µes" value={`${meetingRate}%`} />
                    <SummaryCard title="Taxa de Perda" value={`${lossRate}%`} />
                  </div>
                  <Charts clients={clients} />
                </div>
              );
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÅ reports
            üìÑ page.jsx
            ‚îî‚îÄ‚îÄ Conte√∫do:
                'use client';
                import { useEffect, useState } from 'react';
                import Filters from '../../components/Filters';
                import ReportTable from '../../components/ReportTable';
                import ExportButton from '../../components/ExportButton';

                export default function ReportsPage() {
                  const [rows, setRows] = useState([]);
                  const [filters, setFilters] = useState({});
                  const [maxLeads, setMaxLeads] = useState(30);

                  const fetchData = (filt, limit = maxLeads) => {
                    const params = new URLSearchParams();
                    Object.entries(filt).forEach(([k, v]) => {
                      if (v) params.append(k, v);
                    });
                    if (limit) params.append('maxLeads', limit);

                    fetch(`/api/reports?${params.toString()}`)
                      .then((res) => res.json())
                      .then((data) => {
                        setRows(data.rows);
                      });
                  };

                  const handleFilter = (f) => {
                    // ‚úÖ Se o filtro de porte vier como array (do <select multiple>), converte para string
                    const adjusted = { ...f };
                    if (Array.isArray(adjusted.porte)) {
                      adjusted.porte = adjusted.porte.join(',');
                    }

                    setFilters(adjusted);
                    fetchData(adjusted);
                  };

                  const handleMaxLeadsChange = (value) => {
                    const num = parseInt(value, 10);
                    const val = Number.isNaN(num) ? 30 : num;
                    setMaxLeads(val);
                    fetchData(filters, val);
                  };

                  useEffect(() => {
                    fetchData({}, maxLeads);
                  }, []);

                  const criteria = Object.entries(filters)
                    .filter(([, v]) => v)
                    .map(([k, v]) => `${k}: ${v}`)
                    .join(' | ');

                  const criteriaStr = [criteria, `maxLeads: ${maxLeads || 30}`]
                    .filter(Boolean)
                    .join(' | ');

                  const dateStr = new Date().toLocaleDateString('pt-BR');

                  return (
                    <div className="space-y-4">
                      <h1 className="text-2xl font-bold">Lista de Prospec√ß√£o ‚Äì {dateStr}</h1>
                      {criteriaStr && <p className="text-sm text-gray-600">{criteriaStr}</p>}

                      {/* ‚úÖ Filters envia porte como array, convertido em string aqui */}
                      <Filters onFilter={handleFilter} />

                      <div className="flex items-center gap-2">
                        <label htmlFor="maxLeads" className="text-sm">Max Leads per Print</label>
                        <input
                          id="maxLeads"
                          type="number"
                          list="maxLeadsOptions"
                          value={maxLeads}
                          onChange={(e) => handleMaxLeadsChange(e.target.value)}
                          className="border p-2 rounded w-24"
                        />
                        <datalist id="maxLeadsOptions">
                          <option value="10" />
                          <option value="30" />
                          <option value="50" />
                          <option value="100" />
                        </datalist>
                      </div>

                      <ExportButton data={rows} />
                      <ReportTable rows={rows} />
                    </div>
                  );
                }


            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÅ print
                üìÑ page.jsx
                ‚îî‚îÄ‚îÄ Conte√∫do:
                    'use client';
                    import { useEffect, useState } from 'react';

                    export default function PrintPage() {
                      const [rows, setRows] = useState([]);

                      useEffect(() => {
                        try {
                          const savedData = localStorage.getItem('printData');
                          if (savedData) setRows(JSON.parse(savedData));
                        } catch {
                          setRows([]);
                        }

                        // ‚úÖ Fecha a aba e redireciona para /reports depois da impress√£o
                        window.addEventListener('afterprint', () => {
                          if (window.opener) {
                            window.opener.location.href = '/reports';
                          }
                          window.close();
                        });

                        setTimeout(() => window.print(), 500);
                      }, []);

                      const dateStr = new Date().toLocaleDateString('pt-BR');

                      return (
                    <div className="print-container">
                          <h1>Lista de Prospec√ß√£o</h1>
                          <p className="subtitle">Gerado em {dateStr}</p>

                          <table className="report-table">
                            <thead>
                              <tr>
                                <th>Empresa</th>
                                <th>Segmento</th>
                                <th>Porte</th>
                                <th>Contato</th>
                                <th>Cargo</th>
                                <th>Telefones</th>
                                <th>Email</th>
                                <th>LinkedIn</th>
                              </tr>
                            </thead>
                            <tbody>
                              {rows.map((r, i) => (
                                <tr key={i}>
                                  <td>{r.company}</td>
                                  <td>{r.segment}</td>
                                  <td>{r.size}</td>
                                  <td>{r.nome}</td>
                                  <td>{r.cargo}</td>
                                  <td>{(r.normalizedPhones || []).join(' / ')}</td>
                                  <td>{r.email}</td>
                                  <td>{r.linkedin}</td>
                                </tr>
                              ))}
                            </tbody>
                          </table>

                          <style jsx global>{`
                            @page {
                              size: A4 landscape;
                              margin: 10mm;
                            }

                            body {
                              font-family: Arial, sans-serif;
                              font-size: 11px;
                              color: #000;
                              background: #fff;
                            }

                            .print-container {
                              width: 100%;
                              padding: 0;
                            }



                            h1 {
                              text-align: center;
                              font-size: 18px;
                              margin: 0;
                            }

                            .subtitle {
                              text-align: center;
                              font-size: 12px;
                              margin: 4px 0 12px 0;
                            }

                            .report-table {
                              width: 100%;
                              border-collapse: collapse;
                            }

                            .report-table th,
                            .report-table td {
                              border: 1px solid #000;
                              padding: 4px 6px;
                              text-align: left;
                              word-break: break-word;
                            }

                            .report-table th {
                              background: #f0f0f0;
                              font-weight: bold;
                              font-size: 12px;
                            }

                            .report-table td {
                              font-size: 11px;
                            }

                            @media print {
                              body {
                                -webkit-print-color-adjust: exact;
                              }
                            }
                          `}</style>
                        </div>
                      );
                    }


                ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÅ components
        üìÑ Charts.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';
            import { Bar, Doughnut } from 'react-chartjs-2';
            import {
              Chart as ChartJS,
              CategoryScale,
              LinearScale,
              BarElement,
              ArcElement,
              Tooltip,
              Legend,
            } from 'chart.js';
            
            ChartJS.register(CategoryScale, LinearScale, BarElement, ArcElement, Tooltip, Legend);

            export default function Charts({ clients }) {
              const phaseLabels = [
                'Lead Selecionado',
                'Tentativa de Contato',
                'Contato Efetuado',
                'Conversa Iniciada',
                'Reuni√£o Agendada',
                'Perdido',
              ];

              const phaseCounts = {};
              const segmentCounts = {};

              clients.forEach((c) => {
                phaseCounts[c.status] = (phaseCounts[c.status] || 0) + 1;
                if (c.segment) segmentCounts[c.segment] = (segmentCounts[c.segment] || 0) + 1;
              });

              const barData = {
                labels: phaseLabels,
                datasets: [
                  {
                    label: 'Contatos',
                    data: phaseLabels.map((p) => phaseCounts[p] || 0),
                    backgroundColor: '#60a5fa',
                  },
                ],
              };

              const sortedSegments = Object.entries(segmentCounts).sort((a, b) => b[1] - a[1]);
              const segmentLabels = sortedSegments.map(([label]) => label);
              const segmentValues = sortedSegments.map(([, count]) => count);
              const segmentData = {
                labels: segmentLabels,
                datasets: [
                  {
                    data: segmentValues,
                    backgroundColor: ['#34d399', '#60a5fa', '#fbbf24', '#c084fc', '#f87171', '#9ca3af'],
                  },
                ],
              };

              const options = {
                plugins: {
                  legend: {
                    position: 'bottom',
                    labels: {
                      filter: (item) => item.index < 15,
                    },
                  },
                },
              };

              return (
                <div className="grid md:grid-cols-2 gap-4">
                  <div className="bg-white p-4 rounded shadow">
                    <Bar data={barData} options={options} />
                  </div>
                  <div className="bg-white p-4 rounded shadow">
                    <Doughnut data={segmentData} options={options} />
                  </div>
                </div>
              );
            }
            
        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ ClientCard.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';
            import { useState } from 'react';
            import MessageModal from './MessageModal';
            import ObservationModal from './ObservationModal';
            import HistoryModal from './HistoryModal';

            function displayPhone(phone) {
              return String(phone || '').replace(/^'+/, ''); // remove prote√ß√£o visualmente
            }

            function displayEmail(email) {
              return String(email || '').replace(/^'+/, '');
            }

            function getWhatsAppLink(phone) {
              const clean = displayPhone(phone);
              const digits = clean.replace(/\D/g, '');
              const number = digits.startsWith('55') ? digits : `55${digits}`;
              return digits
                ? `https://web.whatsapp.com/send/?phone=${number}&type=phone_number&app_absent=0`
                : '';
            }

            function getGreeting() {
              const h = new Date().getHours();
              if (h < 12) return 'bom dia';
              if (h < 18) return 'boa tarde';
              return 'boa noite';
            }

            function replacePlaceholders(template, { client, contact, phone }) {
              if (!template) return '';
              let msg = template;
              const firstName = (contact?.name || contact?.nome || '').split(' ')[0];
              const map = {
                '[nome]': firstName || '',
                '[Cliente]': client?.company || '',
                '[Cargo]': contact?.role || contact?.cargo || '',
                '[Email]': contact?.email || '',
                '[Telefone]': displayPhone(phone) || '',
                '[Cidade]': client?.city || '',
                '[UF]': client?.uf || '',
                '[Segmento]': client?.segment || '',
              };
              // Suporta placeholder de sauda√ß√£o existente
              if (msg.includes('[Saudacao]')) {
                map['[Saudacao]'] = getGreeting();
              }
              Object.entries(map).forEach(([key, value]) => {
                msg = msg.split(key).join(value || '');
              });
              return msg;
            }

            async function fetchMessages(app) {
              try {
                const res = await fetch(`/api/mensagens?app=${app}`);
                if (!res.ok) return [];
                const data = await res.json();
                if (Array.isArray(data)) return data;
                if (Array.isArray(data?.mensagens)) return data.mensagens;
                if (Array.isArray(data?.messages)) return data.messages;
                return [];
              } catch {
                return [];
              }
            }

            export default function ClientCard({ client, onStatusChange }) {
              const [color, setColor] = useState(client.color || '');
              const [status, setStatus] = useState(client.status || '');
              const [modalOpen, setModalOpen] = useState(false);
              const [modalMessages, setModalMessages] = useState([]);
              const [onSelectMessage, setOnSelectMessage] = useState(null);
              const [obsOpen, setObsOpen] = useState(false);
              const [obsAction, setObsAction] = useState(null);
              const [historyOpen, setHistoryOpen] = useState(false);
              const [historyData, setHistoryData] = useState([]);
              const [updating, setUpdating] = useState(false);

              const handleDoubleClick = async () => {
                if (updating || status === 'Lead Selecionado') return;
                const prevColor = color;
                const prevStatus = status;
                const newColor = 'green';
                const newStatus = 'Lead Selecionado';
                setColor(newColor);
                setStatus(newStatus);
                if (onStatusChange) {
                  onStatusChange(client.id, newStatus, newColor);
                }
                setUpdating(true);
                try {
                  const res = await fetch('/api/kanban', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                      id: client.id,
                      status: newStatus,
                      color: newColor,
                    }),
                  });
                  if (!res.ok) throw new Error('Erro ao atualizar');
                  await res.json();
                  await fetch('/api/kanban');
                } catch (err) {
                  setColor(prevColor);
                  setStatus(prevStatus);
                  if (onStatusChange) {
                    onStatusChange(client.id, prevStatus, prevColor);
                  }
                  alert('Erro ao atualizar');
                } finally {
                  setUpdating(false);
                }
              };
            
              const openModal = (messages, action) => {
                setModalMessages(messages);
                setOnSelectMessage(() => action);
                setModalOpen(true);
              };

              const openObservation = (action) => {
                setObsAction(() => action);
                setObsOpen(true);
              };

              const logInteraction = async (data) => {
                await fetch('/api/interacoes', {
                  method: 'POST',
                  headers: { 'Content-Type': 'application/json' },
                  body: JSON.stringify({ clienteId: client.id, dataHora: new Date().toISOString(), ...data }),
                });
              };

              const handleHistoryClick = async () => {
                const res = await fetch(`/api/interacoes?clienteId=${client.id}`);
                const history = await res.json();
                setHistoryData(history);
                setHistoryOpen(true);
              };

              const handlePhoneClick = async (e, phone, contact) => {
                e.preventDefault();
                const digits = displayPhone(phone).replace(/\D/g, '');
                if (!digits) return;
                const number = digits.startsWith('55') ? digits : `55${digits}`;
                const messages = await fetchMessages('whatsapp');
                if (messages.length > 0) {
                  openModal(messages, ({ titulo, mensagem }) => {
                    const finalMsg = replacePlaceholders(mensagem, { client, contact, phone });
                    const encoded = encodeURIComponent(finalMsg);
                    const url = `https://web.whatsapp.com/send/?phone=${number}&text=${encoded}&type=phone_number&app_absent=0`;
                    openObservation(async (obs) => {
                      await logInteraction({ tipo: 'WhatsApp', canal: phone, mensagemUsada: titulo, observacao: obs });
                      window.open(url, '_blank');
                    });
                  });
                } else {
                  const url = `https://web.whatsapp.com/send/?phone=${number}&type=phone_number&app_absent=0`;
                  openObservation(async (obs) => {
                    await logInteraction({ tipo: 'WhatsApp', canal: phone, observacao: obs });
                    window.open(url, '_blank');
                  });
                }
              };

              const handleEmailClick = async (e, email, contact) => {
                e.preventDefault();
                const phone = contact.mobile || contact.phone || '';
                const cleanEmail = displayEmail(email);
                const messages = await fetchMessages('email');
                if (messages.length > 0) {
                  openModal(messages, ({ titulo, mensagem }) => {
                    const subject = encodeURIComponent(replacePlaceholders(titulo, { client, contact, phone }));
                    const body = encodeURIComponent(replacePlaceholders(mensagem, { client, contact, phone }));
                    const url = `mailto:${cleanEmail}?subject=${subject}&body=${body}`;
                    openObservation(async (obs) => {
                      await logInteraction({ tipo: 'E-mail', canal: cleanEmail, mensagemUsada: titulo, observacao: obs });
                      window.location.href = url;
                    });
                  });
                } else {
                  const url = `mailto:${cleanEmail}`;
                  openObservation(async (obs) => {
                    await logInteraction({ tipo: 'E-mail', canal: cleanEmail, observacao: obs });
                    window.location.href = url;
                  });
                }
              };

              const handleLinkedinClick = async (e, url, contact) => {
                e.preventDefault();
                const phone = contact.mobile || contact.phone || '';
                const messages = await fetchMessages('linkedin');
                if (messages.length > 0) {
                  openModal(messages, ({ titulo, mensagem }) => {
                    const finalMsg = encodeURIComponent(
                      replacePlaceholders(mensagem, { client, contact, phone })
                    );
                    const finalUrl = `${url}?message=${finalMsg}`;
                    openObservation(async (obs) => {
                      await logInteraction({ tipo: 'LinkedIn', canal: url, mensagemUsada: titulo, observacao: obs });
                      window.open(finalUrl, '_blank');
                    });
                  });
                } else {
                  openObservation(async (obs) => {
                    await logInteraction({ tipo: 'LinkedIn', canal: url, observacao: obs });
                    window.open(url, '_blank');
                  });
                }
              };

              const backgroundColor =
                color === 'green'
                  ? '#a3ffac'
                  : color === 'red'
                  ? '#ffca99'
                  : color === 'gray'
                  ? '#e5e7eb'
                  : color === 'purple'
                  ? '#e9d5ff' // Light purple
                  : 'white';

              const borderLeftColor =
                color === 'green'
                  ? '#4caf50'
                  : color === 'red'
                  ? '#ff7043'
                  : color === 'gray'
                  ? '#9ca3af'
                  : color === 'purple'
                  ? '#9333ea' // Darker purple
                  : 'transparent';

              return (
                <div
                  onDoubleClick={handleDoubleClick}
                  style={{
                    backgroundColor,
                    borderLeft: `6px solid ${borderLeftColor}`,
                  }}
                  className="p-4 border rounded shadow hover:shadow-lg cursor-pointer transition-colors"
                >
                  <h3 className="text-lg font-semibold mb-1">{client.company}</h3>
                  {(client.city || client.uf) && (
                    <p className="text-xs text-gray-600">
                      {[client.city, client.uf].filter(Boolean).join(' - ')}
                    </p>
                  )}
                  {client.opportunities.length > 0 && (
                    <ul className="text-xs list-disc ml-4 my-2">
                      {client.opportunities.map((o, i) => (
                        <li key={i}>{o}</li>
                      ))}
                    </ul>
                  )}
                  <div className="space-y-2">
                    {client.contacts.map((c, idx) => (
                      <div key={idx} className="text-sm border-t pt-1">
                        <p className="font-medium">{c.name}</p>
                        <p className="text-xs">{c.role}</p>

                        {/* ‚úÖ M√∫ltiplos e-mails separados por ; */}
                        {c.email && (
                          <p className="text-xs">
                            {c.email.split(';').map((em, i) => {
                              const clean = displayEmail(em.trim());
                              return (
                                <span key={i}>
                                  <button
                                    type="button"
                                    className="text-blue-600 underline"
                                    onClick={(e) => handleEmailClick(e, clean, c)}
                                  >
                                    {clean}
                                  </button>
                                  {i < c.email.split(';').length - 1 ? ' / ' : ''}
                                </span>
                              );
                            })}
                          </p>
                        )}

                        {c.normalizedPhones && c.normalizedPhones.length > 0 && (
                          <p className="text-xs">
                            {c.normalizedPhones.map((p, i) => (
                              <span key={i}>
                                <a
                                  href={getWhatsAppLink(p)}
                                  className="text-green-600 underline"
                                  target="_blank"
                                  rel="noopener noreferrer"
                                  onClick={(e) => handlePhoneClick(e, p, c)}
                                >
                                  {displayPhone(p)}
                                </a>
                                {i < c.normalizedPhones.length - 1 ? ' / ' : ''}
                              </span>
                            ))}
                          </p>
                        )}

                        {c.linkedin && (
                          <p>
                            <a
                              href={c.linkedin}
                              className="text-blue-600 underline"
                              target="_blank"
                              rel="noopener noreferrer"
                              onClick={(e) => handleLinkedinClick(e, c.linkedin, c)}
                            >
                              LinkedIn
                            </a>
                          </p>
                        )}
                      </div>
                    ))}
                  </div>
                  <div className="mt-2">
                    <button
                      type="button"
                      className="text-blue-600 underline text-xs"
                      onClick={handleHistoryClick}
                    >
                      Hist√≥rico
                    </button>
                  </div>
                  <MessageModal
                    open={modalOpen}
                    messages={modalMessages}
                    onSelect={(msg) => {
                      if (onSelectMessage) onSelectMessage(msg);
                      setModalOpen(false);
                    }}
                    onClose={() => setModalOpen(false)}
                  />
                  <ObservationModal
                    open={obsOpen}
                    onConfirm={async (obs) => {
                      if (obsAction) await obsAction(obs);
                      setObsOpen(false);
                    }}
                    onClose={() => setObsOpen(false)}
                  />
                  <HistoryModal
                    open={historyOpen}
                    interactions={historyData}
                    onClose={() => setHistoryOpen(false)}
                  />
                </div>
              );
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ CompetitorSearchDialog.tsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';

            import { useEffect, useState } from 'react';
            import { padCNPJ14 } from '@/utils/cnpj';

            export type CompetitorItem = { nome: string; cnpj: string };

            interface Props {
              isOpen: boolean;
              onClose: () => void;
              clientName: string;
              limitRemaining: number;
              fetchState: { loading: boolean; error?: string | null; items: CompetitorItem[] };
              onConfirm: (selected: CompetitorItem[]) => void;
            }

            export default function CompetitorSearchDialog({
              isOpen,
              onClose,
              clientName,
              limitRemaining,
              fetchState,
              onConfirm,
            }: Props) {
              const [selected, setSelected] = useState<Set<number>>(new Set());

              useEffect(() => {
                if (isOpen) {
                  setSelected(new Set());
                }
              }, [isOpen, fetchState.items]);

              useEffect(() => {
                const handleKey = (e: KeyboardEvent) => {
                  if (e.key === 'Escape') onClose();
                };
                if (isOpen) window.addEventListener('keydown', handleKey);
                return () => window.removeEventListener('keydown', handleKey);
              }, [isOpen, onClose]);

              const toggle = (idx: number) => {
                setSelected(prev => {
                  const next = new Set(prev);
                  if (next.has(idx)) {
                    next.delete(idx);
                  } else if (next.size < limitRemaining) {
                    next.add(idx);
                  }
                  return next;
                });
              };
            
              const handleConfirm = () => {
                const chosen = Array.from(selected).map(i => fetchState.items[i]);
                onConfirm(chosen);
                setSelected(new Set());
              };
            
              if (!isOpen) return null;

              const countSelected = selected.size;
              const limit = limitRemaining;

              return (
                <div className="fixed inset-0 bg-black/40 z-50 flex" onClick={onClose}>
                  <div
                    className="absolute top-0 right-0 h-full w-full max-w-2xl bg-white dark:bg-gray-900 p-4 shadow-xl"
                    onClick={e => e.stopPropagation()}
                  >
                    <div className="flex justify-between items-center mb-4">
                      <h2 className="text-lg font-semibold">Sugest√µes de Concorrentes para {clientName}</h2>
                      <button
                        onClick={onClose}
                        className="text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-violet-500 rounded"
                      >
                        ‚úï
                      </button>
                    </div>

                    {fetchState.loading && <p className="mb-4">Carregando...</p>}
                    {fetchState.error && <p className="mb-4 text-red-500">{fetchState.error}</p>}

                    {!fetchState.loading && !fetchState.error && fetchState.items.length === 0 && (
                      <p className="mb-4 text-sm text-gray-500">Nenhuma sugest√£o dispon√≠vel.</p>
                    )}

                    {fetchState.items.length > 0 && (
                      <ul className="divide-y divide-gray-200 dark:divide-gray-700 max-h-[65vh] overflow-y-auto">
                        {fetchState.items.map((it, idx) => {
                          const disabled = !selected.has(idx) && selected.size >= limit;
                          return (
                            <li key={idx} className="py-2 flex items-center">
                              <input
                                type="checkbox"
                                checked={selected.has(idx)}
                                onChange={() => toggle(idx)}
                                disabled={disabled}
                                className="mr-2 h-4 w-4 text-violet-600 disabled:opacity-50"
                              />
                              <div className="flex flex-col">
                                <span className="font-semibold">{it.nome}</span>
                                <span className="text-xs font-mono text-gray-500">{it.cnpj ? padCNPJ14(it.cnpj) : '(sem CNPJ)'}</span>
                              </div>
                            </li>
                          );
                        })}
                      </ul>
                    )}

                    <div className="mt-4 flex justify-between items-center">
                      <span className="text-sm">Selecionados {countSelected} de {limit}</span>
                      <div className="space-x-2">
                        <button
                          onClick={onClose}
                          className="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-400"
                        >
                          Cancelar
                        </button>
                        <button
                          onClick={handleConfirm}
                          disabled={countSelected === 0}
                          className="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-green-500"
                        >
                          Adicionar selecionados
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              );
            }


        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ ConfirmDialog.tsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';

            import React from 'react';

            interface Props {
              isOpen: boolean;
              onClose: () => void;
              onConfirm: () => void;
              title: string;
              description: React.ReactNode;
              confirmText?: string;
              cancelText?: string;
            }

            export default function ConfirmDialog({
              isOpen,
              onClose,
              onConfirm,
              title,
              description,
              confirmText = 'Confirmar',
              cancelText = 'Cancelar',
            }: Props) {
              if (!isOpen) return null;

              const handleConfirm = () => {
                onConfirm();
                onClose();
              };

              return (
                <div
                  className="fixed inset-0 z-50 bg-black/60 flex items-center justify-center"
                  onClick={onClose}
                >
                  <div
                    className="bg-white dark:bg-gray-900 rounded-lg w-full max-w-md p-6 shadow-xl"
                    onClick={(e) => e.stopPropagation()}
                  >
                    <h3 className="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4">
                      {title}
                    </h3>
                    <div className="text-gray-700 dark:text-gray-300 whitespace-pre-wrap">
                      {description}
                    </div>
                    <div className="mt-6 flex justify-end gap-3">
                      <button
                        onClick={onClose}
                        className="px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600"
                      >
                        {cancelText}
                      </button>
                      <button
                        onClick={handleConfirm}
                        className="px-4 py-2 rounded bg-violet-600 text-white hover:bg-violet-700"
                      >
                        {confirmText}
                      </button>
                    </div>
                  </div>
                </div>
              );
            }
            
        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ EnrichmentPreviewDialog.tsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';

            import React, { useState } from 'react';
            import ConfirmDialog from './ConfirmDialog';
            import { decideCNPJFinal } from '@/helpers/decideCNPJ';
            import { isFilial, toMatrizCNPJ, fmtCNPJ, onlyDigits } from '@/utils/cnpj-matriz';

            interface Prefill {
              Nome_da_Empresa?: string;
              Site_Empresa?: string;
              Pais_Empresa?: string;
              Estado_Empresa?: string;
              Cidade_Empresa?: string;
              Logradouro_Empresa?: string;
              Numero_Empresa?: string;
              Bairro_Empresa?: string;
              Complemento_Empresa?: string;
              CEP_Empresa?: string;
              CNPJ_Empresa?: string;
              DDI_Empresa?: string;
              Telefones_Empresa?: string;
              Observacao_Empresa?: string;
              Nome_Contato?: string;
              Email_Contato?: string;
              Cargo_Contato?: string;
              DDI_Contato?: string;
              Telefones_Contato?: string;
              Mercado?: string;
              Produto?: string;
              Area?: string;
            }

            interface Props {
              isOpen: boolean;
              onClose: () => void;
              suggestionFlat: Prefill | null;
              baseCompany?: Prefill | null; // <-- Added prop
              rawJson?: any;
              error?: string;
              onConfirm: (flat: Prefill) => void;
            }

            export default function EnrichmentPreviewDialog({
              isOpen,
              onClose,
              suggestionFlat,
              baseCompany,
              rawJson,
              error,
              onConfirm,
            }: Props) {
              const [confirmState, setConfirmState] = useState<{
                isOpen: boolean;
                matriz?: string;
                filial?: string;
                resolve?: (value: boolean) => void;
              }>({ isOpen: false });

              if (!isOpen) return null;

              const handleConfirmClick = async () => {
                if (!suggestionFlat) return;

                const enrichedCNPJ = suggestionFlat.CNPJ_Empresa;

                if (!enrichedCNPJ || !isFilial(enrichedCNPJ)) {
                  onConfirm(suggestionFlat);
                  return;
                }

                const ask = (matriz: string, filial: string): Promise<boolean> => {
                  return new Promise((resolve) => {
                    setConfirmState({ isOpen: true, matriz, filial, resolve });
                  });
                };

                const finalCNPJ = await decideCNPJFinal({
                  currentFormCNPJ: baseCompany?.CNPJ_Empresa,
                  enrichedCNPJ: suggestionFlat.CNPJ_Empresa,
                  ask,
                });

                onConfirm({ ...suggestionFlat, CNPJ_Empresa: finalCNPJ });
                setConfirmState({ isOpen: false });
              };

              const renderConfirmDescription = () => {
                if (!confirmState.matriz || !confirmState.filial) return '';
                const filialFmt = fmtCNPJ(confirmState.filial);
                const matrizFmt = fmtCNPJ(toMatrizCNPJ(confirmState.filial));

                return (
                  <>
                    <p>Detectamos que o CNPJ <strong>{filialFmt}</strong> √© de uma FILIAL.</p>
                    <p className="mt-2">Deseja salvar como filial mesmo?</p>
                    <p className="mt-2">Se optar por "Usar Matriz", salvaremos o CNPJ <strong>{matrizFmt}</strong>.</p>
                  </>
                );
              };

              return (
                <>
                  <div className="fixed inset-0 z-50 bg-black/40 flex items-center justify-center" onClick={onClose}>
                    <div className="bg-white dark:bg-gray-900 rounded-lg w-full max-w-3xl p-4 shadow-lg" onClick={(e) => e.stopPropagation()}>
                      <div className="flex items-center justify-between mb-3">
                        <h3 className="font-semibold text-gray-900 dark:text-gray-100">Pr√©-visualiza√ß√£o do Enriquecimento</h3>
                        <button onClick={onClose} className="text-gray-500 hover:text-gray-800">Fechar</button>
                      </div>

                      {error ? (
                        <div className="bg-red-50 text-red-800 border border-red-200 rounded p-2 text-sm mb-3">{error}</div>
                      ) : (
                        <>
                          <p className="text-sm text-gray-600 dark:text-gray-300 mb-2">
                            Confirme se os dados abaixo est√£o corretos. Se estiverem, clique em <b>Usar e abrir cadastro</b>.
                          </p>
                          <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                            <div>
                              <p className="text-sm font-semibold mb-1">Sugest√£o (flattened)</p>
                              <pre className="text-xs bg-gray-50 dark:bg-gray-800 p-2 rounded max-h-64 overflow-auto">{JSON.stringify(suggestionFlat, null, 2)}</pre>
                            </div>
                            {rawJson && (
                              <div>
                                <p className="text-sm font-semibold mb-1">JSON Parseado (opcional)</p>
                                <pre className="text-xs bg-gray-50 dark:bg-gray-800 p-2 rounded max-h-64 overflow-auto">{JSON.stringify(rawJson, null, 2)}</pre>
                              </div>
                            )}
                          </div>
                        </>
                      )}

                      <div className="mt-4 flex justify-end gap-2">
                        <button onClick={onClose} className="px-3 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100">
                          Cancelar
                        </button>
                        {!error && suggestionFlat && (
                          <button
                            onClick={handleConfirmClick}
                            className="px-3 py-2 rounded bg-green-600 text-white hover:bg-green-700"
                          >
                            Usar e abrir cadastro
                          </button>
                        )}
                      </div>
                    </div>
                  </div>

                  <ConfirmDialog
                    isOpen={confirmState.isOpen}
                    onClose={() => {
                      confirmState.resolve?.(false);
                      setConfirmState({ isOpen: false });
                    }}
                    onConfirm={() => {
                      confirmState.resolve?.(true);
                    }}
                    title="CNPJ indica Filial"
                    description={renderConfirmDescription()}
                    confirmText="Usar Matriz"
                    cancelText="Manter Filial"
                  />
                </>
              );
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ ExportButton.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';
            import { useState } from 'react';
            import PdfModal from './PdfModal';
            import * as XLSX from 'xlsx';

            export default function ExportButton({ data, filters }) {
              const [open, setOpen] = useState(false);

              const exportExcel = () => {
                const ws = XLSX.utils.json_to_sheet(data);
                const wb = XLSX.utils.book_new();
                XLSX.utils.book_append_sheet(wb, ws, 'Lista');
                XLSX.writeFile(wb, 'lista_prospeccao.xlsx');
              };

              const generatePdf = (max, onlyNew) => {
                // ‚úÖ Salva dados no localStorage para evitar URL gigante
                localStorage.setItem('printData', JSON.stringify(data));
                localStorage.setItem('printFilters', JSON.stringify({ ...filters, max, onlyNew }));

                // ‚úÖ Abre nova aba com tela de impress√£o sem passar JSON pela URL
                window.open(`/reports/print`, '_blank');

                // üî• Se for somente leads in√©ditos, marca na planilha
                if (onlyNew) {
                  fetch('/api/reports', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ rowsToMark: data.map((d) => d.rowNum).filter(Boolean) }),
                  });
                }
              };

              return (
                <div className="flex gap-2">
                  <button
                    onClick={() => setOpen(true)}
                    className="px-3 py-1 bg-blue-600 text-white rounded"
                  >
                    Gerar PDF
                  </button>
                  <button
                    onClick={exportExcel}
                    className="px-3 py-1 bg-green-600 text-white rounded"
                  >
                    Exportar Excel
                  </button>
                  <PdfModal
                    open={open}
                    onClose={() => setOpen(false)}
                    data={data}
                    onGenerate={generatePdf}
                  />
                </div>
              );
            }


        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ Filters.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';
            import { useEffect, useState } from 'react';
            
            export default function Filters({ onFilter }) {
              const [query, setQuery] = useState('');
              const [filters, setFilters] = useState({ segmento: '', porte: [], uf: '', cidade: '' });
              const [options, setOptions] = useState({ segmento: [], porte: [], uf: [], cidade: [] });
            
              useEffect(() => {
                fetch('/api/clientes')
                  .then((res) => res.json())
                  .then((data) => setOptions(data.filters));
              }, []);
            
              useEffect(() => {
                onFilter && onFilter({ query, ...filters });
              }, [query, filters]);
            
              const handleChange = (key, value) => {
                setFilters((prev) => ({ ...prev, [key]: value }));
              };

              const handleMultiSelect = (e) => {
                const selected = Array.from(e.target.selectedOptions).map((opt) => opt.value);
                setFilters((prev) => ({ ...prev, porte: selected }));
              };
            
              return (
                <div className="flex flex-col gap-2">
                  <input
                    type="text"
                    value={query}
                    onChange={(e) => setQuery(e.target.value)}
                    placeholder="Buscar..."
                    className="border p-2 rounded"
                  />

                  <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2">
                    {/* Segmento */}
                    <select
                      value={filters.segmento}
                      onChange={(e) => handleChange('segmento', e.target.value)}
                      className="border p-2 rounded"
                    >
                      <option value="">segmento</option>
                      {options.segmento.map((v) => (
                        <option key={v} value={v}>
                          {v}
                        </option>
                      ))}
                    </select>

                    {/* ‚úÖ Porte com m√∫ltipla escolha */}
                    <select
                      multiple
                      value={filters.porte}
                      onChange={handleMultiSelect}
                      className="border p-2 rounded h-24"
                    >
                      {options.porte.map((v) => (
                        <option key={v} value={v}>
                          {v}
                        </option>
                      ))}
                    </select>

                    {/* UF */}
                    <select
                      value={filters.uf}
                      onChange={(e) => handleChange('uf', e.target.value)}
                      className="border p-2 rounded"
                    >
                      <option value="">uf</option>
                      {options.uf.map((v) => (
                        <option key={v} value={v}>
                          {v}
                        </option>
                      ))}
                    </select>

                    {/* Cidade */}
                    <select
                      value={filters.cidade}
                      onChange={(e) => handleChange('cidade', e.target.value)}
                      className="border p-2 rounded"
                    >
                      <option value="">cidade</option>
                      {options.cidade.map((v) => (
                        <option key={v} value={v}>
                          {v}
                        </option>
                      ))}
                    </select>
                  </div>
                </div>
              );
            }


        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ HistoryModal.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';

            export default function HistoryModal({ open, interactions = [], onClose }) {
              if (!open) return null;

              return (
                <div className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
                  <div className="bg-white rounded shadow-lg p-6 w-11/12 max-w-lg mx-auto">
                    <h2 className="text-lg font-bold mb-4 text-center">Hist√≥rico de Intera√ß√µes</h2>
                    <div className="max-h-60 overflow-y-auto text-sm mb-4">
                      {interactions.map((i, idx) => (
                        <div key={idx} className="border-b py-1">
                          <p className="font-medium">
                            {new Date(i.dataHora).toLocaleString('pt-BR')} - {i.tipo}
                          </p>
                          {i.tipo === 'Mudan√ßa de Fase' && (
                            <p className="text-xs">
                              {i.deFase} ‚Üí {i.paraFase}
                            </p>
                          )}
                          {i.observacao && (
                            <p className="text-xs text-gray-700">Obs: {i.observacao}</p>
                          )}
                          {i.mensagemUsada && (
                            <p className="text-xs text-gray-700">Mensagem: {i.mensagemUsada}</p>
                          )}
                        </div>
                      ))}
                    </div>
                    <button
                      onClick={onClose}
                      className="px-3 py-2 bg-gray-400 text-white rounded w-full"
                    >
                      Fechar
                    </button>
                  </div>
                </div>
              );
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ KanbanCard.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';
            import { Draggable } from '@hello-pangea/dnd';
            import { useState, useMemo } from 'react';
            import { useRouter } from 'next/navigation';
            import MessageModal from './MessageModal';
            import ObservationModal from './ObservationModal';
            import HistoryModal from './HistoryModal';
            import SpotterModal from './SpotterModal';
            import { onlyDigits, isValidCNPJ } from '@/utils/cnpj';
            
            // Remove prote√ß√£o visual dos n√∫meros ('+553199999999' -> +553199999999)
            function displayPhone(phone) {
              return String(phone || '').replace(/^'+/, '');
            }
            
            function displayEmail(email) {
              return String(email || '').replace(/^'+/, '');
            }

            function getGreeting() {
              const h = new Date().getHours();
              if (h < 12) return 'bom dia';
              if (h < 18) return 'boa tarde';
              return 'boa noite';
            }

            function replacePlaceholders(template, { client, contact, phone }) {
              if (!template) return '';
              let msg = template;
              const firstName = (contact?.name || contact?.nome || '').split(' ')[0];
              const map = {
                '[nome]': firstName || '',
                '[Cliente]': client?.company || '',
                '[Cargo]': contact?.role || contact?.cargo || '',
                '[Email]': contact?.email || '',
                '[Telefone]': displayPhone(phone) || '',
                '[Cidade]': client?.city || '',
                '[UF]': client?.uf || '',
                '[Segmento]': client?.segment || '',
              };
              if (msg.includes('[Saudacao]')) {
                map['[Saudacao]'] = getGreeting();
              }
              Object.entries(map).forEach(([key, value]) => {
                msg = msg.split(key).join(value || '');
              });
              return msg;
            }

            async function fetchMessages(app) {
              try {
                const res = await fetch(`/api/mensagens?app=${app}`);
                if (!res.ok) return [];
                const data = await res.json();
                if (Array.isArray(data)) return data;
                if (Array.isArray(data?.mensagens)) return data.mensagens;
                if (Array.isArray(data?.messages)) return data.messages;
                return [];
              } catch {
                return [];
              }
            }

            export default function KanbanCard({ card, index }) {
              const [client, setClient] = useState(card.client);
              const [modalOpen, setModalOpen] = useState(false);
              const [modalMessages, setModalMessages] = useState([]);
              const [onSelectMessage, setOnSelectMessage] = useState(null);
              const [obsOpen, setObsOpen] = useState(false);
              const [obsAction, setObsAction] = useState(null);
              const [historyOpen, setHistoryOpen] = useState(false);
              const [historyData, setHistoryData] = useState([]);
              const [loading, setLoading] = useState(false);
              const [perdecompOpen, setPerdecompOpen] = useState(false);
              const [isSpotterModalOpen, setIsSpotterModalOpen] = useState(false);
              const [isEnrichConfirmOpen, setIsEnrichConfirmOpen] = useState(false);
              const router = useRouter();

              const queryValue = useMemo(() => {
                const raw =
                  client?.cnpj ||
                  client?.CNPJ ||
                  client?.CNPJ_Empresa ||
                  '';
                const clean = onlyDigits(raw);
                if (clean.length === 14 && isValidCNPJ(clean)) return clean;
                const name =
                  client?.company ||
                  client?.nome ||
                  client?.Nome_da_Empresa ||
                  '';
                return name.trim();
              }, [client]);

              const openModal = (messages, action) => {
                setModalMessages(messages);
                setOnSelectMessage(() => action);
                setModalOpen(true);
              };

              const openObservation = (action) => {
                setObsAction(() => action);
                setObsOpen(true);
              };

              const logInteraction = async (data) => {
                await fetch('/api/interacoes', {
                  method: 'POST',
                  headers: { 'Content-Type': 'application/json' },
                  body: JSON.stringify({ clienteId: client.id, dataHora: new Date().toISOString(), ...data }),
                });
              };
            
              const handleHistoryClick = async () => {
                const res = await fetch(`/api/interacoes?clienteId=${client.id}`);
                const history = await res.json();
                setHistoryData(history);
                setHistoryOpen(true);
              };

              const handlePerdecompConfirm = () => {
                const base = '/consultas/perdecomp-comparativo';
                const url = `${base}?q=${encodeURIComponent(queryValue)}`;
                setPerdecompOpen(false);
                router.push(url);
              };

              const handleDoubleClick = () => {
                if (loading) return;
                setIsEnrichConfirmOpen(true);
              };

              const handleEnrichConfirm = async () => {
                setIsEnrichConfirmOpen(false);
                try {
                  setLoading(true);
                  const payload = {
                    clienteId: client?.id,
                    nome: client?.company || client?.nome || '',
                    estado: client?.uf || '',
                    cidade: client?.city || '',
                    cep: client?.cep || '',
                    overwrite: false,
                  };

                  let res = await fetch('/api/enriquecer-empresa', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload),
                  });

                  let json = await res.json();

                  if (json.exists) {
                    const proceed = confirm('Este cliente j√° existe em outra lista. Deseja sobrescrever os dados com o enriquecimento?');
                    if (!proceed) {
                      setLoading(false);
                      return;
                    }
                    res = await fetch('/api/enriquecer-empresa', {
                      method: 'POST',
                      headers: { 'Content-Type': 'application/json' },
                      body: JSON.stringify({ ...payload, overwrite: true }),
                    });
                    json = await res.json();
                  }

                  if (!json.ok) {
                    throw new Error(json.error || 'Falha ao enriquecer empresa');
                  }

                  await fetch('/api/kanban', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ id: client.id, status: 'Lead Importado', color: 'gray' }),
                  });
                  setClient((prev) => ({ ...prev, ...json.data, status: 'Lead Importado', color: 'gray' }));

                  console.log('Enriquecimento conclu√≠do:', json.data);
                  alert('Dados da empresa enriquecidos e salvos na planilha.');
                } catch (err) {
                  console.error('Erro no enriquecimento:', err);
                  alert(`Erro ao enriquecer: ${err?.message || err}`);
                } finally {
                  setLoading(false);
                }
              };
            
              const handlePhoneClick = async (e, phone, contact) => {
                e.preventDefault();
                const digits = displayPhone(phone).replace(/\D/g, '');
                if (!digits) return;
                const number = digits.startsWith('55') ? digits : `55${digits}`;
                const messages = await fetchMessages('whatsapp');
                if (messages.length > 0) {
                  openModal(messages, ({ titulo, mensagem }) => {
                    const finalMsg = encodeURIComponent(
                      replacePlaceholders(mensagem, { client, contact, phone })
                    );
                    const url = `https://web.whatsapp.com/send/?phone=${number}&text=${finalMsg}&type=phone_number&app_absent=0`;
                    openObservation(async (obs) => {
                      await logInteraction({ tipo: 'WhatsApp', canal: phone, mensagemUsada: titulo, observacao: obs });
                      window.open(url, '_blank');
                    });
                  });
                } else {
                  const url = `https://web.whatsapp.com/send/?phone=${number}&type=phone_number&app_absent=0`;
                  openObservation(async (obs) => {
                    await logInteraction({ tipo: 'WhatsApp', canal: phone, observacao: obs });
                    window.open(url, '_blank');
                  });
                }
              };
            
              const handleEmailClick = async (e, email, contact) => {
                e.preventDefault();
                const phone = contact.mobile || contact.phone || '';
                const cleanEmail = displayEmail(email);
                const messages = await fetchMessages('email');
                if (messages.length > 0) {
                  openModal(messages, ({ titulo, mensagem }) => {
                    const subject = encodeURIComponent(
                      replacePlaceholders(titulo, { client, contact, phone })
                    );
                    const body = encodeURIComponent(
                      replacePlaceholders(mensagem, { client, contact, phone })
                    );
                    const url = `mailto:${cleanEmail}?subject=${subject}&body=${body}`;
                    openObservation(async (obs) => {
                      await logInteraction({ tipo: 'E-mail', canal: cleanEmail, mensagemUsada: titulo, observacao: obs });
                      window.location.href = url;
                    });
                  });
                } else {
                  const url = `mailto:${cleanEmail}`;
                  openObservation(async (obs) => {
                    await logInteraction({ tipo: 'E-mail', canal: cleanEmail, observacao: obs });
                    window.location.href = url;
                  });
                }
              };
            
              const handleLinkedinClick = async (e, url, contact) => {
                e.preventDefault();
                const phone = contact.mobile || contact.phone || '';
                const messages = await fetchMessages('linkedin');
                if (messages.length > 0) {
                  openModal(messages, ({ titulo, mensagem }) => {
                    const finalMsg = encodeURIComponent(
                      replacePlaceholders(mensagem, { client, contact, phone })
                    );
                    const finalUrl = `${url}?message=${finalMsg}`;
                    openObservation(async (obs) => {
                      await logInteraction({ tipo: 'LinkedIn', canal: url, mensagemUsada: titulo, observacao: obs });
                      window.open(finalUrl, '_blank');
                    });
                  });
                } else {
                  openObservation(async (obs) => {
                    await logInteraction({ tipo: 'LinkedIn', canal: url, observacao: obs });
                    window.open(url, '_blank');
                  });
                }
              };
            
              const backgroundColor =
                client.color === 'green'
                  ? '#a3ffac'
                  : client.color === 'red'
                  ? '#ffca99'
                  : client.color === 'gray'
                  ? '#e5e7eb'
                  : client.color === 'purple'
                  ? '#e9d5ff' // Light purple
                  : 'white';

              const borderLeftColor =
                client.color === 'green'
                  ? '#4caf50'
                  : client.color === 'red'
                  ? '#ff7043'
                  : client.color === 'gray'
                  ? '#9ca3af'
                  : client.color === 'purple'
                  ? '#9333ea' // Darker purple
                  : 'transparent';

              return (
                <Draggable draggableId={card.id} index={index}>
                  {(provided) => (
                    <>
                    <div
                      ref={provided.innerRef}
                      {...provided.draggableProps}
                      {...provided.dragHandleProps}
                      style={{
                        ...provided.draggableProps.style,
                        backgroundColor,
                        borderLeft: `4px solid ${borderLeftColor}`,
                      }}
                      className={`p-2 mb-2 rounded shadow transition-colors ${loading ? 'opacity-60 pointer-events-none' : ''}`}
                      onDoubleClick={handleDoubleClick}
                      title="D√™ duplo clique para enriquecer os dados desta empresa"
                    >
                      <h4 className="text-sm font-semibold mb-1">{client.company}</h4>

                      {(client.city || client.uf) && (
                        <p className="text-[10px] text-gray-600 mb-1">
                          {[client.city, client.uf].filter(Boolean).join(' - ')}
                        </p>
                      )}

                      {client.opportunities.length > 0 && (
                        <ul className="text-[10px] list-disc ml-4 mb-1">
                          {client.opportunities.map((o, i) => (
                            <li key={i}>{o}</li>
                          ))}
                        </ul>
                      )}

                      {client.contacts.map((c, i) => (
                        <div key={i} className="text-xs border-t pt-1">
                          <p className="font-medium">{c.name}</p>
                          {c.role && <p className="text-[10px]">{c.role}</p>}

                          {c.email && (
                            <p className="text-[10px]">
                              {c.email.split(';').map((em, idx) => {
                                const clean = displayEmail(em.trim());
                                return (
                                  <span key={idx}>
                                    <button
                                      type="button"
                                      className="text-blue-600 underline"
                                      onClick={(e) => handleEmailClick(e, clean, c)}
                                    >
                                      {clean}
                                    </button>
                                    {idx < c.email.split(';').length - 1 ? ' / ' : ''}
                                  </span>
                                );
                              })}
                            </p>
                          )}

                          {c.normalizedPhones && c.normalizedPhones.length > 0 && (
                            <p className="text-[10px]">
                              {c.normalizedPhones.map((p, idx) => (
                                <span key={idx}>
                                  <a
                                    href={`https://web.whatsapp.com/send/?phone=${displayPhone(p)
                                      .replace(/\D/g, '')
                                      .replace(/^/, (d) => (d.startsWith('55') ? d : `55${d}`))}&type=phone_number&app_absent=0`}
                                    className="text-green-600 underline"
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    onClick={(e) => handlePhoneClick(e, p, c)}
                                  >
                                    {displayPhone(p)}
                                  </a>
                                  {idx < c.normalizedPhones.length - 1 ? ' / ' : ''}
                                </span>
                              ))}
                            </p>
                          )}

                          {c.linkedin && (
                            <p>
                              <a
                                href={c.linkedin}
                                className="text-blue-600 underline"
                                target="_blank"
                                rel="noopener noreferrer"
                                onClick={(e) => handleLinkedinClick(e, c.linkedin, c)}
                              >
                                LinkedIn
                              </a>
                            </p>
                          )}
                        </div>
                      ))}
                      <div className="mt-2">
                        <button
                          onClick={() => setIsSpotterModalOpen(true)}
                          className="w-full text-center rounded-md border px-2 py-1 text-xs hover:bg-gray-50"
                          title="Enviar esta oportunidade para o Exact Spotter"
                        >
                          Enviar ao Spotter
                        </button>
                      </div>

                      <div className="mt-1 flex items-center justify-between text-[10px]">
                        <button
                          type="button"
                          className="text-blue-600 underline"
                          onClick={handleHistoryClick}
                        >
                          Hist√≥rico
                        </button>
                        <button
                          type="button"
                          onClick={() => setPerdecompOpen(true)}
                          className="text-blue-600 underline"
                          aria-label="Consultar PER/DCOMP para este cliente"
                          data-testid="cta-perdecomp"
                          title="Consultar PER/DCOMP"
                        >
                          Consultar PER/DCOMP
                        </button>
                      </div>
                    </div>
                    <MessageModal
                      open={modalOpen}
                      messages={modalMessages}
                      onSelect={(msg) => {
                        if (onSelectMessage) onSelectMessage(msg);
                        setModalOpen(false);
                      }}
                      onClose={() => setModalOpen(false)}
                    />
                    <ObservationModal
                      open={obsOpen}
                      onConfirm={async (obs) => {
                        if (obsAction) await obsAction(obs);
                        setObsOpen(false);
                      }}
                      onClose={() => setObsOpen(false)}
                    />
                    <HistoryModal
                      open={historyOpen}
                      interactions={historyData}
                      onClose={() => setHistoryOpen(false)}
                    />
                    <SpotterModal
                      isOpen={isSpotterModalOpen}
                      onClose={() => setIsSpotterModalOpen(false)}
                      initialData={client}
                      onSent={(update) => {
                        setClient(prev => ({ ...prev, ...update }));
                      }}
                    />
                    {isEnrichConfirmOpen && (
                      <div className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
                        <div className="bg-white rounded shadow-lg p-6 w-11/12 max-w-md mx-auto">
                          <h2 className="text-lg font-bold mb-2 text-center">Confirmar Enriquecimento</h2>
                          <p className="text-sm text-center mb-4">
                            Deseja buscar e atualizar os dados para a empresa <span className="font-bold">{client.company}</span>?
                          </p>
                          <div className="flex justify-end gap-2">
                            <button
                              onClick={() => setIsEnrichConfirmOpen(false)}
                              className="px-3 py-1.5 rounded border"
                            >
                              Cancelar
                            </button>
                            <button
                              onClick={handleEnrichConfirm}
                              className="px-3 py-1.5 rounded bg-black text-white"
                            >
                              Sim, enriquecer
                            </button>
                          </div>
                        </div>
                      </div>
                    )}
                    {perdecompOpen && (
                      <div className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
                        <div className="bg-white rounded shadow-lg p-6 w-11/12 max-w-md mx-auto">
                          <h2 className="text-lg font-bold mb-2 text-center">Confirmar consulta PER/DCOMP</h2>
                          <div className="text-sm mb-4">
                            <div>
                              <span className="font-medium">Empresa:</span> {client.company || client.nome || client.Nome_da_Empresa || '‚Äî'}
                            </div>
                            {(client.cnpj || client.CNPJ || client.CNPJ_Empresa) && (
                              <div>
                                <span className="font-medium">CNPJ:</span>{' '}
                                {client.cnpj || client.CNPJ || client.CNPJ_Empresa}
                              </div>
                            )}
                            <div className="mt-2">
                              <span className="font-medium">Ser√° enviado:</span>{' '}
                              <code className="px-1 py-0.5 bg-gray-100 rounded">{queryValue || '‚Äî'}</code>
                            </div>
                          </div>
                          <div className="flex justify-end gap-2">
                            <button
                              onClick={() => setPerdecompOpen(false)}
                              className="px-3 py-1.5 rounded border"
                            >
                              Cancelar
                            </button>
                            <button
                              onClick={handlePerdecompConfirm}
                              className="px-3 py-1.5 rounded bg-black text-white"
                            >
                              Sim, continuar
                            </button>
                          </div>
                        </div>
                      </div>
                    )}
                    </>
                  )}
                </Draggable>
              );
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ KanbanColumn.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';
            import { Droppable } from '@hello-pangea/dnd';
            import KanbanCard from './KanbanCard';

            export default function KanbanColumn({ column }) {
              return (
                <div className="w-full md:w-64 flex-shrink-0">
                  {/*
                    Append the current number of cards to the column title.
                    This updates automatically whenever the column prop changes,
                    ensuring the count reflects drag-and-drop operations or refreshes.
                  */}
                  <h2 className="font-bold mb-2">
                    {`${column.title} | ${column.cards.length}`}
                  </h2>
                  <Droppable droppableId={column.id}>
                    {(provided) => (
                      <div
                        ref={provided.innerRef}
                        {...provided.droppableProps}
                        className="min-h-[100px] p-2 bg-gray-100 rounded"
                      >
                        {column.cards.map((card, index) => (
                          <KanbanCard key={card.id} card={card} index={index} />
                        ))}
                        {provided.placeholder}
                      </div>
                    )}
                  </Droppable>
                </div>
              );
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ MessageModal.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';

            export default function MessageModal({ open, messages = [], onSelect, onClose }) {
              if (!open) return null;

              return (
                <div className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
                  <div className="bg-white rounded shadow-lg p-6 w-11/12 max-w-md mx-auto">
                    <h2 className="text-lg font-bold mb-4 text-center">Selecione uma mensagem</h2>
                    <div className="flex flex-col gap-2 mb-4">
                      {messages.map((m, idx) => (
                        <button
                          key={idx}
                          onClick={() => {
                            if (onSelect) onSelect(m);
                            if (onClose) onClose();
                          }}
                          className="px-3 py-2 bg-blue-600 text-white rounded text-sm"
                        >
                          {m.titulo}
                        </button>
                      ))}
                    </div>
                    <button
                      onClick={onClose}
                      className="mt-2 px-3 py-2 bg-gray-400 text-white rounded w-full"
                    >
                      Cancelar
                    </button>
                  </div>
                </div>
              );
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ NewCompanyModal.tsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';

            import { useState, useEffect, FormEvent } from 'react';
            import { FaSpinner, FaSearch } from 'react-icons/fa';
            import type { CompanySuggestion } from '../lib/perplexity';
            import { onlyDigits, padCNPJ14, isValidCNPJ } from '@/utils/cnpj';
            import { isEmptyCNPJLike } from '@/utils/cnpj-matriz';
            import { decideCNPJFinal } from '@/helpers/decideCNPJ';

            // --- Types ---
            interface CompanyData {
              Nome_da_Empresa?: string; Site_Empresa?: string; Pa√≠s_Empresa?: string; Estado_Empresa?: string;
              Cidade_Empresa?: string; Logradouro_Empresa?: string; Numero_Empresa?: string; Bairro_Empresa?: string;
              Complemento_Empresa?: string; CEP_Empresa?: string; CNPJ_Empresa?: string; DDI_Empresa?: string;
              Telefones_Empresa?: string; Observacao_Empresa?: string;
            }
            interface ContactData {
              Nome_Contato?: string; Email_Contato?: string; Cargo_Contato?: string;
              DDI_Contato?: string; Telefones_Contato?: string;
            }
            interface CommercialData {
              Origem?: string; Sub_Origem?: string; Mercado?: string; Produto?: string; √Årea?: string;
              Etapa?: string; Funil?: string; Tipo_do_Serv_Comunicacao?: string; ID_do_Serv_Comunicacao?: string;
            }
            export interface FullCompanyPayload {
              Cliente_ID?: string;
              Empresa: CompanyData;
              Contato: ContactData;
              Comercial: CommercialData;
            }
            interface SavedCompany {
              Cliente_ID: string; Nome_da_Empresa: string; CNPJ_Empresa: string;
            }
            export interface NewCompanyModalProps {
              isOpen: boolean;
              initialData?: Partial<CompanyForm>;
              warning?: boolean;
              enrichDebug?: any;
              onClose: () => void;
              onSaved: (company: SavedCompany) => void;
            }

            type CompanyForm = CompanySuggestion & {
              Cliente_ID?: string;
              Origem?: string;
              Sub_Origem?: string;
              Etapa?: string;
              Funil?: string;
              Tipo_do_Serv_Comunicacao?: string;
              ID_do_Serv_Comunicacao?: string;
            };

            // --- Normalization Utilities ---

            function normalizeUF(uf?: string) {
              const u = (uf || '').trim().toUpperCase();
              return u.length === 2 ? u : '';
            }

            function normalizePhones(s?: string) {
              const raw = (s || '')
                .replace(/['"]/g, '')
                .split(/[;,/]| ou /i)
                .map(t => t.trim())
                .filter(Boolean);
              const uniq = Array.from(new Set(raw)).map(t => {
                const d = onlyDigits(t);
                if (!d) return '';
                return d.startsWith('55') ? `+${d}` : `+55${d}`;
              }).filter(Boolean);
              return uniq.join('; ');
            }

            function applySuggestionToForm(current: CompanyForm, suggestion: Partial<CompanyForm>, onlyEmpty = true): CompanyForm {
              const s: Partial<CompanyForm> = { ...suggestion };

              if (s.CNPJ_Empresa) s.CNPJ_Empresa = padCNPJ14(s.CNPJ_Empresa);
              if (s.Estado_Empresa) s.Estado_Empresa = normalizeUF(s.Estado_Empresa);
              if (s.Telefones_Empresa) s.Telefones_Empresa = normalizePhones(s.Telefones_Empresa);
              if (s.Telefones_Contato) s.Telefones_Contato = normalizePhones(s.Telefones_Contato);
              if (s.DDI_Empresa && !s.DDI_Empresa.startsWith('+')) s.DDI_Empresa = `+${onlyDigits(s.DDI_Empresa) || '55'}`;
              if (s.DDI_Contato && !s.DDI_Contato.startsWith('+')) s.DDI_Contato = `+${onlyDigits(s.DDI_Contato) || '55'}`;
              if (s.Pais_Empresa === undefined) s.Pais_Empresa = 'Brasil';

              const next: CompanyForm = { ...current };

              (Object.keys(s) as (keyof CompanyForm)[]).forEach((key) => {
                const cur = (next[key] ?? '').toString().trim();
                const val = (s[key] ?? '').toString().trim();
                if ((onlyEmpty && !cur && val) || (!onlyEmpty && val)) next[key] = val as any;
              });

              return next;
            }

            // --- Initial State ---
            const initialForm: CompanyForm = {
              Nome_da_Empresa: '',
              Site_Empresa: '',
              Pais_Empresa: 'Brasil',
              Estado_Empresa: '',
              Cidade_Empresa: '',
              Logradouro_Empresa: '',
              Numero_Empresa: '',
              Bairro_Empresa: '',
              Complemento_Empresa: '',
              CEP_Empresa: '',
              CNPJ_Empresa: '',
              DDI_Empresa: '+55',
              Telefones_Empresa: '',
              Observacao_Empresa: '',
              Nome_Contato: '',
              Email_Contato: '',
              Cargo_Contato: '',
              DDI_Contato: '+55',
              Telefones_Contato: '',
              Mercado: '',
              Produto: '',
              Area: '',
              Origem: 'Cadastro Manual',
              Sub_Origem: 'Modal PER/DCOMP',
              Etapa: 'Novo',
              Funil: 'Padr√£o',
              Tipo_do_Serv_Comunicacao: '',
              ID_do_Serv_Comunicacao: '',
            };

            // --- Component ---
            export default function NewCompanyModal({ isOpen, initialData, warning, enrichDebug: initialDebug, onClose, onSaved }: NewCompanyModalProps) {
              const [formData, setFormData] = useState<CompanyForm>(initialForm);
              const [isLoading, setIsLoading] = useState(false);
              const [error, setError] = useState<string | null>(null);
              const [debugOpen, setDebugOpen] = useState(false);
              const [enrichDebug, setEnrichDebug] = useState<any>(null);

              const isUpdateMode = !!formData.Cliente_ID;

              useEffect(() => {
                if (isOpen) {
                  setError(null);
                  setEnrichDebug(initialDebug || null);
                  setFormData(initialForm);
                  if (initialData) {
                    setFormData(prev => applySuggestionToForm(prev, initialData, false));
                  }
                }
              }, [isOpen, initialData, initialDebug]);
            
              const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {
                const { name, value } = e.target;
                setFormData((prev) => ({ ...prev, [name]: value }));
              };
            
              const handleClose = () => {
                onClose();
                setFormData(initialForm);
              };
            
              const handleSubmit = async (e: FormEvent) => {
                e.preventDefault();
                if (!formData.Nome_da_Empresa) {
                  setError('O "Nome da Empresa" √© obrigat√≥rio.');
                  return;
                }
                setIsLoading(true);
                setError(null);
                try {
                  const decided = await decideCNPJFinal({
                    currentFormCNPJ: formData.CNPJ_Empresa,
                    enrichedCNPJ: initialData?.CNPJ_Empresa,
                    ask: async () => false,
                  });
                  const digits = onlyDigits(decided);
                  const cnpj = isEmptyCNPJLike(digits) ? '' : padCNPJ14(digits);
                  if (cnpj && !isValidCNPJ(cnpj)) {
                    setIsLoading(false);
                    setError('CNPJ inv√°lido. Verifique e tente novamente.');
                    return;
                  }
                  const payload: FullCompanyPayload = {
                    Cliente_ID: formData.Cliente_ID,
                    Empresa: {
                      Nome_da_Empresa: formData.Nome_da_Empresa,
                      Site_Empresa: formData.Site_Empresa,
                      Pa√≠s_Empresa: formData.Pais_Empresa,
                      Estado_Empresa: formData.Estado_Empresa,
                      Cidade_Empresa: formData.Cidade_Empresa,
                      Logradouro_Empresa: formData.Logradouro_Empresa,
                      Numero_Empresa: formData.Numero_Empresa,
                      Bairro_Empresa: formData.Bairro_Empresa,
                      Complemento_Empresa: formData.Complemento_Empresa,
                      CEP_Empresa: formData.CEP_Empresa,
                      CNPJ_Empresa: cnpj,
                      DDI_Empresa: formData.DDI_Empresa,
                      Telefones_Empresa: formData.Telefones_Empresa,
                      Observacao_Empresa: formData.Observacao_Empresa,
                    },
                    Contato: {
                      Nome_Contato: formData.Nome_Contato,
                      Email_Contato: formData.Email_Contato,
                      Cargo_Contato: formData.Cargo_Contato,
                      DDI_Contato: formData.DDI_Contato,
                      Telefones_Contato: formData.Telefones_Contato,
                    },
                    Comercial: {
                      Origem: formData.Origem,
                      Sub_Origem: formData.Sub_Origem,
                      Mercado: formData.Mercado,
                      Produto: formData.Produto,
                      √Årea: formData.Area,
                      Etapa: formData.Etapa,
                      Funil: formData.Funil,
                      Tipo_do_Serv_Comunicacao: formData.Tipo_do_Serv_Comunicacao,
                      ID_do_Serv_Comunicacao: formData.ID_do_Serv_Comunicacao,
                    },
                  };

                  const res = await fetch('/api/empresas/cadastrar', {
                    method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload),
                  });
                  const data = await res.json();
                  if (!res.ok) {
                    throw new Error(data.message || 'Erro ao salvar empresa.');
                  }
                  onSaved(data.company);
                  handleClose();
                } catch (err: any) {
                  setError(err.message);
                } finally {
                  setIsLoading(false);
                }
              };

              if (!isOpen) return null;
            
              return (
                <>
                <div className="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50" role="dialog" aria-labelledby="modal-title">
                  <div className="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-3xl flex flex-col max-h-[90vh]">
                    <header className="flex-shrink-0 px-6 py-4 border-b border-gray-200 dark:border-gray-700">
                        <h2 id="modal-title" className="text-2xl font-bold text-gray-900 dark:text-gray-100">
                            {isUpdateMode ? 'Atualizar Empresa' : 'Cadastrar Nova Empresa'}
                        </h2>
                        <p className="text-sm text-gray-500">Preencha os dados abaixo. Campos com * s√£o obrigat√≥rios.</p>
                    </header>

                    <form onSubmit={handleSubmit} className="flex-grow contents">
                        <div className="flex-grow p-6 space-y-6 overflow-y-auto">
                            {warning && (
                              <div className="bg-yellow-50 text-yellow-800 border border-yellow-200 rounded p-2 text-sm">
                                N√£o foi poss√≠vel enriquecer automaticamente. Voc√™ pode preencher manualmente.
                              </div>
                            )}
                            {process.env.NEXT_PUBLIC_SHOW_ENRICH_DEBUG === '1' && enrichDebug && (
                              <div>
                                <button
                                  type="button"
                                  onClick={() => setDebugOpen(true)}
                                  className="text-xs underline text-gray-600 hover:text-gray-900"
                                >
                                  Ver resposta da API (debug)
                                </button>
                              </div>
                            )}
                            {/* --- Dados da Empresa --- */}
                            <section>
                              <h3 className="text-lg font-semibold border-b border-gray-200 dark:border-gray-700 pb-2 mb-4">Dados da Empresa</h3>
                              <div className="grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-4">
                                <div className="md:col-span-2">
                                  <label htmlFor="nome-empresa" className="block text-sm font-medium mb-1">Nome da Empresa *</label>
                                  <input id="nome-empresa" type="text" name="Nome_da_Empresa" value={formData.Nome_da_Empresa || ''} onChange={handleChange} required aria-required="true" className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                <div>
                                  <label htmlFor="cnpj-empresa" className="block text-sm font-medium mb-1">CNPJ Empresa</label>
                                  <div className="flex items-center gap-2">
                                    <input id="cnpj-empresa" type="text" name="CNPJ_Empresa" value={formData.CNPJ_Empresa || ''} onChange={e => setFormData(prev => ({ ...prev, CNPJ_Empresa: onlyDigits(e.target.value) }))} onBlur={() => setFormData(prev => ({ ...prev, CNPJ_Empresa: padCNPJ14(prev.CNPJ_Empresa) }))} className="flex-grow w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                    <button
                                      type="button"
                                      onClick={() => {
                                        const query = encodeURIComponent(`${formData.Nome_da_Empresa} CNPJ`);
                                        window.open(`https://www.google.com/search?q=${query}`, '_blank');
                                      }}
                                      className="p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 rounded"
                                      aria-label="Pesquisar CNPJ no Google"
                                      title="Pesquisar CNPJ no Google"
                                    >
                                      <FaSearch />
                                    </button>
                                  </div>
                                  <p className="text-xs text-gray-500 mt-1">Apenas d√≠gitos; validado no envio.</p>
                                </div>
                                <div>
                                  <label htmlFor="site-empresa" className="block text-sm font-medium mb-1">Site Empresa</label>
                                  <input id="site-empresa" type="url" name="Site_Empresa" placeholder="https://..." value={formData.Site_Empresa || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                <div className="md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <div>
                                        <label htmlFor="logradouro-empresa" className="block text-sm font-medium mb-1">Logradouro</label>
                                        <input id="logradouro-empresa" type="text" name="Logradouro_Empresa" value={formData.Logradouro_Empresa || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                    </div>
                                    <div>
                                        <label htmlFor="numero-empresa" className="block text-sm font-medium mb-1">N√∫mero</label>
                                        <input id="numero-empresa" type="text" name="Numero_Empresa" value={formData.Numero_Empresa || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                    </div>
                                    <div>
                                        <label htmlFor="bairro-empresa" className="block text-sm font-medium mb-1">Bairro</label>
                                        <input id="bairro-empresa" type="text" name="Bairro_Empresa" value={formData.Bairro_Empresa || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                    </div>
                                </div>
                                <div>
                                  <label htmlFor="cidade-empresa" className="block text-sm font-medium mb-1">Cidade</label>
                                  <input id="cidade-empresa" type="text" name="Cidade_Empresa" value={formData.Cidade_Empresa || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                <div>
                                  <label htmlFor="estado-empresa" className="block text-sm font-medium mb-1">Estado (UF)</label>
                                  <input id="estado-empresa" type="text" name="Estado_Empresa" value={formData.Estado_Empresa || ''} onChange={e => setFormData(prev => ({ ...prev, Estado_Empresa: e.target.value.toUpperCase() }))} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                  <p className="text-xs text-gray-500 mt-1">Use a sigla, ex.: SP</p>
                                </div>
                                <div>
                                  <label htmlFor="cep-empresa" className="block text-sm font-medium mb-1">CEP</label>
                                  <input id="cep-empresa" type="text" name="CEP_Empresa" value={formData.CEP_Empresa || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                  <p className="text-xs text-gray-500 mt-1">Formato 00000-000</p>
                                </div>
                                <div>
                                  <label htmlFor="pais-empresa" className="block text-sm font-medium mb-1">Pa√≠s</label>
                                  <input id="pais-empresa" type="text" name="Pais_Empresa" value={formData.Pais_Empresa || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                <div>
                                  <label htmlFor="ddi-empresa" className="block text-sm font-medium mb-1">DDI Empresa</label>
                                  <input id="ddi-empresa" type="text" name="DDI_Empresa" value={formData.DDI_Empresa || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                <div>
                                  <label htmlFor="telefones-empresa" className="block text-sm font-medium mb-1">Telefones Empresa</label>
                                  <input id="telefones-empresa" type="text" name="Telefones_Empresa" value={formData.Telefones_Empresa || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                  <p className="text-xs text-gray-500 mt-1">Separe m√∫ltiplos por ;</p>
                                </div>
                                <div className="md:col-span-2">
                                  <label htmlFor="obs-empresa" className="block text-sm font-medium mb-1">Observa√ß√£o</label>
                                  <textarea id="obs-empresa" name="Observacao_Empresa" value={formData.Observacao_Empresa || ''} onChange={handleChange} rows={3} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                              </div>
                            </section>

                            <section className="border-t border-gray-200 dark:border-gray-700 pt-4 mt-6">
                              <h3 className="text-lg font-semibold pb-2 mb-4">Dados de Contato</h3>
                              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                  <label htmlFor="nome-contato" className="block text-sm font-medium mb-1">Nome Contato</label>
                                  <input id="nome-contato" type="text" name="Nome_Contato" value={formData.Nome_Contato || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                <div>
                                  <label htmlFor="cargo-contato" className="block text-sm font-medium mb-1">Cargo Contato</label>
                                  <input id="cargo-contato" type="text" name="Cargo_Contato" value={formData.Cargo_Contato || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                <div className="md:col-span-2">
                                  <label htmlFor="email-contato" className="block text-sm font-medium mb-1">E-mail Contato</label>
                                  <input id="email-contato" type="email" name="Email_Contato" value={formData.Email_Contato || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                <div>
                                  <label htmlFor="ddi-contato" className="block text-sm font-medium mb-1">DDI Contato</label>
                                  <input id="ddi-contato" type="text" name="DDI_Contato" value={formData.DDI_Contato || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                <div>
                                  <label htmlFor="telefones-contato" className="block text-sm font-medium mb-1">Telefones Contato</label>
                                  <input id="telefones-contato" type="text" name="Telefones_Contato" value={formData.Telefones_Contato || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                  <p className="text-xs text-gray-500 mt-1">Separe m√∫ltiplos por ;</p>
                                </div>
                              </div>
                            </section>

                            <section className="border-t border-gray-200 dark:border-gray-700 pt-4 mt-6">
                              <h3 className="text-lg font-semibold pb-2 mb-4">Comercial / Pipeline</h3>
                              <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                 <div>
                                  <label htmlFor="origem" className="block text-sm font-medium mb-1">Origem</label>
                                  <input id="origem" type="text" name="Origem" value={formData.Origem || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                <div>
                                  <label htmlFor="sub-origem" className="block text-sm font-medium mb-1">Sub-Origem</label>
                                  <input id="sub-origem" type="text" name="Sub_Origem" value={formData.Sub_Origem || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                 <div>
                                  <label htmlFor="etapa" className="block text-sm font-medium mb-1">Etapa</label>
                                  <input id="etapa" type="text" name="Etapa" value={formData.Etapa || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                <div>
                                  <label htmlFor="mercado" className="block text-sm font-medium mb-1">Mercado</label>
                                  <input id="mercado" type="text" name="Mercado" value={formData.Mercado || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                 <div>
                                  <label htmlFor="produto" className="block text-sm font-medium mb-1">Produto</label>
                                  <input id="produto" type="text" name="Produto" value={formData.Produto || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                                 <div>
                                  <label htmlFor="area" className="block text-sm font-medium mb-1">√Årea</label>
                                  <input id="area" type="text" name="Area" value={formData.Area || ''} onChange={handleChange} className="w-full rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"/>
                                </div>
                              </div>
                            </section>
                        </div>

                        <footer className="flex-shrink-0 px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex justify-end gap-3">
                          {error && <p className="text-red-500 text-sm self-center mr-auto" role="alert">{error}</p>}
                          <button
                            type="button"
                            onClick={handleClose}
                            className="px-3 py-2 rounded-md bg-gray-200 text-gray-900 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600 dark:focus:ring-gray-500"
                          >
                            Cancelar
                          </button>
                          <button
                            type="submit"
                            disabled={isLoading}
                            className="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-60 disabled:cursor-not-allowed flex items-center gap-2"
                          >
                            {isLoading && <FaSpinner className="animate-spin" />}
                            {isUpdateMode ? 'Atualizar' : 'Cadastrar'}
                          </button>
                        </footer>
                    </form>
                  </div>
                </div>
                {debugOpen && (
                  <div className="fixed inset-0 bg-black/40 z-50 flex items-center justify-center" onClick={() => setDebugOpen(false)}>
                    <div className="bg-white dark:bg-gray-900 rounded-lg w-full max-w-3xl p-4 shadow-lg" onClick={e => e.stopPropagation()}>
                      <div className="flex items-center justify-between mb-3">
                        <h3 className="font-semibold">Debug ‚Äì Perplexity</h3>
                        <button onClick={() => setDebugOpen(false)} className="text-gray-500 hover:text-gray-800">Fechar</button>
                      </div>

                      <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                        <div>
                          <p className="text-sm font-semibold mb-1">Flattened (usado no formData)</p>
                          <pre className="text-xs bg-gray-50 dark:bg-gray-800 p-2 rounded max-h-64 overflow-auto">{JSON.stringify(enrichDebug?.flattened, null, 2)}</pre>
                        </div>
                        <div>
                          <p className="text-sm font-semibold mb-1">JSON Parseado</p>
                          <pre className="text-xs bg-gray-50 dark:bg-gray-800 p-2 rounded max-h-64 overflow-auto">{JSON.stringify(enrichDebug?.parsedJson, null, 2)}</pre>
                        </div>
                        <div className="md:col-span-2">
                          <p className="text-sm font-semibold mb-1">Raw (conte√∫do bruto)</p>
                          <pre className="text-xs bg-gray-50 dark:bg-gray-800 p-2 rounded max-h-64 overflow-auto">{enrichDebug?.rawContent}</pre>
                        </div>
                      </div>
                    </div>
                  </div>
                )}
                </>
              );
            }


        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ ObservationModal.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';
            import { useState } from 'react';

            export default function ObservationModal({ open, onConfirm, onClose }) {
              const [obs, setObs] = useState('');
            
              if (!open) return null;
            
              const handleConfirm = () => {
                if (onConfirm) onConfirm(obs);
                setObs('');
              };

              return (
                <div className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
                  <div className="bg-white rounded shadow-lg p-6 w-11/12 max-w-md mx-auto">
                    <h2 className="text-lg font-bold mb-4 text-center">Observa√ß√£o</h2>
                    <textarea
                      className="w-full border p-2 mb-4"
                      rows={4}
                      value={obs}
                      onChange={(e) => setObs(e.target.value)}
                    />
                    <button
                      className="px-3 py-2 bg-blue-600 text-white rounded w-full mb-2"
                      onClick={() => {
                        handleConfirm();
                        if (onClose) onClose();
                      }}
                    >
                      Confirmar
                    </button>
                    <button
                      className="px-3 py-2 bg-gray-400 text-white rounded w-full"
                      onClick={onClose}
                    >
                      Cancelar
                    </button>
                  </div>
                </div>
              );
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ PdfModal.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';
            import { useState } from 'react';
            
            export default function PdfModal({ open, onClose, data = [], onGenerate }) {
              if (!open) return null;

              const [customValue, setCustomValue] = useState('');
              const [onlyNew, setOnlyNew] = useState(true); // ‚úÖ Checkbox come√ßa marcado
              const options = [10, 30, 50, 100];

              const handleCustomGenerate = () => {
                const value = parseInt(customValue, 10);
                if (!isNaN(value) && value > 0) {
                  onGenerate(value, onlyNew);
                  onClose();
                }
              };

              return (
                <div className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
                  <div className="bg-white rounded shadow-lg p-6 w-96">
                    <h2 className="text-lg font-bold mb-4">Gerar PDF</h2>
                    <p className="mb-2">Escolha o n√∫mero m√°ximo de leads por impress√£o:</p>
                    <div className="flex flex-col gap-2">
                      {options.map((max) => (
                        <button
                          key={max}
                          onClick={() => {
                            onGenerate(max, onlyNew);
                            onClose();
                          }}
                          className="px-3 py-1 bg-blue-600 text-white rounded"
                        >
                          {max} Leads
                        </button>
                      ))}
                      <div className="flex gap-2 mt-2">
                        <input
                          type="number"
                          placeholder="Outro valor"
                          className="border p-1 rounded flex-1"
                          value={customValue}
                          onChange={(e) => setCustomValue(e.target.value)}
                          onKeyDown={(e) => {
                            if (e.key === 'Enter') handleCustomGenerate();
                          }}
                        />
                        <button
                          onClick={handleCustomGenerate}
                          className="px-3 py-1 bg-green-600 text-white rounded"
                        >
                          OK
                        </button>
                      </div>

                      {/* ‚úÖ Checkbox para leads in√©ditos */}
                      <label className="flex items-center gap-2 mt-3">
                        <input
                          type="checkbox"
                          checked={onlyNew}
                          onChange={(e) => setOnlyNew(e.target.checked)}
                        />
                        <span className="text-sm">Somente Leads In√©ditos</span>
                      </label>
                    </div>
                    <button
                      onClick={onClose}
                      className="mt-4 px-3 py-1 bg-gray-400 text-white rounded"
                    >
                      Cancelar
                    </button>
                  </div>
                </div>
              );
            }
            

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ PerdcompApiPreviewDialog.tsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            import { useEffect, useRef } from 'react';

            interface Company {
              Nome_da_Empresa: string;
              CNPJ_Empresa: string;
              [key: string]: any;
            }

            type ApiDebug = {
              requestedAt?: string;
              fonte?: 'api' | 'planilha';
              apiRequest?: any;
              apiResponse?: any;
              mappedCount?: number;
              siteReceipts?: string[];
              header?: any;
            } | null;

            interface Props {
              isOpen: boolean;
              onClose: () => void;
              company: Company | null;
              debug: ApiDebug;
            }

            export default function PerdcompApiPreviewDialog({ isOpen, onClose, company, debug }: Props) {
              const closeRef = useRef<HTMLButtonElement>(null);

              useEffect(() => {
                const handler = (e: KeyboardEvent) => {
                  if (e.key === 'Escape') onClose();
                };
                if (isOpen) {
                  document.addEventListener('keydown', handler);
                  setTimeout(() => closeRef.current?.focus(), 0);
                }
                return () => document.removeEventListener('keydown', handler);
              }, [isOpen, onClose]);

              if (!isOpen) return null;

              const handleCopy = () => {
                if (debug?.apiResponse) {
                  navigator.clipboard.writeText(JSON.stringify(debug.apiResponse, null, 2));
                }
              };

              const fontePill = debug?.fonte === 'api'
                ? <span className="px-2 py-0.5 bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100 rounded-full text-xs">API</span>
                : debug?.fonte === 'planilha'
                  ? <span className="px-2 py-0.5 bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200 rounded-full text-xs">Planilha</span>
                  : null;

              const firstPerdcomp = debug?.apiResponse?.data?.[0]?.perdcomp?.[0];

              return (
                <div className="fixed inset-0 bg-black/40 z-50" onClick={onClose}>
                  <div className="absolute right-0 top-0 h-full w-full max-w-4xl bg-white dark:bg-gray-900 shadow-xl p-4 overflow-y-auto" onClick={e => e.stopPropagation()}>
                    <div className="flex items-center justify-between mb-4">
                      <div>
                        <h2 className="text-lg font-semibold">Retorno da API ‚Äì {company?.Nome_da_Empresa}</h2>
                        <p className="text-sm text-gray-600 dark:text-gray-400">{company?.CNPJ_Empresa}</p>
                      </div>
                      <button ref={closeRef} onClick={onClose} className="text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100">Fechar</button>
                    </div>
                    <div className="mb-4 flex items-center gap-2 text-sm">
                      {fontePill}
                      {debug?.requestedAt && <span className="text-gray-500 dark:text-gray-400">Consultado em {new Date(debug.requestedAt).toLocaleString()}</span>}
                    </div>
                    {debug?.fonte === 'planilha' && (
                      <div className="mb-4 p-2 bg-yellow-50 text-yellow-800 border border-yellow-200 rounded text-sm">
                        Usamos planilha ‚Äì a API n√£o foi acionada nesta consulta.
                      </div>
                    )}
                    <div className="space-y-4">
                      <div>
                        <h3 className="font-semibold mb-2">Resumo</h3>
                        <div className="text-sm space-y-1">
                          {debug?.apiResponse && (
                            <>
                              <div>code: {debug.apiResponse.code}</div>
                              <div>code_message: {debug.apiResponse.code_message}</div>
                              <div>data_count: {debug.apiResponse.data_count}</div>
                            </>
                          )}
                          {typeof debug?.mappedCount === 'number' && <div>mappedCount: {debug.mappedCount}</div>}
                          {debug?.siteReceipts?.length ? (
                            <div>
                              site_receipts:
                              <ul className="list-disc ml-5">
                                {debug.siteReceipts.map((s, i) => (
                                  <li key={i}><a href={s} target="_blank" rel="noopener noreferrer" className="text-blue-600 dark:text-blue-400 underline">{s}</a></li>
                                ))}
                              </ul>
                            </div>
                          ) : null}
                          {firstPerdcomp && (
                            <div className="mt-2">
                              <h4 className="font-medium">Primeiro PER/DCOMP</h4>
                              <div className="text-xs space-y-0.5">
                                <div>perdcomp: {firstPerdcomp.perdcomp}</div>
                                <div>solicitante: {firstPerdcomp.solicitante}</div>
                                <div>tipo_documento: {firstPerdcomp.tipo_documento}</div>
                                <div>tipo_credito: {firstPerdcomp.tipo_credito}</div>
                                <div>data_transmissao: {firstPerdcomp.data_transmissao}</div>
                                <div>situacao: {firstPerdcomp.situacao}</div>
                                <div>situacao_detalhamento: {firstPerdcomp.situacao_detalhamento}</div>
                              </div>
                            </div>
                          )}
                        </div>
                      </div>
                      <div>
                        <h3 className="font-semibold mb-2">JSON bruto</h3>
                        {debug?.apiResponse ? (
                          <pre className="text-xs bg-gray-50 dark:bg-gray-800 p-2 rounded max-h-[55vh] overflow-auto">{JSON.stringify(debug.apiResponse, null, 2)}</pre>
                        ) : (
                          <p className="text-sm text-gray-500">Sem resposta da API.</p>
                        )}
                      </div>
                      {debug?.header && (
                        <div>
                          <h3 className="font-semibold mb-2">Cabe√ßalho</h3>
                          <pre className="text-xs bg-gray-50 dark:bg-gray-800 p-2 rounded max-h-60 overflow-auto">{JSON.stringify(debug.header, null, 2)}</pre>
                        </div>
                      )}
                      {debug?.apiRequest && (
                        <div>
                          <h3 className="font-semibold mb-2">Requisi√ß√£o</h3>
                          <pre className="text-xs bg-gray-50 dark:bg-gray-800 p-2 rounded max-h-60 overflow-auto">{JSON.stringify(debug.apiRequest, null, 2)}</pre>
                        </div>
                      )}
                    </div>
                    <div className="mt-4 flex justify-end gap-2">
                      <button onClick={onClose} className="px-3 py-1.5 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600 text-sm">Fechar</button>
                      {debug?.apiResponse && (
                        <button onClick={handleCopy} className="px-3 py-1.5 bg-violet-600 text-white rounded hover:bg-violet-700 text-sm">Copiar JSON</button>
                      )}
                    </div>
                  </div>
                </div>
              );
            }


        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÅ Perdecomp
            üìÑ Autocomplete.tsx
            ‚îî‚îÄ‚îÄ Conte√∫do:
                'use client';
                
                import { useState, useEffect } from 'react';
                import { padCNPJ14, isValidCNPJ, onlyDigits } from '@/utils/cnpj';
                
                // --- Helper Types ---
                interface Company {
                  Cliente_ID: string;
                  Nome_da_Empresa: string;
                  CNPJ_Empresa: string;
                  [key: string]: any;
                }
                
                // --- Autocomplete Component ---
                interface AutocompleteProps {
                  selectedCompany: Company | null;
                  onSelect: (company: Company) => void;
                  onClear: () => void;
                  onNoResults?: (query: string) => void;
                  onEnrichSelected?: (company: Company) => void;
                  onEnrichQuery?: (query: string) => void;
                  isEnriching?: boolean;
                  placeholder?: string;
                  initialQuery?: string;
                }
                
                const Autocomplete = ({ selectedCompany, onSelect, onClear, onNoResults, onEnrichSelected, onEnrichQuery, isEnriching, placeholder = "Digite o Nome ou CNPJ", initialQuery = '' }: AutocompleteProps) => {
                  const [query, setQuery] = useState(initialQuery);
                  const [results, setResults] = useState<Company[]>([]);
                  const [isLoading, setIsLoading] = useState(false);
                  const [showSuggestions, setShowSuggestions] = useState(false);
                  const [error, setError] = useState<string | null>(null);
                
                  useEffect(() => {
                    setQuery(initialQuery);
                  }, [initialQuery]);
                
                  useEffect(() => {
                    // Clear results and error if query is too short
                    if (query.length < 3) {
                      setResults([]);
                      setError(null);
                      return;
                    }
                
                    // Debounce the API call
                    const debounce = setTimeout(async () => {
                      setIsLoading(true);
                      setError(null);
                      try {
                        const response = await fetch(`/api/clientes/buscar?q=${query}`);
                        if (response.ok) {
                          const data = await response.json();
                          setResults(data);
                          // Check for invalid CNPJ only if the query looks like a full CNPJ but returns no results
                          if (data.length === 0 && /^\d{14}$/.test(onlyDigits(query)) && !isValidCNPJ(query)) {
                              setError("CNPJ inv√°lido.");
                          }
                        } else {
                          setError("Falha ao buscar dados.");
                        }
                      } catch (error) {
                        setError("Erro de conex√£o.");
                        console.error("Failed to fetch companies", error);
                      }
                      setIsLoading(false);
                    }, 200);
                
                    return () => clearTimeout(debounce);
                  }, [query]);
                
                  useEffect(() => {
                    if (results.length > 0) {
                      setShowSuggestions(true);
                    }
                  }, [results]);
                
                  const handleSelect = (company: Company) => {
                    setQuery('');
                    setResults([]);
                    setShowSuggestions(false);
                    onSelect({ ...company, CNPJ_Empresa: padCNPJ14(company.CNPJ_Empresa) });
                  };
                
                  if (selectedCompany) {
                    return (
                      <div className="p-2 bg-gray-100 dark:bg-gray-700 rounded relative">
                        <div className="flex items-center justify-between">
                          <div className="flex-grow truncate">
                            <p className="font-semibold text-sm truncate" title={selectedCompany.Nome_da_Empresa}>{selectedCompany.Nome_da_Empresa}</p>
                            <p className="text-xs text-gray-500 dark:text-gray-400">{padCNPJ14(selectedCompany.CNPJ_Empresa) || 'CNPJ n√£o informado'}</p>
                          </div>
                          <button type="button" onClick={onClear} className="ml-2 text-red-500 hover:text-red-700 font-bold p-1">X</button>
                        </div>
                        {onEnrichSelected && !isValidCNPJ(selectedCompany.CNPJ_Empresa) && (
                          <div className="mt-2">
                            <button
                              type="button"
                              onClick={() => onEnrichSelected(selectedCompany)}
                              disabled={isEnriching}
                              className="px-3 py-1.5 bg-violet-600 text-white text-xs rounded hover:bg-violet-700 disabled:opacity-50">
                              {isEnriching ? 'Enriquecendo‚Ä¶' : 'Enriquecer dados'}
                            </button>
                          </div>
                        )}
                        {isEnriching && (
                          <div className="absolute inset-0 bg-white/70 dark:bg-gray-900/70 flex items-center justify-center rounded">
                            <div className="flex items-center gap-2 text-sm text-gray-700 dark:text-gray-200">
                              <span className="animate-spin h-4 w-4 border-2 border-gray-400 border-t-transparent rounded-full"></span>
                              Enriquecendo dados‚Ä¶
                            </div>
                          </div>
                        )}
                      </div>
                    );
                  }
                
                  return (
                    <div className="relative h-10">
                      <input
                        type="text"
                        value={query}
                        onChange={(e) => setQuery(e.target.value)}
                        onFocus={() => setShowSuggestions(true)}
                        onBlur={() => setTimeout(() => setShowSuggestions(false), 200)}
                        placeholder={placeholder}
                        className="w-full p-2 border rounded bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600"
                      />
                      {error && <p className="text-red-500 text-xs mt-1">{error}</p>}
                      {showSuggestions && !error && (query.length >= 3 || isValidCNPJ(query)) && (
                        <ul className="absolute z-20 w-full mt-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto text-gray-900 dark:text-gray-100">
                          {isLoading && <li className="p-2 text-gray-500">Buscando...</li>}
                
                          {!isLoading && results.map((company) => (
                            <li key={company.Cliente_ID} onMouseDown={() => handleSelect(company)} className="p-2 hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer">
                              {company.Nome_da_Empresa} <span className="text-sm text-gray-500">{padCNPJ14(company.CNPJ_Empresa)}</span>
                            </li>
                          ))}
                        </ul>
                      )}
                      {!selectedCompany && !isLoading && results.length === 0 && query.trim().length >= 3 && (
                        <div className="mt-2 flex gap-2">
                          {onEnrichQuery && (
                            <button
                              type="button"
                              onClick={() => onEnrichQuery(query)}
                              disabled={isEnriching}
                              className="px-3 py-1.5 bg-violet-600 text-white text-sm rounded hover:bg-violet-700 disabled:opacity-50"
                            >
                              {isEnriching ? 'Enriquecendo‚Ä¶' : 'Enriquecer dados'}
                            </button>
                          )}
                          {onNoResults && (
                            <button
                              type="button"
                              onClick={() => onNoResults(query)}
                              className="px-3 py-1.5 bg-green-600 text-white text-sm rounded hover:bg-green-700"
                            >
                              Cadastrar Nova Empresa
                            </button>
                          )}
                        </div>
                      )}
                      {isEnriching && (
                        <div className="absolute inset-0 bg-white/70 dark:bg-gray-900/70 flex items-center justify-center rounded">
                          <div className="flex items-center gap-2 text-sm text-gray-700 dark:text-gray-200">
                            <span className="animate-spin h-4 w-4 border-2 border-gray-400 border-t-transparent rounded-full"></span>
                            Enriquecendo dados‚Ä¶
                          </div>
                        </div>
                      )}
                    </div>
                  );
                };

                export default Autocomplete;
                
            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ ReportTable.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';
            export default function ReportTable({ rows }) {
              return (
                <div className="overflow-auto">
                  <table className="min-w-full bg-white border">
                    <thead>
                      <tr className="bg-gray-100">
                        <th className="px-2 py-1 border">Empresa</th>
                        <th className="px-2 py-1 border">Segmento</th>
                        <th className="px-2 py-1 border">Porte</th>
                        <th className="px-2 py-1 border">Contato</th>
                        <th className="px-2 py-1 border">Cargo</th>
                        <th className="px-2 py-1 border">Telefones</th>
                        <th className="px-2 py-1 border">Email</th>
                        <th className="px-2 py-1 border">LinkedIn</th>
                      </tr>
                    </thead>
                    <tbody>
                      {rows.map((r, i) => (
                        <tr key={i} className="border-t hover:bg-gray-50">
                          <td className="px-2 py-1 border-r">{r.company}</td>
                          <td className="px-2 py-1 border-r">{r.segment}</td>
                          <td className="px-2 py-1 border-r">{r.size}</td>
                          <td className="px-2 py-1 border-r">{r.nome}</td>
                          <td className="px-2 py-1 border-r">{r.cargo}</td>
                          <td className="px-2 py-1 border-r">
                            {(r.normalizedPhones || []).join(' / ')}
                          </td>
                          <td className="px-2 py-1 border-r">{r.email}</td>
                          <td className="px-2 py-1">{r.linkedin}</td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              );
            }


        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ Sidebar.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';
            import Link from 'next/link';
            import { useState } from 'react';
            import { usePathname } from 'next/navigation';
            import { FaChartBar, FaUsers, FaColumns, FaCog, FaHome, FaSearchDollar } from 'react-icons/fa';

            export default function Sidebar() {
              const [open, setOpen] = useState(false);
              const pathname = usePathname();
              const links = [
                { href: '/', label: 'Dashboard', icon: <FaHome /> },
                { href: '/clientes', label: 'Clients', icon: <FaUsers /> },
                { href: '/kanban', label: 'Kanban', icon: <FaColumns /> },
                { href: '/consultas/perdecomp-comparativo', label: 'PER/DCOMP (Comparativo)', icon: <FaSearchDollar /> },
                { href: '/reports', label: 'Reports', icon: <FaChartBar /> },
                { href: '#', label: 'Settings', icon: <FaCog /> },
              ];

              return (
                <>
                  <button
                    className="md:hidden fixed top-2 left-2 z-50 bg-gray-800 text-white p-2 rounded"
                    onClick={() => setOpen((o) => !o)}
                  >
                    &#9776;
                  </button>
                  <nav
                    className={`fixed top-0 left-0 h-full w-60 bg-gray-800 text-white p-4 space-y-2 transform transition-transform duration-200 z-40
                    ${open ? 'translate-x-0' : '-translate-x-full'} md:translate-x-0`}
                  >
                    <h2 className="text-lg font-bold mb-4">Menu</h2>
                    {links.map((link) => (
                      <Link
                        key={link.href}
                        href={link.href}
                        className={`flex items-center gap-2 px-2 py-1 rounded hover:bg-gray-700 ${pathname === link.href ? 'bg-gray-700' : ''}`}
                        onClick={() => setOpen(false)}
                      >
                        {link.icon}
                        <span>{link.label}</span>
                      </Link>
                    ))}
                  </nav>
                </>
              );
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ SpotterModal.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';
            import { useState, useEffect } from 'react';
            import { FaSpinner, FaSearch } from 'react-icons/fa';

            // Maps layout field names to simpler keys for form state
            const fieldMap = {
              "Nome do Lead": "nomeLead", "Origem": "origem", "Sub-Origem": "subOrigem",
              "Mercado": "mercado", "Produto": "produto", "Site": "site", "Pa√≠s": "pais",
              "Estado": "estado", "Cidade": "cidade", "Logradouro": "logradouro",
              "N√∫mero": "numero", "Bairro": "bairro", "Complemento": "complemento",
              "CEP": "cep", "DDI": "ddi", "Telefones": "telefones", "Observa√ß√£o": "observacao",
              "CPF/CNPJ": "cpfCnpj",
              "Nome Contato": "nomeContato", "E-mail Contato": "emailContato",
              "Cargo Contato": "cargoContato", "DDI Contato": "ddiContato",
              "Telefones Contato": "telefonesContato",
              "Tipo do Serv. Comunica√ß√£o": "tipoServComunicacao",
              "ID do Serv. Comunica√ß√£o": "idServComunicacao", "√Årea": "area",
              "Nome da Empresa": "nomeEmpresa", "Etapa": "etapa", "Funil": "funil",
              "Email Pr√©-vendedor": "emailPrevendedor"
            };

            const reversedFieldMap = Object.entries(fieldMap).reduce((acc, [key, value]) => {
                acc[value] = key;
                return acc;
            }, {});

            export default function SpotterModal({ isOpen, onClose, initialData, onSent }) {
              const [formData, setFormData] = useState({});
              const [isSending, setIsSending] = useState(false);
              const [isEnriching, setIsEnriching] = useState(false);
              const [errors, setErrors] = useState([]); // {field, message}
              const [produtosList, setProdutosList] = useState([]);
              const [mercadosList, setMercadosList] = useState([]);
              const [prevendedoresList, setPrevendedoresList] = useState([]);
              const [isEnrichConfirmOpen, setIsEnrichConfirmOpen] = useState(false);

              useEffect(() => {
                if (isOpen) {
                  const fetchAndSetData = async () => {
                    let fetchedMercados = [];
                    try {
                      const res = await fetch('/api/padroes');
                      const data = await res.json();
                      if (res.ok) {
                        setProdutosList(data.produtos || []);
                        fetchedMercados = data.mercados || [];
                        setMercadosList(fetchedMercados);
                        setPrevendedoresList(data.prevendedores || []);
                      }
                    } catch (error) {
                      console.error("Failed to fetch padroes", error);
                    }

                    const client = initialData;
                    const initialMarket = client?.segment || '';
                    const foundMarket = fetchedMercados.find(m => m.toLowerCase() === initialMarket.toLowerCase());
                    const selectedMarket = foundMarket || 'N/A';

                    if (selectedMarket === 'N/A' && !fetchedMercados.includes('N/A')) {
                        setMercadosList(prev => [...prev, 'N/A']);
                    }

                    const initialFormState = {
                        [fieldMap["Nome do Lead"]]: client?.company ?? "Lead sem t√≠tulo",
                        [fieldMap["Origem"]]: "Lista Francisco",
                        [fieldMap["Mercado"]]: selectedMarket,
                        [fieldMap["Produto"]]: client?.produto || "",
                        [fieldMap["Telefones"]]: client?.contacts?.[0]?.normalizedPhones?.join(";") || "",
                        [fieldMap["√Årea"]]: (Array.isArray(client?.opportunities) && client.opportunities.length > 0 ? client.opportunities.join(";") : client?.segment) ?? "Geral",
                        [fieldMap["Etapa"]]: "Entrada",
                        [fieldMap["Funil"]]: "Padr√£o",
                        [fieldMap["Nome da Empresa"]]: client?.company ?? "",
                        [fieldMap["Nome Contato"]]: client?.contacts?.[0]?.name ?? "",
                        [fieldMap["E-mail Contato"]]: client?.contacts?.[0]?.email?.split(';')[0].trim() ?? process.env.NEXT_PUBLIC_DEFAULT_CONTACT_EMAIL,
                        [fieldMap["Telefones Contato"]]: client?.contacts?.[0]?.normalizedPhones?.join(";") || "",
                        [fieldMap["Cargo Contato"]]: client?.contacts?.[0]?.role ?? "",
                        [fieldMap["CPF/CNPJ"]]: client?.cnpj ?? "",
                        [fieldMap["Estado"]]: client?.uf ?? "",
                        [fieldMap["Cidade"]]: client?.city ?? "",
                        [fieldMap["Pa√≠s"]]: client?.country ?? (client.city ? 'Brasil' : ''),
                        [fieldMap["DDI"]]: "55",
                        [fieldMap["DDI Contato"]]: "55",
                    };

                    const fullForm = Object.values(fieldMap).reduce((acc, key) => {
                        acc[key] = acc[key] ?? "";
                        return acc;
                    }, initialFormState);

                    setFormData(fullForm);
                    setErrors([]);
                  };

                  fetchAndSetData();
                }
              }, [isOpen, initialData]);

              const handleChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
              };

              const handleEnrichConfirm = async () => {
                setIsEnrichConfirmOpen(false);
                const companyName = formData[fieldMap["Nome da Empresa"]];
                setIsEnriching(true);
                setErrors([]);
                try {
                  const res = await fetch('/api/empresas/enriquecer', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ nome: companyName })
                  });
                  const data = await res.json();
                  if (!res.ok) throw new Error(data.error || 'Falha ao enriquecer');

                  const s = data.suggestion;
                  setFormData(prev => {
                    const nextState = { ...prev };
                    for (const layoutKey in s) {
                      const formKey = fieldMap[layoutKey];
                      if (formKey && !nextState[formKey]) {
                        nextState[formKey] = s[layoutKey];
                      }
                    }
                    if (s.Mercado) {
                        const foundMarket = mercadosList.find(m => m.toLowerCase() === s.Mercado.toLowerCase());
                        if(foundMarket) {
                            nextState[fieldMap["Mercado"]] = foundMarket;
                        }
                    }
                    return nextState;
                  });
                  alert('Dados enriquecidos com sucesso!');
                } catch (err) {
                  alert(`Erro ao enriquecer: ${err.message}`);
                } finally {
                  setIsEnriching(false);
                }
              };

              const handleEnrich = () => {
                const companyName = formData[fieldMap["Nome da Empresa"]];
                if (!companyName) {
                  alert('Por favor, preencha o nome da empresa para enriquecer.');
                  return;
                }
                setIsEnrichConfirmOpen(true);
              };

              const handleSubmit = async (e) => {
                e.preventDefault();
                setIsSending(true);
                setErrors([]);
                try {
                  const payloadForApi = Object.entries(formData).reduce((acc, [formKey, value]) => {
                    const layoutKey = reversedFieldMap[formKey];
                    if (layoutKey) {
                      acc[layoutKey] = value || null;
                    }
                    return acc;
                  }, {});

                  const res = await fetch('/api/spoter/oportunidades', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payloadForApi)
                  });

                  const data = await res.json();
                  if (!res.ok) {
                    if (res.status === 400 && data.details) {
                      setErrors(data.details);
                      const errorMessages = data.details.map(err => `${err.field}: ${err.message}`).join('\\n');
                      alert(`Por favor, corrija os seguintes erros:\n${errorMessages}`);
                    }
                    throw new Error(data.error || `Erro ${res.status}`);
                  }

                  alert(`Sucesso! Resposta da API do Spotter: ${JSON.stringify(data, null, 2)}`);

                  await fetch('/api/kanban', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ id: initialData.id, color: 'purple', status: 'Enviado Spotter' })
                  });

                  if (onSent) {
                    onSent({ color: 'purple', status: 'Enviado Spotter' });
                  }
                  onClose();
                } catch (err) {
                  // Avoid double-alerting validation errors
                  if (!errors.length) {
                    alert(`Erro no processo de envio: ${err.message}`);
                  }
                } finally {
                  setIsSending(false);
                }
              };

              if (!isOpen) return null;

              const renderInput = (label, key, props = {}) => {
                const error = errors.find(e => e.field === label);
                return (
                  <div>
                    <label htmlFor={key} className="block text-sm font-medium mb-1">{label} {props.required && '*'}</label>
                    <input id={key} name={key} value={formData[key] || ''} onChange={handleChange} {...props} className={`w-full rounded border p-2 ${error ? 'border-red-500' : 'border-gray-300'}`}/>
                    {error && <p className="text-red-500 text-xs mt-1">{error.message}</p>}
                  </div>
                );
              };

              const renderSelect = (label, key, options, props = {}) => {
                const error = errors.find(e => e.field === label);
                return (
                  <div>
                    <label htmlFor={key} className="block text-sm font-medium mb-1">{label} {props.required && '*'}</label>
                    <select
                      id={key}
                      name={key}
                      value={formData[key] || ''}
                      onChange={handleChange}
                      {...props}
                      className={`w-full rounded border p-2 ${error ? 'border-red-500' : 'border-gray-300'}`}
                    >
                      <option value="">Selecione...</option>
                      {options.map(opt => <option key={opt} value={opt}>{opt}</option>)}
                    </select>
                    {error && <p className="text-red-500 text-xs mt-1">{error.message}</p>}
                  </div>
                );
              };

              return (
                <div className="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
                  <div className="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-4xl flex flex-col max-h-[90vh]">
                    <header className="flex-shrink-0 px-6 py-4 border-b">
                      <h2 className="text-xl font-bold">Enviar para Exact Spotter</h2>
                      <p className="text-sm text-gray-500">Confirme ou edite os dados para envio.</p>
                    </header>

                    <form onSubmit={handleSubmit} className="flex-grow contents">
                      <div className="flex-grow p-6 overflow-y-auto grid grid-cols-1 md:grid-cols-3 gap-4">
                        {renderInput("Nome do Lead", fieldMap["Nome do Lead"], { required: true })}
                        {renderInput("Nome da Empresa", fieldMap["Nome da Empresa"])}
                        <div>
                          <label className="block text-sm font-medium mb-1">CPF/CNPJ</label>
                          <div className="flex items-center gap-2">
                            <input
                              id={fieldMap["CPF/CNPJ"]}
                              name={fieldMap["CPF/CNPJ"]}
                              value={formData[fieldMap["CPF/CNPJ"]] || ''}
                              onChange={handleChange}
                              className="flex-grow w-full rounded border p-2"
                            />
                            <button
                              type="button"
                              onClick={() => {
                                const query = encodeURIComponent(`${formData[fieldMap["Nome da Empresa"]]} CNPJ`);
                                window.open(`https://www.google.com/search?q=${query}`, '_blank');
                              }}
                              className="p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 rounded"
                              aria-label="Pesquisar CNPJ no Google"
                              title="Pesquisar CNPJ no Google"
                            >
                              <FaSearch />
                            </button>
                          </div>
                        </div>
                        {renderInput("Site", fieldMap["Site"], { type: 'url' })}
                        {renderInput("Sub-Origem", fieldMap["Sub-Origem"])}
                        {renderSelect("Mercado", fieldMap["Mercado"], mercadosList, { required: true })}
                        {renderSelect("Produto", fieldMap["Produto"], produtosList)}
                        {renderSelect("Email Pr√©-vendedor", fieldMap["Email Pr√©-vendedor"], prevendedoresList)}
                        {renderInput("√Årea", fieldMap["√Årea"], { required: true, placeholder: "Separar m√∫ltiplas por ;" })}
                        {renderInput("Telefones", fieldMap["Telefones"], { required: true, placeholder: "Separar m√∫ltiplos por ;" })}
                        {renderInput("Observa√ß√£o", fieldMap["Observa√ß√£o"])}

                        <h3 className="md:col-span-3 text-lg font-semibold border-t pt-4 mt-2">Endere√ßo</h3>
                        {renderInput("Pa√≠s", fieldMap["Pa√≠s"])}
                        {renderInput("Estado", fieldMap["Estado"])}
                        {renderInput("Cidade", fieldMap["Cidade"])}
                        {renderInput("Logradouro", fieldMap["Logradouro"])}
                        {renderInput("N√∫mero", fieldMap["N√∫mero"])}
                        {renderInput("Bairro", fieldMap["Bairro"])}
                        {renderInput("Complemento", fieldMap["Complemento"])}
                        {renderInput("CEP", fieldMap["CEP"])}

                        <h3 className="md:col-span-3 text-lg font-semibold border-t pt-4 mt-2">Contato</h3>
                        {renderInput("Nome Contato", fieldMap["Nome Contato"])}
                        {renderInput("Cargo Contato", fieldMap["Cargo Contato"])}
                        {renderInput("E-mail Contato", fieldMap["E-mail Contato"], { type: 'email' })}
                        {renderInput("Telefones Contato", fieldMap["Telefones Contato"], { placeholder: "Separar m√∫ltiplos por ;" })}

                        <h3 className="md:col-span-3 text-lg font-semibold border-t pt-4 mt-2">Outros</h3>
                        {renderInput("Tipo do Serv. Comunica√ß√£o", fieldMap["Tipo do Serv. Comunica√ß√£o"])}
                        {renderInput("ID do Serv. Comunica√ß√£o", fieldMap["ID do Serv. Comunica√ß√£o"])}
                      </div>

                      <footer className="flex-shrink-0 px-6 py-4 border-t bg-white flex justify-between items-center">
                        <button type="button" onClick={handleEnrich} disabled={isEnriching || isSending} className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-60 flex items-center gap-2">
                          {isEnriching && <FaSpinner className="animate-spin" />}
                          Enriquecer com IA
                        </button>
                        <div className="flex gap-3">
                          <button type="button" onClick={onClose} className="px-3 py-2 rounded-md bg-gray-200 text-gray-900 hover:bg-gray-300">
                            Cancelar
                          </button>
                          <button type="submit" disabled={isSending || isEnriching} className="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-60 flex items-center gap-2">
                            {isSending && <FaSpinner className="animate-spin" />}
                            Enviar ao Spotter
                          </button>
                        </div>
                      </footer>
                    </form>
                  </div>
                  {isEnrichConfirmOpen && (
                    <div className="absolute inset-0 flex items-center justify-center bg-black bg-opacity-40 z-10">
                        <div className="bg-white rounded shadow-lg p-6 w-11/12 max-w-md mx-auto">
                          <h2 className="text-lg font-bold mb-2 text-center">Confirmar Enriquecimento</h2>
                          <p className="text-sm text-center mb-4">
                            Deseja buscar e atualizar os dados para a empresa <span className="font-bold">{formData[fieldMap["Nome da Empresa"]]}</span>?
                          </p>
                          <div className="flex justify-end gap-2">
                            <button
                              onClick={() => setIsEnrichConfirmOpen(false)}
                              className="px-3 py-1.5 rounded border"
                            >
                              Cancelar
                            </button>
                            <button
                              onClick={handleEnrichConfirm}
                              className="px-3 py-1.5 rounded bg-black text-white"
                            >
                              Sim, enriquecer
                            </button>
                          </div>
                        </div>
                      </div>
                  )}
                </div>
              );
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ SummaryCard.jsx
        ‚îî‚îÄ‚îÄ Conte√∫do:
            'use client';

            export default function SummaryCard({ title, value }) {
              return (
                <div className="bg-white p-4 rounded shadow text-center">
                  <p className="text-sm text-gray-500">{title}</p>
                  <p className="text-2xl font-bold">{value}</p>
                </div>
              );
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ reportUtils.js
        ‚îî‚îÄ‚îÄ Conte√∫do:
            // components/reportUtils.js

            export function normalizePhones(row, idx) {
              const val = (i) => (i >= 0 ? String(row[i] || '').trim() : '');
              const existing = val(idx.normalizado);
              const rawList = [
                val(idx.phoneWork),
                val(idx.phoneHome),
                val(idx.phoneMobile),
                val(idx.phoneOther),
                val(idx.tel),
                val(idx.cel),
              ];

              if (existing) {
                return existing
                  .split(';')
                  .map((p) => p.trim())
                  .filter(Boolean);
              }

              const numbers = rawList
                .map((p) => p.replace(/[\s().-]/g, ''))
                .map((p) => p.replace(/^0+/, ''))
                .map((p) => p.replace(/[^0-9+]/g, ''))
                .filter(Boolean)
                .map((p) => {
                  if (p.startsWith('+')) p = p.slice(1);
                  if (!p.startsWith('55')) {
                    if (p.length === 10 || p.length === 11) p = '55' + p;
                    else return null;
                  }
                  if (p.length === 12 || p.length === 13) return '+' + p;
                  return null;
                })
                .filter(Boolean);

              return Array.from(new Set(numbers));
            }

            export function buildReport(rows) {
              const [header, ...data] = rows;
              const idx = {
                org: header.indexOf('Organiza√ß√£o - Nome'),
                segmento: header.indexOf('Organiza√ß√£o - Segmento'),
                tamanho: header.indexOf('Organiza√ß√£o - Tamanho da empresa'),
                contato: header.indexOf('Neg√≥cio - Pessoa de contato'),
                cargo: header.indexOf('Pessoa - Cargo'),
                phoneWork: header.indexOf('Pessoa - Phone - Work'),
                phoneHome: header.indexOf('Pessoa - Phone - Home'),
                phoneMobile: header.indexOf('Pessoa - Phone - Mobile'),
                phoneOther: header.indexOf('Pessoa - Phone - Other'),
                tel: header.indexOf('Pessoa - Telefone'),
                cel: header.indexOf('Pessoa - Celular'),
                normalizado: header.indexOf('Telefone Normalizado'),
                email: header.indexOf('Pessoa - Email - Work'),
                linkedin: header.indexOf('Pessoa - End. Linkedin'),
                uf: header.indexOf('uf'),
                cidade: header.indexOf('cidade_estimada'),
                impresso: header.indexOf('Impresso_Lista'),
              };

              const normalizePhone = (v) => String(v || '').trim();

              if (idx.tel === -1 || idx.cel === -1) {
                console.warn('Colunas de telefone n√£o encontradas', { tel: idx.tel, cel: idx.cel });
              }

              const filters = {
                segmento: new Set(),
                porte: new Set(),
                uf: new Set(),
                cidade: new Set(),
              };

              const map = new Map();
              data.forEach((row, i) => {
                const company = row[idx.org];
                if (!company) return;
                if (row[idx.impresso]) return;

                if (!map.has(company)) {
                  map.set(company, {
                    company,
                    segment: row[idx.segmento] || '',
                    size: row[idx.tamanho] || '',
                    uf: row[idx.uf] || '',
                    cidade: row[idx.cidade] || '',
                    contacts: [],
                    rows: [],
                  });
                }
                const item = map.get(company);
                item.rows.push(i + 2);

                const telefone = normalizePhone(row[idx.tel]);
                const celular = normalizePhone(row[idx.cel]);
                const normalizedPhones = normalizePhones(row, idx);
                if (normalizedPhones.length === 0) {
                  console.warn('Contato sem telefone', { row: i + 2, company });
                }

                item.contacts.push({
                  nome: (row[idx.contato] || '').trim(),
                  cargo: (row[idx.cargo] || '').trim(),
                  telefone,
                  celular,
                  normalizedPhones,
                  email: (row[idx.email] || '').trim(),
                  linkedin: (row[idx.linkedin] || '').trim(),
                });

                if (row[idx.segmento]) filters.segmento.add(row[idx.segmento]);
                if (row[idx.tamanho]) filters.porte.add(row[idx.tamanho]);
                if (row[idx.uf]) filters.uf.add(row[idx.uf]);
                if (row[idx.cidade]) filters.cidade.add(row[idx.cidade]);
              });

              return { map, filters };
            }

            export function mapToRows(map, query = {}, max = Infinity) {
              const result = [];
              const toMark = new Set();

              map.forEach((item) => {
                if (query.segmento && item.segment !== query.segmento) return;
                if (query.porte && item.size !== query.porte) return;
                if (query.uf && item.uf !== query.uf) return;
                if (query.cidade && item.cidade !== query.cidade) return;

                if (result.length >= max) return;

                if (item.contacts.length === 0) {
                  result.push({
                    company: item.company,
                    segment: item.segment,
                    size: item.size,
                    nome: '',
                    cargo: '',
                    telefone: '',
                    celular: '',
                    normalizedPhones: [],
                    email: '',
                    linkedin: '',
                  });
                } else {
                  item.contacts.forEach((c) => {
                    if (result.length >= max) return;
                    result.push({
                      company: item.company,
                      segment: item.segment,
                      size: item.size,
                      nome: c.nome,
                      cargo: c.cargo,
                      telefone: c.telefone,
                      celular: c.celular,
                      email: c.email,
                      linkedin: c.linkedin,
                      normalizedPhones: c.normalizedPhones || [],
                    });
                  });
                }
                item.rows.forEach((r) => toMark.add(r));
              });

              return { rows: result, toMark };
            }

            export async function markPrintedRows(updateRowFn, rows) {
              await Promise.all(
                Array.from(rows).map((rowNum) => updateRowFn(rowNum, { impresso_lista: 'Em Lista' }))
              );
            }


        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ copiar-chave.js
    ‚îî‚îÄ‚îÄ Conte√∫do:
        import fs from 'fs';
        import path from 'path';
        import clipboardy from 'clipboardy';
        
        // Caminho do arquivo .env.local
        const envPath = path.resolve('.env.local');
        
        // Ler o arquivo .env.local
        const content = fs.readFileSync(envPath, 'utf8');
        
        // Encontrar a linha com GOOGLE_PRIVATE_KEY
        const match = content.match(/^GOOGLE_PRIVATE_KEY=(["']?)([\s\S]*?)\1$/m);
        
        if (!match) {
          console.error('‚ùå GOOGLE_PRIVATE_KEY n√£o encontrada no .env.local');
          process.exit(1);
        }
        
        let key = match[2];
        
        // Se tiver aspas, remove
        key = key.replace(/^"|"$/g, '');
        
        // Ajustar quebras de linha para \n
        const fixedKey = key.replace(/\n/g, '\\n');
        
        // Copiar para √°rea de transfer√™ncia
        clipboardy.writeSync(fixedKey);
        
        console.log('‚úÖ Chave copiada para a √°rea de transfer√™ncia no formato correto.');
        console.log('Cole no painel de vari√°veis com:');
        console.log(`"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\\n"`);
        
        
    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ estrutura_nodejs.sh
    ‚îî‚îÄ‚îÄ Conte√∫do:
        #!/bin/bash
        
        # Diret√≥rio atual (onde o script est√° sendo executado)
        BASE_DIR="$(pwd)"
        OUTPUT_FILE="$BASE_DIR/estrutura_nodejs.txt"
        
        # Limpa sa√≠da anterior
        > "$OUTPUT_FILE"
        
        # Extens√µes e nomes de arquivos relevantes
        EXTENSOES_RELEVANTES="\.js$|\.ts$|\.jsx$|\.tsx$|\.json$|\.env$|\.sh$|\.config\..*|\.gitignore$|Dockerfile$|Makefile$|package\.json$|tsconfig\.json$|next\.config\.js$"
        
        # Pastas a ignorar
        IGNORAR_PASTAS="node_modules|\.git|\.next|dist|build"
        
        # Fun√ß√£o recursiva
        function percorrer_pasta() {
            local dir="$1"
            local indent="$2"
        
            # Ignorar pastas espec√≠ficas
            if [[ "$dir" =~ $IGNORAR_PASTAS ]]; then
                return
            fi
        
            echo "${indent}üìÅ $(basename "$dir")" >> "$OUTPUT_FILE"
        
            for item in "$dir"/*; do
                if [ -d "$item" ]; then
                    percorrer_pasta "$item" "$indent    "
                elif [ -f "$item" ]; then
                    if [[ "$item" =~ $EXTENSOES_RELEVANTES ]]; then
                        echo "${indent}üìÑ $(basename "$item")" >> "$OUTPUT_FILE"
                        echo "${indent}‚îî‚îÄ‚îÄ Conte√∫do:" >> "$OUTPUT_FILE"
                        sed "s/^/${indent}    /" "$item" >> "$OUTPUT_FILE"
                        echo "${indent}‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ" >> "$OUTPUT_FILE"
                    fi
                fi
            done
        }
        
        # Execu√ß√£o
        echo "üìÇ Estrutura do projeto Node.js ‚Äì $(date)" >> "$OUTPUT_FILE"
        echo "Pasta base: $BASE_DIR" >> "$OUTPUT_FILE"
        echo "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ" >> "$OUTPUT_FILE"
        percorrer_pasta "$BASE_DIR" ""
        
        echo "‚úÖ Arquivo gerado em: $OUTPUT_FILE"
        
    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÅ helpers
        üìÑ decideCNPJ.ts
        ‚îî‚îÄ‚îÄ Conte√∫do:
            import { onlyDigits, isEmptyCNPJLike, isFilial, isMatriz, toMatrizCNPJ } from '@/utils/cnpj-matriz';

            export async function decideCNPJFinal({
              currentFormCNPJ,
              enrichedCNPJ,
              ask,
            }: {
              currentFormCNPJ?: string;
              enrichedCNPJ?: string;
              ask: (matriz: string, filial: string) => Promise<boolean>;
            }): Promise<string> {
              const current = onlyDigits(currentFormCNPJ);
              const enriched = onlyDigits(enrichedCNPJ);

              let candidate = isEmptyCNPJLike(current) && enriched ? enriched : current;

              if (isFilial(candidate)) {
                const matriz = toMatrizCNPJ(candidate);
                const useMatriz = await ask(matriz, candidate);
                candidate = useMatriz ? matriz : candidate;
              }
              if (isMatriz(candidate)) return candidate;

              return candidate;
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ jest.config.js
    ‚îî‚îÄ‚îÄ Conte√∫do:
        const nextJest = require('next/jest');
        
        const createJestConfig = nextJest({
          dir: './',
        });
        
        const customJestConfig = {
          testEnvironment: 'jest-environment-jsdom',
        };
        
        module.exports = createJestConfig(customJestConfig);
        
    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ jsconfig.json
    ‚îî‚îÄ‚îÄ Conte√∫do:
        {
          "compilerOptions": {
            "baseUrl": ".",
            "paths": {
              "@/*": ["./*"]
            }
          }
        }
        
    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÅ lib
        üìÑ cep.js
        ‚îî‚îÄ‚îÄ Conte√∫do:
            export async function lookupCep(rawCep) {
              const digits = String(rawCep || '').replace(/\D+/g, '');
              if (digits.length !== 8) {
                throw new Error('CEP inv√°lido');
              }
              const res = await fetch(`https://viacep.com.br/ws/${digits}/json/`);
              if (!res.ok) {
                throw new Error('Falha na consulta ao ViaCEP');
              }
              const data = await res.json();
              if (data.erro) {
                throw new Error('CEP n√£o encontrado');
              }
              return {
                cep: data.cep || `${digits.slice(0, 5)}-${digits.slice(5)}`,
                logradouro: data.logradouro || '',
                bairro: data.bairro || '',
                localidade: data.localidade || '',
                uf: data.uf || '',
              };
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ exactSpotter.js
        ‚îî‚îÄ‚îÄ Conte√∫do:
            import { joinUrl } from './url.js';

            export const SPOTTER_BASE_URL =
              (process.env.EXACT_SPOTTER_BASE_URL || 'https://api.exactspotter.com/v3').replace(/\/+$/, '');

            const TOKEN = process.env.EXACT_SPOTTER_TOKEN;
            if (!TOKEN) throw new Error('EXACT_SPOTTER_TOKEN ausente');

            async function spotterFetch(url, options = {}) {
              const res = await fetch(url, {
                ...options,
                headers: {
                  token_exact: TOKEN,
                  'Content-Type': 'application/json',
                  Accept: 'application/json',
                  ...options.headers,
                },
                cache: 'no-store',
              });

              if (!res.ok) {
                const txt = await res.text().catch(() => '');
                // A specific check for the 404 on /Leads to give a better error message
                if (res.status === 404 && url.includes('/Leads')) {
                    throw new Error(`Spotter 404: O endpoint /Leads n√£o foi encontrado. Verifique o EntitySet correto no $metadata da sua conta.`);
                }
                throw new Error(`Spotter ${res.status}: ${txt || res.statusText}`);
              }

              // Handle 201 Created with empty body, which is common
              if (res.status === 201 || res.status === 204) {
                return { ok: true, status: res.status };
              }

              return res.json().catch(() => ({ ok: true, status: res.status, data: {} }));
            }


            export async function spotterPost(entitySet, payload) {
              const url = joinUrl(SPOTTER_BASE_URL, entitySet);
              if (process.env.NODE_ENV !== 'production') {
                console.log('[Spotter] POST ‚Üí', url);
              }
              return spotterFetch(url, {
                method: 'POST',
                body: JSON.stringify(payload),
              });
            }

            export async function spotterMetadata() {
              const url = joinUrl(SPOTTER_BASE_URL, '$metadata');
              if (process.env.NODE_ENV !== 'production') {
                console.log('[Spotter] GET ‚Üí', url);
              }
              const res = await fetch(url, { headers: { token_exact: TOKEN } });
               if (!res.ok) {
                const txt = await res.text().catch(() => '');
                throw new Error(`$metadata ${res.status}: ${txt || res.statusText}`);
              }
              return res.text();
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ googleSheets.js
        ‚îî‚îÄ‚îÄ Conte√∫do:
            import { google } from 'googleapis';
            import https from 'https';

            // --- Cache & Auth ---

            const readCache = new Map();
            let sheetsClientPromise;

            /**
             * Returns a singleton Google Sheets client with keep-alive enabled.
             */
            async function getSheetsClient() {
              if (!sheetsClientPromise) {
                sheetsClientPromise = (async () => {
                  const { GOOGLE_CLIENT_EMAIL, GOOGLE_PRIVATE_KEY } = process.env;

                  if (!GOOGLE_CLIENT_EMAIL || !GOOGLE_PRIVATE_KEY) {
                    const msg = 'GOOGLE_CLIENT_EMAIL or GOOGLE_PRIVATE_KEY is not set.';
                    console.error(msg);
                    throw new Error(msg);
                  }

                  const auth = new google.auth.JWT({
                    email: GOOGLE_CLIENT_EMAIL,
                    key: GOOGLE_PRIVATE_KEY.replace(/\\n/g, '\n'),
                    scopes: ['https://www.googleapis.com/auth/spreadsheets'],
                  });
                  const httpAgent = new https.Agent({ keepAlive: true, maxSockets: 50 });
                  google.options({ auth, httpAgent });
                  await auth.authorize();
                  return google.sheets({ version: 'v4', auth });
                })();
              }
              return sheetsClientPromise;
            }

            /**
             * Retry helper for Google API calls. Retries on transient errors with
             * exponential backoff and jitter.
             */
            export async function withRetry(fn, tries = 4) {
              let attempt = 0;
              let lastErr;
              while (attempt < tries) {
                try {
                  return await fn();
                } catch (err) {
                  lastErr = err;
                  const status = err?.code || err?.response?.status || 0;
                  const transient = [429, 500, 502, 503, 504];
                  if (!transient.includes(status) || attempt === tries - 1) {
                    throw err;
                  }
                  const delay = Math.pow(2, attempt) * 500 + Math.random() * 1000;
                  await new Promise((r) => setTimeout(r, delay));
                  attempt++;
                }
              }
              throw lastErr;
            }

            export function chunk(arr, size) {
              const out = [];
              for (let i = 0; i < arr.length; i += size) {
                out.push(arr.slice(i, i + size));
              }
              return out;
            }

            // --- Generic Sheet Interaction ---

            export async function getSheetData(sheetName, range = 'A:ZZ', spreadsheetId = process.env.SPREADSHEET_ID) {
              const key = `sheetData:${sheetName}:${range}`;
              const cached = readCache.get(key);
              if (cached && Date.now() - cached.time < 10000) {
                return cached.data;
              }

              const sheets = await getSheetsClient();
              const res = await withRetry(() =>
                sheets.spreadsheets.values.get({
                  spreadsheetId,
                  range: `${sheetName}!${range}`,
                })
              );
              const rows = res.data.values || [];
              if (rows.length === 0) return { headers: [], rows: [] };

              const rawHeaders = rows[0];
              const headers = rawHeaders.map((h) => (h || '').toString().trim());

              const data = rows.slice(1).map((row, idx) => {
                const obj = { _rowNumber: idx + 2 };
                headers.forEach((h, i) => {
                  if (h) obj[h] = row[i] ?? '';
                });
                return obj;
              });

              const result = { headers, rows: data };
              readCache.set(key, { time: Date.now(), data: result });
              return result;
            }

            export async function findRowIndexById(sheetName, headersRow, idColumnName, idValue) {
              if (!process.env.SPREADSHEET_ID) {
                throw new Error('SPREADSHEET_ID is not set');
              }
              const normalizedId = String(idValue || '').trim();
              const { headers, rows } = await getSheetData(sheetName, `A${headersRow}:ZZ`);
              const idIdx = headers.indexOf(idColumnName);
              if (idIdx === -1) return -1;
              for (const row of rows) {
                const cell = String(row[idColumnName] || '').trim();
                if (cell === normalizedId) {
                  return row._rowNumber;
                }
              }
              return -1;
            }

            export async function updateRowByIndex({ sheetName, rowIndex, updates }) {
              const spreadsheetId = process.env.SPREADSHEET_ID;
              if (!spreadsheetId) {
                throw new Error('SPREADSHEET_ID is not set');
              }
              const sheets = await getSheetsClient();
              const { headers, rows } = await getSheetData(sheetName);
              const headerMap = {};
              headers.forEach((h, i) => (headerMap[h] = i));
              const currentRow = rows.find((r) => r._rowNumber === rowIndex) || {};
              const data = [];
              Object.entries(updates || {}).forEach(([col, value]) => {
                const idx = headerMap[col];
                if (idx === undefined) return;
                const colLetter = columnNumberToLetter(idx + 1);
                const range = `${sheetName}!${colLetter}${rowIndex}:${colLetter}${rowIndex}`;
                data.push({ range, values: [[value]] });
                console.log('[updateRowByIndex]', {
                  sheetName,
                  rowIndex,
                  campoAtualizado: col,
                  valorAntigo: currentRow[col] ?? '',
                  valorNovo: value,
                  rangeUsado: range,
                });
              });
              if (!data.length) return;
              await withRetry(() =>
                sheets.spreadsheets.values.batchUpdate({
                  spreadsheetId,
                  requestBody: {
                    valueInputOption: 'RAW',
                    data,
                  },
                })
              );
            }

            async function _findRowNumberByClienteId(sheetName, clienteId) {
                const { rows } = await getSheetData(sheetName);
                const rowIndex = rows.findIndex(row => row.Cliente_ID === clienteId);
                return rowIndex !== -1 ? rows[rowIndex]._rowNumber : -1;
            }


            // --- Data Transformation Helpers ---

            function normalizeText(str) {
                return (str || '').toString().trim().toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '');
            }

            function normalizeCnpj(cnpj) {
                return (cnpj || '').toString().replace(/\D/g, '');
            }

            function normalizeUF(uf) {
              if (!uf) return '';
              const map = { AC:'AC',AL:'AL',AP:'AP',AM:'AM',BA:'BA',CE:'CE',DF:'DF',ES:'ES',GO:'GO',MA:'MA',MT:'MT',MS:'MS',MG:'MG',PA:'PA',PB:'PB',PR:'PR',PE:'PE',PI:'PI',RJ:'RJ',RN:'RN',RS:'RS',RO:'RO',RR:'RR',SC:'SC',SP:'SP',SE:'SE',TO:'TO',ACRE:'AC',ALAGOAS:'AL',AMAPA:'AP',AMAZONAS:'AM',BAHIA:'BA',CEARA:'CE','DISTRITO FEDERAL':'DF','ESPIRITO SANTO':'ES',GOIAS:'GO',MARANHAO:'MA','MATO GROSSO':'MT','MATO GROSSO DO SUL':'MS','MINAS GERAIS':'MG',PARA:'PA',PARAIBA:'PB',PARANA:'PR',PERNAMBUCO:'PE',PIAUI:'PI','RIO DE JANEIRO':'RJ','RIO GRANDE DO NORTE':'RN','RIO GRANDE DO SUL':'RS',RONDONIA:'RO',RORAIMA:'RR','SANTA CATARINA':'SC','SAO PAULO':'SP',SERGIPE:'SE',TOCANTINS:'TO' };
              const cleaned = normalizeText(uf).toUpperCase();
              return map[cleaned] || '';
            }

            function normalizePhoneNumber(phone = '', ddi = '') {
                let digits = phone.replace(/\D/g, '');
                if (!digits) return '';
                const ddiDigits = ddi.replace(/\D/g, '');

                if (ddiDigits && !digits.startsWith(ddiDigits)) {
                    digits = `${ddiDigits}${digits}`;
                }
                if (!digits.startsWith('+')) {
                    digits = `+${digits}`;
                }
                return digits;
            }

            function distributeContactPhones(phonesString = '') {
                const phones = phonesString.split(';').map(p => p.trim()).filter(Boolean);
                return {
                    Work: phones[0] || '',
                    Mobile: phones[1] || '',
                    Home: phones[2] || '',
                    Other: phones[3] || '',
                };
            }

            function isValidEmail(email = '') {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            }

            function columnNumberToLetter(columnNumber) {
              let temp, letter = '';
              while (columnNumber > 0) {
                temp = (columnNumber - 1) % 26;
                letter = String.fromCharCode(temp + 65) + letter;
                columnNumber = (columnNumber - temp - 1) / 26;
              }
              return letter;
            }


            // --- Row Builders for Each Sheet Layout ---

            function buildLeadsExactSpotterRow(payload) {
                const { Empresa, Contato, Comercial } = payload;
                const columnOrder = [
                    'Cliente_ID', 'Nome do Lead', 'Origem', 'Sub-Origem', 'Mercado', 'Produto', 'Site', 'Pa√≠s', 'Estado', 'Cidade',
                    'Logradouro', 'N√∫mero', 'Bairro', 'Complemento', 'CEP', 'DDI', 'Telefones', 'Observa√ß√£o', 'CPF/CNPJ',
                    'Nome Contato', 'E-mail Contato', 'Cargo Contato', 'DDI Contato', 'Telefones Contato',
                    'Tipo do Serv. Comunica√ß√£o', 'ID do Serv. Comunica√ß√£o', '√Årea', 'Nome da Empresa', 'Etapa', 'Funil'
                ];

                const row = columnOrder.map(col => {
                    switch(col) {
                        case 'Cliente_ID': return payload.Cliente_ID;
                        case 'Nome do Lead': return Empresa.Nome_da_Empresa; // As per spec
                        case 'Origem': return Comercial.Origem;
                        case 'Sub-Origem': return Comercial.Sub_Origem;
                        case 'Mercado': return Comercial.Mercado;
                        case 'Produto': return Comercial.Produto;
                        case 'Site': return Empresa.Site_Empresa;
                        case 'Pa√≠s': return Empresa.Pa√≠s_Empresa;
                        case 'Estado': return Empresa.Estado_Empresa;
                        case 'Cidade': return Empresa.Cidade_Empresa;
                        case 'Logradouro': return Empresa.Logradouro_Empresa;
                        case 'N√∫mero': return Empresa.Numero_Empresa;
                        case 'Bairro': return Empresa.Bairro_Empresa;
                        case 'Complemento': return Empresa.Complemento_Empresa;
                        case 'CEP': return Empresa.CEP_Empresa;
                        case 'DDI': return Empresa.DDI_Empresa;
                        case 'Telefones': return Empresa.Telefones_Empresa;
                        case 'Observa√ß√£o': return Empresa.Observacao_Empresa;
                        case 'CPF/CNPJ': return normalizeCnpj(Empresa.CNPJ_Empresa);
                        case 'Nome Contato': return Contato.Nome_Contato;
                        case 'E-mail Contato': return Contato.Email_Contato;
                        case 'Cargo Contato': return Contato.Cargo_Contato;
                        case 'DDI Contato': return Contato.DDI_Contato;
                        case 'Telefones Contato': return Contato.Telefones_Contato;
                        case 'Tipo do Serv. Comunica√ß√£o': return Comercial.Tipo_do_Serv_Comunicacao;
                        case 'ID do Serv. Comunica√ß√£o': return Comercial.ID_do_Serv_Comunicacao;
                        case '√Årea': return Comercial.√Årea;
                        case 'Nome da Empresa': return Empresa.Nome_da_Empresa;
                        case 'Etapa': return Comercial.Etapa;
                        case 'Funil': return Comercial.Funil;
                        default: return '';
                    }
                });
                return row;
            }

            function buildLayoutImportacaoRow(payload) {
                const { Empresa } = payload;
                const columnOrder = [
                    'Cliente_ID', 'Nome da Empresa', 'Site Empresa', 'Pa√≠s Empresa', 'Estado Empresa', 'Cidade Empresa',
                    'Logradouro Empresa', 'Numero Empresa', 'Bairro Empresa', 'Complemento Empresa', 'CEP Empresa',
                    'CNPJ Empresa', 'DDI Empresa', 'Telefones Empresa', 'Observa√ß√£o Empresa'
                ];

                return columnOrder.map(col => {
                    switch(col) {
                        case 'Cliente_ID': return payload.Cliente_ID;
                        case 'Nome da Empresa': return Empresa.Nome_da_Empresa;
                        case 'Site Empresa': return Empresa.Site_Empresa;
                        case 'Pa√≠s Empresa': return Empresa.Pa√≠s_Empresa;
                        case 'Estado Empresa': return Empresa.Estado_Empresa;
                        case 'Cidade Empresa': return Empresa.Cidade_Empresa;
                        case 'Logradouro Empresa': return Empresa.Logradouro_Empresa;
                        case 'Numero Empresa': return Empresa.Numero_Empresa;
                        case 'Bairro Empresa': return Empresa.Bairro_Empresa;
                        case 'Complemento Empresa': return Empresa.Complemento_Empresa;
                        case 'CEP Empresa': return Empresa.CEP_Empresa;
                        case 'CNPJ Empresa': return normalizeCnpj(Empresa.CNPJ_Empresa);
                        case 'DDI Empresa': return Empresa.DDI_Empresa;
                        case 'Telefones Empresa': return Empresa.Telefones_Empresa;
                        case 'Observa√ß√£o Empresa': return Empresa.Observacao_Empresa;
                        default: return '';
                    }
                });
            }

            function buildSheet1Row(payload) {
                const { Empresa, Contato, Comercial } = payload;
                const contactPhones = distributeContactPhones(Contato.Telefones_Contato);

                const columnOrder = [
                    'Neg√≥cio - T√≠tulo', 'Neg√≥cio - Valor', 'Neg√≥cio - Organiza√ß√£o', 'Neg√≥cio - Pessoa de contato', 'Neg√≥cio - Data de fechamento esperada', 'Neg√≥cio - Data da pr√≥xima atividade', 'Neg√≥cio - Propriet√°rio', 'Neg√≥cio - Etapa', 'Neg√≥cio - Fonte do Lead', 'Neg√≥cio - Qualifica√ß√£o Lead (Closer)', 'Neg√≥cio - Qualifica√ß√£o do Lead (SDR)', 'Neg√≥cio - Motivo da perda', 'Neg√≥cio - Data de cria√ß√£o do neg√≥cio', 'Neg√≥cio - SDR Respons√°vel', 'Neg√≥cio - Ganho em', 'Neg√≥cio - Data de perda', 'Neg√≥cio - VLR Mensalidade', 'Neg√≥cio - VLR Implanta√ß√£o', 'Neg√≥cio - Ranking', 'Neg√≥cio - Neg√≥cio fechado em', 'Neg√≥cio - [Closer] Lead √© o Decisor?', 'Neg√≥cio - Atividades conclu√≠das', 'Neg√≥cio - Atividades para fazer', 'Neg√≥cio - Criador', 'Neg√≥cio - Data atualizada', 'Neg√≥cio - Data da √∫ltima atividade', 'Neg√≥cio - Etiqueta', 'Neg√≥cio - Funil', 'Neg√≥cio - Moeda de VLR Mensalidade', 'Neg√≥cio - Moeda de VLR Implanta√ß√£o', 'Neg√≥cio - Canal de origem', 'Neg√≥cio - MRR', 'Neg√≥cio - Valor de produtos', 'Neg√≥cio - Valor ponderado', 'Neg√≥cio - Moeda', 'Neg√≥cio - ID', 'Neg√≥cio - ID de origem', 'Neg√≥cio - ID do canal de origem', 'Neg√≥cio - Nome do produto', 'Neg√≥cio - N√∫mero de mensagens de e-mail', 'Neg√≥cio - Origem', 'Neg√≥cio - Probabilidade', 'Neg√≥cio - ACV', 'Neg√≥cio - ARR', 'Neg√≥cio - Quantidade de produtos', 'Neg√≥cio - Telefone do Closer', 'Neg√≥cio - Tempo de Implanta√ß√£o', 'Neg√≥cio - Total de atividades', 'Neg√≥cio - UTM CAMPAIGN', 'Neg√≥cio - UTM CONTENT', 'Neg√≥cio - UTM MEDIUM', 'Neg√≥cio - UTM_SOURCE', 'Neg√≥cio - UTM_TERM', 'Neg√≥cio - Vis√≠vel para', 'Neg√≥cio - √öltima altera√ß√£o de etapa', 'Neg√≥cio - √öltimo e-mail enviado', 'Neg√≥cio - √öltimo e-mail recebido', 'Pessoa - Cargo', 'Pessoa - Email - Work', 'Pessoa - Email - Home', 'Pessoa - Email - Other', 'Pessoa - End. Linkedin', 'Pessoa - Phone - Work', 'Pessoa - Phone - Home', 'Pessoa - Phone - Mobile', 'Pessoa - Phone - Other', 'Pessoa - Telefone', 'Pessoa - Celular', 'Organiza√ß√£o - Nome', 'Organiza√ß√£o - Segmento', 'Organiza√ß√£o - Tamanho da empresa', 'Neg√≥cio - Status', 'ddd', 'uf', 'cidade_estimada', 'fonte_localizacao', 'Status_Kanban', 'Cor_Card', 'Data_Ultima_Movimentacao', 'Impresso_Lista', 'Telefone Normalizado', 'Cliente_ID'
                ];

                const rowData = {
                    'Cliente_ID': payload.Cliente_ID,
                    'Neg√≥cio - T√≠tulo': Empresa.Nome_da_Empresa,
                    'Neg√≥cio - Organiza√ß√£o': Empresa.Nome_da_Empresa,
                    'Organiza√ß√£o - Nome': Empresa.Nome_da_Empresa,
                    'Neg√≥cio - Pessoa de contato': Contato.Nome_Contato,
                    'Pessoa - Cargo': Contato.Cargo_Contato,
                    'Pessoa - Email - Work': isValidEmail(Contato.Email_Contato) ? Contato.Email_Contato : '',
                    'Pessoa - Phone - Work': normalizePhoneNumber(contactPhones.Work, Contato.DDI_Contato),
                    'Pessoa - Phone - Home': normalizePhoneNumber(contactPhones.Home, Contato.DDI_Contato),
                    'Pessoa - Phone - Mobile': normalizePhoneNumber(contactPhones.Mobile, Contato.DDI_Contato),
                    'Pessoa - Phone - Other': normalizePhoneNumber(contactPhones.Other, Contato.DDI_Contato),
                    'Pessoa - Telefone': Contato.Telefones_Contato,
                    'Organiza√ß√£o - Segmento': Comercial.Mercado,
                    'Neg√≥cio - Nome do produto': Comercial.Produto,
                    'uf': normalizeUF(Empresa.Estado_Empresa),
                    'cidade_estimada': Empresa.Cidade_Empresa,
                    'Telefone Normalizado': normalizePhoneNumber((Empresa.Telefones_Empresa || '').split(';')[0], Empresa.DDI_Empresa),
                    'Neg√≥cio - Origem': Comercial.Origem,
                    'Neg√≥cio - Canal de origem': Comercial.Origem,
                    'Neg√≥cio - Fonte do Lead': Comercial.Sub_Origem,
                    'Neg√≥cio - Funil': Comercial.Funil || 'Padr√£o',
                    'Neg√≥cio - Etapa': Comercial.Etapa,
                    'Neg√≥cio - Data de cria√ß√£o do neg√≥cio': new Date().toISOString(),
                    'Neg√≥cio - Data atualizada': new Date().toISOString(),
                };

                return columnOrder.map(col => rowData[col] || '');
            }


            // --- Main Public Functions ---

            export async function getNextClienteId() {
              readCache.delete(`sheetData:Leads Exact Spotter`);
              const { rows } = await getSheetData('Leads Exact Spotter');
              let maxId = 0;
              for (const row of rows) {
                const clienteId = row['Cliente_ID'];
                if (clienteId && typeof clienteId === 'string') {
                  // Handle both "CLI-" and "CLT-" prefixes
                  if (clienteId.startsWith('CLI-') || clienteId.startsWith('CLT-')) {
                    const num = parseInt(clienteId.substring(4), 10);
                    if (!isNaN(num) && num > maxId) {
                      maxId = num;
                    }
                  }
                }
              }
              // Generate new IDs with the correct "CLT-" prefix and no zero-padding
              return `CLT-${maxId + 1}`;
            }

            const SHEETS_TO_SEARCH = ['Leads Exact Spotter', 'layout_importacao_empresas', 'Sheet1'];

            export async function findByCnpj(cnpj) {
              const normalizedCnpjToFind = normalizeCnpj(cnpj);
              if (!normalizedCnpjToFind) return null;

              for (const sheetName of SHEETS_TO_SEARCH) {
                // Invalidate cache to ensure fresh data for checks
                readCache.delete(`sheetData:${sheetName}`);
                const { rows } = await getSheetData(sheetName);
                for (const row of rows) {
                  const rowCnpj = row['CNPJ Empresa'] || row['CPF/CNPJ'];
                  if (normalizeCnpj(rowCnpj) === normalizedCnpjToFind) {
                    return { ...row, _sheetName: sheetName };
                  }
                }
              }
              return null;
            }

            export async function findByName(name) {
              const normalizedNameToFind = normalizeText(name);
              if (!normalizedNameToFind) return null;

              for (const sheetName of SHEETS_TO_SEARCH) {
                readCache.delete(`sheetData:${sheetName}`);
                const { rows } = await getSheetData(sheetName);
                for (const row of rows) {
                  const rowName = row['Nome da Empresa'] || row['Nome do Lead'];
                  if (normalizeText(rowName) === normalizedNameToFind) {
                    const rowCnpj = normalizeCnpj(row['CNPJ Empresa'] || row['CPF/CNPJ']);
                    if (!rowCnpj) {
                      // Return the full row data for pre-filling the form
                      return row;
                    }
                  }
                }
              }
              return null;
            }

            export async function appendToSheets(payload) {
                const sheets = await getSheetsClient();
                const spreadsheetId = process.env.SPREADSHEET_ID;

                // Use an array to guarantee the order of operations as requested.
                const sheetProcessOrder = [
                    { name: 'Leads Exact Spotter', builder: buildLeadsExactSpotterRow },
                    { name: 'layout_importacao_empresas', builder: buildLayoutImportacaoRow },
                    { name: 'Sheet1', builder: buildSheet1Row },
                ];

                const errors = [];
                for (const sheet of sheetProcessOrder) {
                    try {
                        const rowData = sheet.builder(payload);
                        readCache.delete(`sheetData:${sheet.name}`);
                        await sheets.spreadsheets.values.append({
                            spreadsheetId,
                            range: sheet.name,
                            valueInputOption: 'USER_ENTERED',
                            requestBody: { values: [rowData] },
                        });
                    } catch (err) {
                        console.error(`Falha ao escrever na aba "${sheet.name}":`, err.message);
                        errors.push(`Falha ao escrever na aba "${sheet.name}"`);
                    }
                }

                if (errors.length > 0) {
                    throw new Error(`Ocorreram erros ao salvar os dados: ${errors.join('; ')}`);
                }
            }


            // --- Legacy Functions for Backward Compatibility ---

            // Re-export getSheetsClient for pages that use it directly
            export { getSheetsClient };

            // Generic append for simple data structures (used by older APIs)
            export async function appendSheetData(sheetName, rowsToAppend) {
              if (!sheetName || !rowsToAppend || rowsToAppend.length === 0) {
                throw new Error('sheetName and rowsToAppend are required.');
              }
              const sheets = await getSheetsClient();
              const batches = chunk(rowsToAppend, 500);
              for (const batch of batches) {
                await withRetry(() =>
                  sheets.spreadsheets.values.append({
                    spreadsheetId: process.env.SPREADSHEET_ID,
                    range: sheetName,
                    valueInputOption: 'USER_ENTERED',
                    insertDataOption: 'INSERT_ROWS',
                    requestBody: { values: batch },
                  })
                );
              }
            }

            // The following functions are simplified reimplementations of what was there before
            // to ensure other pages don't break. They might not be perfectly efficient
            // but will prevent build failures.

            async function _getRawSheet(sheetName = 'Sheet1') {
                const sheets = await getSheetsClient();
                return withRetry(() =>
                    sheets.spreadsheets.values.get({
                        spreadsheetId: process.env.SPREADSHEET_ID,
                        range: sheetName,
                    })
                );
            }

            export async function getSheet(sheetName = 'Sheet1') {
                return _getRawSheet(sheetName);
            }

            export async function getSheetCached(sheetName = 'Sheet1') {
                const key = `sheet_raw:${sheetName}`;
                const cached = readCache.get(key);
                if (cached && (Date.now() - cached.time < 10000)) {
                    return cached.data;
                }
                const data = await _getRawSheet(sheetName);
                readCache.set(key, { time: Date.now(), data });
                return data;
            }

            export async function getHistorySheetCached() {
                return getSheetCached('Historico_Interacoes');
            }

            export async function updateRow(rowNumber, data) {
                const sheets = await getSheetsClient();
                const { headers } = await getSheetData('Sheet1');
                const headerMap = {};
                headers.forEach((h, i) => (headerMap[h] = i));

                const updates = [];
                for (const key in data) {
                    const colIndex = headerMap[key];
                    if (colIndex !== undefined) {
                        const colLetter = columnNumberToLetter(colIndex + 1);
                        const range = `Sheet1!${colLetter}${rowNumber}`;
                        updates.push({ range, values: [[data[key]]] });
                    }
                }
                if (updates.length) {
                    await withRetry(() =>
                        sheets.spreadsheets.values.batchUpdate({
                            spreadsheetId: process.env.SPREADSHEET_ID,
                            requestBody: {
                                valueInputOption: 'USER_ENTERED',
                                data: updates,
                            },
                        })
                    );
                }
            }

            export async function appendRow(data) {
                // Define the canonical column order to ensure data is written to the correct column
                // regardless of the physical order in the spreadsheet. This is the same order
                // used by the `buildSheet1Row` function.
                const columnOrder = [
                    'Cliente_ID', 'Neg√≥cio - T√≠tulo', 'Neg√≥cio - Origem / Canal de origem', 'Neg√≥cio - Fonte do Lead',
                    'Organiza√ß√£o - Segmento', 'Neg√≥cio - Nome do produto', 'Pa√≠s', 'uf', 'cidade_estimada',
                    'Telefone Normalizado', 'Neg√≥cio - Pessoa de contato', 'Pessoa - Email - Work', 'Pessoa - Email - Home',
                    'Pessoa - Email - Other', 'Pessoa - Cargo', 'Pessoa - Phone - Work', 'Pessoa - Phone - Home',
                    'Pessoa - Phone - Mobile', 'Pessoa - Phone - Other', 'Organiza√ß√£o - Nome', 'Funil'
                ];
                // Build the row array based on the canonical order, not the physical sheet order.
                const row = columnOrder.map(header => data[header] || '');
                return appendSheetData('Sheet1', [row]);
            }

            export async function appendHistoryRow(data) {
                const { headers } = await getSheetData('Historico_Interacoes');
                const row = headers.map(header => data[header] || '');
                return appendSheetData('Historico_Interacoes', [row]);
            }

            export async function updateInSheets(clienteId, payload) {
                const sheets = await getSheetsClient();
                const spreadsheetId = process.env.SPREADSHEET_ID;

                const sheetBuilders = {
                    'Leads Exact Spotter': buildLeadsExactSpotterRow,
                    'layout_importacao_empresas': buildLayoutImportacaoRow,
                    'Sheet1': buildSheet1Row,
                };

                for (const sheetName in sheetBuilders) {
                    readCache.delete(`sheetData:${sheetName}`);
                    const rowNumber = await _findRowNumberByClienteId(sheetName, clienteId);
                    if (rowNumber === -1) {
                        console.warn(`Cliente_ID ${clienteId} not found in ${sheetName}. Skipping update.`);
                        continue;
                    }

                    const rowValues = sheetBuilders[sheetName](payload);
                    const rangeEndColumn = columnNumberToLetter(rowValues.length);
                    const range = `${sheetName}!A${rowNumber}:${rangeEndColumn}${rowNumber}`;

                    await withRetry(() =>
                        sheets.spreadsheets.values.update({
                            spreadsheetId,
                            range,
                            valueInputOption: 'USER_ENTERED',
                            requestBody: { values: [rowValues] },
                        })
                    );
                }
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ googleSheets.test.js
        ‚îî‚îÄ‚îÄ Conte√∫do:
            /** @jest-environment node */
            const batchUpdateMock = jest.fn().mockResolvedValue({});
            const valuesGetMock = jest.fn();

            jest.mock('googleapis', () => ({
              google: {
                auth: {
                  JWT: jest.fn(() => ({ authorize: jest.fn().mockResolvedValue(true) })),
                },
                options: jest.fn(),
                sheets: jest.fn(() => ({
                  spreadsheets: { values: { get: valuesGetMock, batchUpdate: batchUpdateMock } },
                })),
              },
            }));

            const gs = require('./googleSheets');

            describe('findRowIndexById', () => {
              beforeEach(() => {
                process.env.SPREADSHEET_ID = 'sheet';
                process.env.GOOGLE_CLIENT_EMAIL = 'a';
                process.env.GOOGLE_PRIVATE_KEY = 'b';
                valuesGetMock.mockReset();
              });

              it('finds ID beyond 1000', async () => {
                const values = [
                  ['ID'],
                  ...Array.from({ length: 1001 }, (_, i) => [String(i + 1)]),
                ];
                valuesGetMock.mockResolvedValueOnce({ data: { values } });
                const idx = await gs.findRowIndexById('Sheet1', 1, 'ID', '1001');
                expect(idx).toBe(1002);
              });
            });

            describe('updateRowByIndex', () => {
              beforeEach(() => {
                process.env.SPREADSHEET_ID = 'sheet';
                process.env.GOOGLE_CLIENT_EMAIL = 'a';
                process.env.GOOGLE_PRIVATE_KEY = 'b';
                valuesGetMock.mockReset();
                batchUpdateMock.mockClear();
              });

              it('updates correct ranges', async () => {
                const values = [
                  ['ID', 'Status_Kanban', 'Cor_Card'],
                  ['1', '', ''],
                  ['2', '', ''],
                  ['3', '', ''],
                  ['4', '', ''],
                  ['5', '', ''],
                ];
                valuesGetMock.mockResolvedValueOnce({ data: { values } });
                await gs.updateRowByIndex({
                  sheetName: 'Sheet1',
                  rowIndex: 5,
                  updates: { Status_Kanban: 'Lead Selecionado', Cor_Card: 'green' },
                });
                expect(batchUpdateMock).toHaveBeenCalledWith({
                  spreadsheetId: 'sheet',
                  requestBody: {
                    valueInputOption: 'RAW',
                    data: [
                      { range: 'Sheet1!B5:B5', values: [['Lead Selecionado']] },
                      { range: 'Sheet1!C5:C5', values: [['green']] },
                    ],
                  },
                });
              });
            });


        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ infosimples.ts
        ‚îî‚îÄ‚îÄ Conte√∫do:
            interface PerdcompParams {
              cnpj: string;
              data_inicio?: string;
              data_fim?: string;
              timeout?: number;
            }

            /**
             * Calls Infosimples PER/DCOMP endpoint (v2) using form-urlencoded body.
             * Throws on non-2xx responses with a truncated body to avoid leaking data.
             */
            export async function consultarPerdcomp({
              cnpj,
              data_inicio,
              data_fim,
              timeout = 9,
            }: PerdcompParams) {
              const token = process.env.INFOSIMPLES_TOKEN;
              if (!token) {
                throw new Error('INFOSIMPLES_TOKEN is not set in .env.local');
              }

              const params = new URLSearchParams();
              params.append('token', token);
              params.append('cnpj', cnpj.replace(/\D/g, ''));
              params.append('timeout', String(timeout));
              if (data_inicio) params.append('data_inicio', data_inicio);
              if (data_fim) params.append('data_fim', data_fim);

              const controller = new AbortController();
              const signal = controller.signal;
              const timeoutId = setTimeout(() => controller.abort(), timeout * 1000);

              let response: Response;
              try {
                response = await fetch(
                  'https://api.infosimples.com/api/v2/consultas/receita-federal/perdcomp',
                  {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: params.toString(),
                    signal,
                  },
                );
              } catch (error: any) {
                if (error.name === 'AbortError') {
                  throw new Error(`A consulta √† Infosimples excedeu o tempo limite de ${timeout} segundos.`);
                }
                throw error;
              } finally {
                clearTimeout(timeoutId);
              }

              if (!response.ok) {
                const text = await response.text();
                const truncated = text.length > 300 ? text.slice(0, 300) : text;
                throw new Error(`Infosimples HTTP ${response.status}: ${truncated}`);
              }

              return response.json();
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ perplexity.ts
        ‚îî‚îÄ‚îÄ Conte√∫do:
            // lib/perplexity.ts
            export type CompanySuggestion = {
              Nome_da_Empresa?: string;
              Site_Empresa?: string;
              Pais_Empresa?: string;
              Estado_Empresa?: string;
              Cidade_Empresa?: string;
              Logradouro_Empresa?: string;
              Numero_Empresa?: string;
              Bairro_Empresa?: string;
              Complemento_Empresa?: string;
              CEP_Empresa?: string;
              CNPJ_Empresa?: string;
              DDI_Empresa?: string;
              Telefones_Empresa?: string;
              Observacao_Empresa?: string;
              Nome_Contato?: string;
              Email_Contato?: string;
              Cargo_Contato?: string;
              DDI_Contato?: string;
              Telefones_Contato?: string;
              Mercado?: string;
              Produto?: string;
              Area?: string;
            };

            const digits = (s?: string) => (s || '').replace(/\D/g, '');

            function normalizeUF(uf?: string) {
              const u = (uf || '').trim().toUpperCase();
              return u.length === 2 ? u : '';
            }
            function normalizePhones(s?: string) {
              const raw = (s || '')
                .replace(/['"]/g, '')
                .split(/[;,/]| ou /i)
                .map(t => t.trim())
                .filter(Boolean);
              const uniq = Array.from(new Set(raw)).map(t => {
                const d = digits(t);
                if (!d) return '';
                return d.startsWith('55') ? `+${d}` : `+55${d}`;
              }).filter(Boolean);
              return uniq.join('; ');
            }

            function flatten(parsed: any): Partial<CompanySuggestion> {
              const Empresa   = parsed?.Empresa   || {};
              const Contato   = parsed?.Contato   || {};
              const Comercial = parsed?.Comercial || {};
              const out: Partial<CompanySuggestion> = {
                ...Empresa, ...Contato, ...Comercial,
              };
              if (out.CNPJ_Empresa) out.CNPJ_Empresa = digits(out.CNPJ_Empresa);
              if (out.Estado_Empresa) out.Estado_Empresa = normalizeUF(out.Estado_Empresa);
              if (out.Telefones_Empresa) out.Telefones_Empresa = normalizePhones(out.Telefones_Empresa);
              if (out.Telefones_Contato) out.Telefones_Contato = normalizePhones(out.Telefones_Contato);
              if (out.DDI_Empresa && !out.DDI_Empresa.startsWith('+')) out.DDI_Empresa = `+${digits(out.DDI_Empresa) || '55'}`;
              if (out.DDI_Contato && !out.DDI_Contato.startsWith('+')) out.DDI_Contato = `+${digits(out.DDI_Contato) || '55'}`;
              if (!out.Pais_Empresa) out.Pais_Empresa = 'Brasil';
              return out;
            }

            export async function enrichCompanyData(
              input: { nome?: string; cnpj?: string }
            ): Promise<{ suggestion: Partial<CompanySuggestion>, debug: any }> {
              const apiKey = process.env.PERPLEXITY_API_KEY;
              if (!apiKey) throw new Error('PERPLEXITY_API_KEY n√£o configurada');

              const endpoint = process.env.PERPLEXITY_ENDPOINT || 'https://api.perplexity.ai/chat/completions';
              const model    = process.env.PERPLEXITY_MODEL   || 'sonar';
              const temperature = 0.2;

              const nome = (input?.nome || '').trim();
              const cnpj = digits(input?.cnpj);

              const prompt = `
            Voc√™ √© um assistente de extra√ß√£o de dados. Busque informa√ß√µes sobre a empresa brasileira com o nome "${nome}"${cnpj ? ` e CNPJ "${cnpj}"` : ''}.
            Responda ESTRITAMENTE com um √∫nico objeto JSON no formato:

            {
              "Empresa": {
                "Nome_da_Empresa": "Nome Oficial Completo",
                "Site_Empresa": "https://site.com.br",
                "Pais_Empresa": "Brasil",
                "Estado_Empresa": "SP",
                "Cidade_Empresa": "S√£o Paulo",
                "Logradouro_Empresa": "Av. Exemplo",
                "Numero_Empresa": "123",
                "Bairro_Empresa": "Centro",
                "Complemento_Empresa": "",
                "CEP_Empresa": "01000-000",
                "CNPJ_Empresa": "12345678000199",
                "DDI_Empresa": "+55",
                "Telefones_Empresa": "+55 11 3333-4444; +55 11 98888-7777",
                "Observacao_Empresa": "Breve resumo (‚â§280 chars)."
              },
              "Contato": {
                "Nome_Contato": "Nome do Contato Principal",
                "Email_Contato": "contato@site.com.br",
                "Cargo_Contato": "Cargo do Contato",
                "DDI_Contato": "+55",
                "Telefones_Contato": "+55 11 99999-0000"
              },
              "Comercial": {
                "Mercado": "Mercado de Atua√ß√£o",
                "Produto": "Principal Produto/Servi√ßo",
                "Area": "√Årea (ex: Sa√∫de, Varejo)"
              }
            }

            Regras importantes:
            - O campo "CNPJ_Empresa" √© obrigat√≥rio. Fa√ßa o seu melhor para encontr√°-lo.
            - Se, ap√≥s uma busca exaustiva, o CNPJ n√£o for encontrado, retorne "CNPJ_Empresa": "" (uma string vazia). N√£o invente um n√∫mero.
            - Sem coment√°rios, sem Markdown, sem \`\`\`.
              `.trim();

              const resp = await fetch(endpoint, {
                method: 'POST',
                headers: { 'Authorization': `Bearer ${apiKey}`, 'Content-Type': 'application/json' },
                body: JSON.stringify({
                  model,
                  temperature,
                  messages: [
                    { role: 'system', content: 'Responda apenas com um JSON v√°lido √∫nico. Sem texto adicional.' },
                    { role: 'user', content: prompt }
                  ]
                })
              });

              const rawText = await resp.text().catch(() => '');
              if (!resp.ok) {
                throw new Error(`Perplexity falhou: ${resp.status} ${rawText.slice(0, 200)}`);
              }

              let apiJson: any = {};
              try { apiJson = JSON.parse(rawText); } catch {}
              const content: string =
                apiJson?.choices?.[0]?.message?.content ??
                rawText;

              let parsed: any = {};
              try {
                parsed = JSON.parse(content);
              } catch {
                const m = content.match(/```json\s*([\s\S]*?)```/i);
                const js = m ? m[1] : content;
                try { parsed = JSON.parse(js); } catch { parsed = {}; }
              }

              const suggestion = flatten(parsed);

              return {
                suggestion,
                debug: {
                  endpoint, model, temperature,
                  promptPreview: prompt.slice(0, 1000),
                  rawContent: content,
                  parsedJson: parsed,
                  flattened: suggestion,
                }
              };
            }

            export async function findCompetitors(input: { nome: string; max?: number }): Promise<{ items: Array<{ nome: string; cnpj: string }>, debug?: any }> {
              const apiKey = process.env.PERPLEXITY_API_KEY;
              if (!apiKey) throw new Error('PERPLEXITY_API_KEY n√£o configurada');

              const endpoint = process.env.PERPLEXITY_ENDPOINT || 'https://api.perplexity.ai/chat/completions';
              const model    = process.env.PERPLEXITY_MODEL   || 'sonar';
              const temperature = 0.2;

              const nome = (input?.nome || '').trim();
              const max  = Math.min(Math.max(input?.max ?? 20, 1), 20);

              const userPrompt = `
            Liste os ${max} principais concorrentes da empresa "${nome}" no Brasil.
            Retorne ESTRITAMENTE um array JSON de objetos no formato:
            [
              {"nome": "<Nome da empresa>", "cnpj": "<apenas n√∫meros, 14 d√≠gitos; se desconhecido, string vazia>"}
            ]

            Regras importantes:
            - Para cada concorrente, fa√ßa o seu melhor para encontrar o CNPJ oficial. A qualidade do CNPJ √© crucial.
            - O campo "cnpj" deve conter somente d√≠gitos (0-9), com 14 d√≠gitos. Se o CNPJ oficial tiver menos de 14, complete com zeros √† esquerda.
            - Se, ap√≥s uma busca exaustiva, o CNPJ de um concorrente n√£o for encontrado, retorne "cnpj": "" (uma string vazia) para esse concorrente. N√£o invente n√∫meros.
            - N√£o inclua coment√°rios, Markdown ou texto fora do JSON.
            `.trim();

              const resp = await fetch(endpoint, {
                method: 'POST',
                headers: { 'Authorization': `Bearer ${apiKey}`, 'Content-Type': 'application/json' },
                body: JSON.stringify({
                  model,
                  temperature,
                  messages: [
                    { role: 'system', content: 'Responda apenas com um JSON v√°lido (array de objetos), sem texto adicional.' },
                    { role: 'user', content: userPrompt }
                  ]
                })
              });

              const rawText = await resp.text().catch(() => '');
              if (!resp.ok) throw new Error(`Perplexity falhou: ${resp.status} ${rawText.slice(0, 200)}`);

              let apiJson: any = {};
              try { apiJson = JSON.parse(rawText); } catch {}
              const content: string = apiJson?.choices?.[0]?.message?.content ?? rawText;

              let parsed: any = [];
              try {
                parsed = JSON.parse(content);
              } catch {
                const m = content.match(/```json\s*([\s\S]*?)```/i);
                const js = m ? m[1] : content;
                try { parsed = JSON.parse(js); } catch { parsed = []; }
              }

              const digits = (s?: string) => (s || '').replace(/\D/g, '');
              const pad14  = (d: string) => (d.length === 0 ? '' : d.length <= 14 ? d.padStart(14, '0') : '');

              const items = (Array.isArray(parsed) ? parsed : []).map((it: any) => {
                const nome = String(it?.nome || '').trim();
                const cnpj = pad14(digits(String(it?.cnpj || '')));
                return { nome, cnpj };
              })
              // limpar vazios de nome e dedup por CNPJ/nome
              .filter(x => x.nome)
              .filter((x, idx, arr) => {
                const key = (x.cnpj || '') + '|' + x.nome.toLowerCase();
                return idx === arr.findIndex(y => ((y.cnpj || '') + '|' + y.nome.toLowerCase()) === key);
              })
              .slice(0, max);

              return {
                items,
                debug: { promptPreview: userPrompt.slice(0, 800), rawContent: content }
              };
            }



        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ report.js
        ‚îî‚îÄ‚îÄ Conte√∫do:
            import { updateRow } from './googleSheets';

            /**
             * Normaliza todos os n√∫meros e protege contra erros do Google Sheets.
             */
            export function normalizePhones(row, idx) {
              const val = (i) => (i >= 0 ? String(row[i] || '').trim() : '');
              const existing = val(idx.normalizado);
              const rawList = [
                val(idx.phoneWork),
                val(idx.phoneHome),
                val(idx.phoneMobile),
                val(idx.phoneOther),
                val(idx.tel),
                val(idx.cel),
              ];

              // ‚úÖ Se j√° existe "Telefone Normalizado", usa ele
              if (existing) {
                return existing
                  .split(/[,;/]/)
                  .map((p) => `'${p.trim().replace(/^'+/, '')}`) // sempre como texto puro
                  .filter(Boolean);
              }

              // ‚úÖ Junta e separa todos os n√∫meros encontrados
              let allNumbers = rawList
                .join(';')
                .split(/[,;/]/)
                .map((p) => p.trim())
                .filter(Boolean);

              const normalized = new Set();

              for (let num of allNumbers) {
                let original = num;

                // üîπ Remove caracteres n√£o num√©ricos (exceto +)
                num = num.replace(/[^\d+]/g, '');

                // üîπ Remove c√≥digos de operadora tipo 031
                num = num.replace(/^(0\d{2})(\d{8,9})$/, '$2');

                const digitsOnly = num.replace(/\D/g, '');
                if (digitsOnly.length < 8) continue;

                // üîπ Mant√©m n√∫meros 0800 e 4003
                if (/^0800\d{6,7}$/.test(digitsOnly) || /^4003\d{4}$/.test(digitsOnly)) {
                  normalized.add(`'${digitsOnly}`);
                  continue;
                }

                // üîπ Aceita n√∫mero internacional j√° no formato +E.164
                if (/^\+\d{10,15}$/.test(num)) {
                  normalized.add(`'${num}`);
                  continue;
                }

                // üîπ Remove + duplicado e garante padr√£o Brasil
                if (num.startsWith('+')) num = num.slice(1);

                    if (!num.startsWith('55')) {
                  if (digitsOnly.length === 10 || digitsOnly.length === 11) {
                    num = '55' + digitsOnly;
                  } else {
                    continue;
                  }
                }

                if (num.length === 12 || num.length === 13) {
                  normalized.add(`'+${num}`);
                }
              }

              return Array.from(normalized);
            }

            /**
             * Salva os telefones normalizados protegendo como texto puro.
             */
            export async function saveNormalizedPhones(updateRowFn, rowNum, numbers) {
              const safeNumbers = numbers.map((n) => (n.startsWith("'") ? n : `'${n}`));
              const value = safeNumbers.join(';');
              await updateRowFn(rowNum, { telefone_normalizado: value });
            }

            export async function buildReport(rows, { savePhones = true } = {}) {
              const [header, ...data] = rows;
              const idx = {
                clienteId: header.indexOf('Cliente_ID'),
                org: header.indexOf('Organiza√ß√£o - Nome'),
                segmento: header.indexOf('Organiza√ß√£o - Segmento'),
                tamanho: header.indexOf('Organiza√ß√£o - Tamanho da empresa'),
                contato: header.indexOf('Neg√≥cio - Pessoa de contato'),
                cargo: header.indexOf('Pessoa - Cargo'),
                phoneWork: header.indexOf('Pessoa - Phone - Work'),
                phoneHome: header.indexOf('Pessoa - Phone - Home'),
                phoneMobile: header.indexOf('Pessoa - Phone - Mobile'),
                phoneOther: header.indexOf('Pessoa - Phone - Other'),
                tel: header.indexOf('Pessoa - Telefone'),
                cel: header.indexOf('Pessoa - Celular'),
                normalizado: header.indexOf('Telefone Normalizado'),
                email: header.indexOf('Pessoa - Email - Work'),
                linkedin: header.indexOf('Pessoa - End. Linkedin'),
                uf: header.indexOf('uf'),
                cidade: header.indexOf('cidade_estimada'),
                impresso: header.indexOf('Impresso_Lista'),
              };

              const filters = {
                segmento: new Set(),
                porte: new Set(),
                uf: new Set(),
                cidade: new Set(),
              };

              const map = new Map();
              const phoneUpdates = [];

              for (let i = 0; i < data.length; i++) {
                const row = data[i];
                const clienteId = row[idx.clienteId];
                if (!clienteId) continue;

                if (!map.has(clienteId)) {
                  map.set(clienteId, {
                    id: clienteId,
                    company: row[idx.org] || '',
                    segment: row[idx.segmento] || '',
                    size: row[idx.tamanho] || '',
                    uf: row[idx.uf] || '',
                    cidade: row[idx.cidade] || '',
                    contacts: [],
                    rows: [],
                  });
                }

                const item = map.get(clienteId);
                item.rows.push(i + 2);

                const normalizedPhones = normalizePhones(row, idx);

                if (
                  savePhones &&
                  idx.normalizado >= 0 &&
                  normalizedPhones.length > 0 &&
                  !row[idx.normalizado]
                ) {
                  phoneUpdates.push(
                    saveNormalizedPhones(updateRow, i + 2, normalizedPhones).catch((err) => {
                      console.error('Erro ao salvar telefone normalizado', {
                        row: i + 2,
                        err,
                      });
                    })
                  );
                }

                item.contacts.push({
                  nome: (row[idx.contato] || '').trim(),
                  cargo: (row[idx.cargo] || '').trim(),
                  telefone: (row[idx.tel] || '').trim(),
                  celular: (row[idx.cel] || '').trim(),
                  normalizedPhones,
                  email: (row[idx.email] || '').trim(),
                  linkedin: (row[idx.linkedin] || '').trim(),
                  impresso: (row[idx.impresso] || '').trim(),
                });

                if (row[idx.segmento]) filters.segmento.add(row[idx.segmento]);
                if (row[idx.tamanho]) filters.porte.add(row[idx.tamanho]);
                if (row[idx.uf]) filters.uf.add(row[idx.uf]);
                if (row[idx.cidade]) filters.cidade.add(row[idx.cidade]);
              }

              if (phoneUpdates.length) {
                await Promise.all(phoneUpdates);
              }

              console.log('buildReport:', {
                linhasProcessadas: data.length,
                clientes: map.size,
              });

              return { map, filters };
            }

            export function mapToRows(map, query = {}, max = Infinity, onlyNew = true) {
              const result = [];
              const toMark = new Set();
              const seen = new Set();

              map.forEach((item) => {
                if (query.segmento && item.segment !== query.segmento) return;
                if (query.porte) {
                  const selected = Array.isArray(query.porte)
                    ? query.porte
                    : query.porte.split(',');
                  if (!selected.includes(item.size)) return;
                }
                if (query.uf && item.uf !== query.uf) return;
                if (query.cidade && item.cidade !== query.cidade) return;
                if (result.length >= max) return;

                const contatos = item.contacts.length === 0
                  ? [{
                      nome: '',
                      cargo: '',
                      telefone: '',
                      celular: '',
                      email: '',
                      linkedin: '',
                      impresso: '',
                    }]
                  : item.contacts;

                contatos.forEach((c) => {
                       if (result.length >= max) return;
                  if (onlyNew && c.impresso === 'Em Lista') return;

                  const key = `${item.id}|${c.nome}|${c.telefone}|${c.celular}|${c.email}|${c.linkedin}|${(c.normalizedPhones || []).join(',')}`;
                  if (seen.has(key)) return;
                  seen.add(key);

                  result.push({
                    id: item.id,
                    company: item.company,
                    segment: item.segment,
                    size: item.size,
                    nome: c.nome,
                    cargo: c.cargo,
                    telefone: c.telefone,
                    celular: c.celular,
                    email: c.email,
                    linkedin: c.linkedin,
                    normalizedPhones: c.normalizedPhones || [],
                  });

                  item.rows.forEach((r) => toMark.add(r));
                });
              });

              console.log('mapToRows:', {
                totalSelecionados: result.length,
                marcar: Array.from(toMark).length,
              });

              return { rows: result, toMark };
            }

            export async function markPrintedRows(updateRowFn, rows) {
              await Promise.all(
                Array.from(rows).map((rowNum) =>
                  updateRowFn(rowNum, { impresso_lista: 'Em Lista' })
                )
              );
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ url.js
        ‚îî‚îÄ‚îÄ Conte√∫do:
            export function joinUrl(base, path) {
              const b = base.replace(/\/+$/, '');
              const p = String(path || '').replace(/^\/+/, '');
              return `${b}/${p}`;
            }

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ next-env.d.ts
    ‚îî‚îÄ‚îÄ Conte√∫do:
        /// <reference types="next" />
        /// <reference types="next/image-types/global" />
        /// <reference types="next/navigation-types/compat/navigation" />

        // NOTE: This file should not be edited
        // see https://nextjs.org/docs/app/building-your-application/configuring/typescript for more information.

    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ next.config.js
    ‚îî‚îÄ‚îÄ Conte√∫do:
        /** @type {import('next').NextConfig} */
        const nextConfig = {
          reactStrictMode: true,
          eslint: {
            ignoreDuringBuilds: true,
          },
        };

        module.exports = nextConfig;

    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ package (c√≥pia).json
    ‚îî‚îÄ‚îÄ Conte√∫do:
        {
          "name": "sistema-comissoes-web",
          "version": "1.0.0",
          "scripts": {
            "dev": "next dev",
            "build": "next build",
            "start": "next start"
          },
          "dependencies": {
            "next": "13.x",
            "react": "18.x",
            "react-dom": "18.x",
            "googleapis": "^105.0.0",
            "@mui/material": "^5.15.0",
            "@mui/icons-material": "^5.15.0",
            "@emotion/react": "^11.11.1",
            "@emotion/styled": "^11.11.0"
          },
          "devDependencies": {}
        }

    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ package (outra c√≥pia).json
    ‚îî‚îÄ‚îÄ Conte√∫do:
        {
          "name": "sistema-comissoes-web",
          "version": "1.0.0",
          "scripts": {
            "dev": "next dev",
            "build": "next build",
            "start": "next start"
          },
          "dependencies": {
            "next": "13.x",
            "react": "18.x",
            "react-dom": "18.x",
            "googleapis": "^105.0.0",
            "@mui/material": "^5.15.0",
            "@mui/icons-material": "^5.15.0",
            "@emotion/react": "^11.11.1",
            "@emotion/styled": "^11.11.0"
          },
          "devDependencies": {}
        }

    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ package-lock.json
    ‚îî‚îÄ‚îÄ Conte√∫do:
        {
          "name": "client-kanban-system",
          "version": "1.0.0",
          "lockfileVersion": 3,
          "requires": true,
          "packages": {
            "": {
              "name": "client-kanban-system",
              "version": "1.0.0",
              "dependencies": {
                "@hello-pangea/dnd": "16.5.0",
                "chart.js": "^4.5.0",
                "clipboardy": "^4.0.0",
                "clsx": "^2.1.1",
                "googleapis": "^150.0.1",
                "jspdf": "^2.5.2",
                "jspdf-autotable": "^3.8.4",
                "next": "^14.2.0",
                "react": "^18.2.0",
                "react-chartjs-2": "^5.3.0",
                "react-dom": "^18.2.0",
                "react-icons": "^5.5.0",
                "xlsx": "^0.18.5"
              },
              "devDependencies": {
                "@testing-library/jest-dom": "^6.0.0",
                "@testing-library/react": "^14.0.0",
                "@testing-library/user-event": "^14.4.3",
                "autoprefixer": "^10.4.17",
                "jest": "^29.7.0",
                "jest-environment-jsdom": "^29.7.0",
                "postcss": "^8.4.35",
                "tailwindcss": "^3.4.1",
                "typescript": "^5.9.2"
              }
            },
            "node_modules/@adobe/css-tools": {
              "version": "4.4.3",
              "resolved": "https://registry.npmjs.org/@adobe/css-tools/-/css-tools-4.4.3.tgz",
              "integrity": "sha512-VQKMkwriZbaOgVCby1UDY/LDk5fIjhQicCvVPFqfe+69fWaPWydbWJ3wRt59/YzIwda1I81loas3oCoHxnqvdA==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/@alloc/quick-lru": {
              "version": "5.2.0",
              "resolved": "https://registry.npmjs.org/@alloc/quick-lru/-/quick-lru-5.2.0.tgz",
              "integrity": "sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/@ampproject/remapping": {
              "version": "2.3.0",
              "resolved": "https://registry.npmjs.org/@ampproject/remapping/-/remapping-2.3.0.tgz",
              "integrity": "sha512-30iZtAPgz+LTIYoeivqYo853f02jBYSd5uGnGpkFV0M3xOt9aN73erkgYAmZU43x4VfqcnLxW9Kpg3R5LC4YYw==",
              "dev": true,
              "license": "Apache-2.0",
              "dependencies": {
                "@jridgewell/gen-mapping": "^0.3.5",
                "@jridgewell/trace-mapping": "^0.3.24"
              },
              "engines": {
                "node": ">=6.0.0"
              }
            },
            "node_modules/@babel/code-frame": {
              "version": "7.27.1",
              "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.27.1.tgz",
              "integrity": "sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-validator-identifier": "^7.27.1",
                "js-tokens": "^4.0.0",
                "picocolors": "^1.1.1"
              },
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/compat-data": {
              "version": "7.28.0",
              "resolved": "https://registry.npmjs.org/@babel/compat-data/-/compat-data-7.28.0.tgz",
              "integrity": "sha512-60X7qkglvrap8mn1lh2ebxXdZYtUcpd7gsmy9kLaBJ4i/WdY8PqTSdxyA8qraikqKQK5C1KRBKXqznrVapyNaw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/core": {
              "version": "7.28.0",
              "resolved": "https://registry.npmjs.org/@babel/core/-/core-7.28.0.tgz",
              "integrity": "sha512-UlLAnTPrFdNGoFtbSXwcGFQBtQZJCNjaN6hQNP3UPvuNXT1i82N26KL3dZeIpNalWywr9IuQuncaAfUaS1g6sQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@ampproject/remapping": "^2.2.0",
                "@babel/code-frame": "^7.27.1",
                "@babel/generator": "^7.28.0",
                "@babel/helper-compilation-targets": "^7.27.2",
                "@babel/helper-module-transforms": "^7.27.3",
                "@babel/helpers": "^7.27.6",
                "@babel/parser": "^7.28.0",
                "@babel/template": "^7.27.2",
                "@babel/traverse": "^7.28.0",
                "@babel/types": "^7.28.0",
                "convert-source-map": "^2.0.0",
                "debug": "^4.1.0",
                "gensync": "^1.0.0-beta.2",
                "json5": "^2.2.3",
                "semver": "^6.3.1"
              },
              "engines": {
                "node": ">=6.9.0"
              },
              "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/babel"
              }
            },
            "node_modules/@babel/generator": {
              "version": "7.28.0",
              "resolved": "https://registry.npmjs.org/@babel/generator/-/generator-7.28.0.tgz",
              "integrity": "sha512-lJjzvrbEeWrhB4P3QBsH7tey117PjLZnDbLiQEKjQ/fNJTjuq4HSqgFA+UNSwZT8D7dxxbnuSBMsa1lrWzKlQg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/parser": "^7.28.0",
                "@babel/types": "^7.28.0",
                "@jridgewell/gen-mapping": "^0.3.12",
                "@jridgewell/trace-mapping": "^0.3.28",
                "jsesc": "^3.0.2"
              },
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/helper-compilation-targets": {
              "version": "7.27.2",
              "resolved": "https://registry.npmjs.org/@babel/helper-compilation-targets/-/helper-compilation-targets-7.27.2.tgz",
              "integrity": "sha512-2+1thGUUWWjLTYTHZWK1n8Yga0ijBz1XAhUXcKy81rd5g6yh7hGqMp45v7cadSbEHc9G3OTv45SyneRN3ps4DQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/compat-data": "^7.27.2",
                "@babel/helper-validator-option": "^7.27.1",
                "browserslist": "^4.24.0",
                "lru-cache": "^5.1.1",
                "semver": "^6.3.1"
              },
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/helper-globals": {
              "version": "7.28.0",
              "resolved": "https://registry.npmjs.org/@babel/helper-globals/-/helper-globals-7.28.0.tgz",
              "integrity": "sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/helper-module-imports": {
              "version": "7.27.1",
              "resolved": "https://registry.npmjs.org/@babel/helper-module-imports/-/helper-module-imports-7.27.1.tgz",
              "integrity": "sha512-0gSFWUPNXNopqtIPQvlD5WgXYI5GY2kP2cCvoT8kczjbfcfuIljTbcWrulD1CIPIX2gt1wghbDy08yE1p+/r3w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/traverse": "^7.27.1",
                "@babel/types": "^7.27.1"
              },
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/helper-module-transforms": {
              "version": "7.27.3",
              "resolved": "https://registry.npmjs.org/@babel/helper-module-transforms/-/helper-module-transforms-7.27.3.tgz",
              "integrity": "sha512-dSOvYwvyLsWBeIRyOeHXp5vPj5l1I011r52FM1+r1jCERv+aFXYk4whgQccYEGYxK2H3ZAIA8nuPkQ0HaUo3qg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-module-imports": "^7.27.1",
                "@babel/helper-validator-identifier": "^7.27.1",
                "@babel/traverse": "^7.27.3"
              },
              "engines": {
                "node": ">=6.9.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0"
              }
            },
            "node_modules/@babel/helper-plugin-utils": {
              "version": "7.27.1",
              "resolved": "https://registry.npmjs.org/@babel/helper-plugin-utils/-/helper-plugin-utils-7.27.1.tgz",
              "integrity": "sha512-1gn1Up5YXka3YYAHGKpbideQ5Yjf1tDa9qYcgysz+cNCXukyLl6DjPXhD3VRwSb8c0J9tA4b2+rHEZtc6R0tlw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/helper-string-parser": {
              "version": "7.27.1",
              "resolved": "https://registry.npmjs.org/@babel/helper-string-parser/-/helper-string-parser-7.27.1.tgz",
              "integrity": "sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/helper-validator-identifier": {
              "version": "7.27.1",
              "resolved": "https://registry.npmjs.org/@babel/helper-validator-identifier/-/helper-validator-identifier-7.27.1.tgz",
              "integrity": "sha512-D2hP9eA+Sqx1kBZgzxZh0y1trbuU+JoDkiEwqhQ36nodYqJwyEIhPSdMNd7lOm/4io72luTPWH20Yda0xOuUow==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/helper-validator-option": {
              "version": "7.27.1",
              "resolved": "https://registry.npmjs.org/@babel/helper-validator-option/-/helper-validator-option-7.27.1.tgz",
              "integrity": "sha512-YvjJow9FxbhFFKDSuFnVCe2WxXk1zWc22fFePVNEaWJEu8IrZVlda6N0uHwzZrUM1il7NC9Mlp4MaJYbYd9JSg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/helpers": {
              "version": "7.28.2",
              "resolved": "https://registry.npmjs.org/@babel/helpers/-/helpers-7.28.2.tgz",
              "integrity": "sha512-/V9771t+EgXz62aCcyofnQhGM8DQACbRhvzKFsXKC9QM+5MadF8ZmIm0crDMaz3+o0h0zXfJnd4EhbYbxsrcFw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/template": "^7.27.2",
                "@babel/types": "^7.28.2"
              },
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/parser": {
              "version": "7.28.0",
              "resolved": "https://registry.npmjs.org/@babel/parser/-/parser-7.28.0.tgz",
              "integrity": "sha512-jVZGvOxOuNSsuQuLRTh13nU0AogFlw32w/MT+LV6D3sP5WdbW61E77RnkbaO2dUvmPAYrBDJXGn5gGS6tH4j8g==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/types": "^7.28.0"
              },
              "bin": {
                "parser": "bin/babel-parser.js"
              },
              "engines": {
                "node": ">=6.0.0"
              }
            },
            "node_modules/@babel/plugin-syntax-async-generators": {
              "version": "7.8.4",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-async-generators/-/plugin-syntax-async-generators-7.8.4.tgz",
              "integrity": "sha512-tycmZxkGfZaxhMRbXlPXuVFpdWlXpir2W4AMhSJgRKzk/eDlIXOhb2LHWoLpDF7TEHylV5zNhykX6KAgHJmTNw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.8.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-bigint": {
              "version": "7.8.3",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-bigint/-/plugin-syntax-bigint-7.8.3.tgz",
              "integrity": "sha512-wnTnFlG+YxQm3vDxpGE57Pj0srRU4sHE/mDkt1qv2YJJSeUAec2ma4WLUnUPeKjyrfntVwe/N6dCXpU+zL3Npg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.8.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-class-properties": {
              "version": "7.12.13",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-class-properties/-/plugin-syntax-class-properties-7.12.13.tgz",
              "integrity": "sha512-fm4idjKla0YahUNgFNLCB0qySdsoPiZP3iQE3rky0mBUtMZ23yDJ9SJdg6dXTSDnulOVqiF3Hgr9nbXvXTQZYA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.12.13"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-class-static-block": {
              "version": "7.14.5",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-class-static-block/-/plugin-syntax-class-static-block-7.14.5.tgz",
              "integrity": "sha512-b+YyPmr6ldyNnM6sqYeMWE+bgJcJpO6yS4QD7ymxgH34GBPNDM/THBh8iunyvKIZztiwLH4CJZ0RxTk9emgpjw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.14.5"
              },
              "engines": {
                "node": ">=6.9.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-import-attributes": {
              "version": "7.27.1",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-import-attributes/-/plugin-syntax-import-attributes-7.27.1.tgz",
              "integrity": "sha512-oFT0FrKHgF53f4vOsZGi2Hh3I35PfSmVs4IBFLFj4dnafP+hIWDLg3VyKmUHfLoLHlyxY4C7DGtmHuJgn+IGww==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.27.1"
              },
              "engines": {
                "node": ">=6.9.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-import-meta": {
              "version": "7.10.4",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-import-meta/-/plugin-syntax-import-meta-7.10.4.tgz",
              "integrity": "sha512-Yqfm+XDx0+Prh3VSeEQCPU81yC+JWZ2pDPFSS4ZdpfZhp4MkFMaDC1UqseovEKwSUpnIL7+vK+Clp7bfh0iD7g==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.10.4"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-json-strings": {
              "version": "7.8.3",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-json-strings/-/plugin-syntax-json-strings-7.8.3.tgz",
              "integrity": "sha512-lY6kdGpWHvjoe2vk4WrAapEuBR69EMxZl+RoGRhrFGNYVK8mOPAW8VfbT/ZgrFbXlDNiiaxQnAtgVCZ6jv30EA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.8.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-jsx": {
              "version": "7.27.1",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-jsx/-/plugin-syntax-jsx-7.27.1.tgz",
              "integrity": "sha512-y8YTNIeKoyhGd9O0Jiyzyyqk8gdjnumGTQPsz0xOZOQ2RmkVJeZ1vmmfIvFEKqucBG6axJGBZDE/7iI5suUI/w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.27.1"
              },
              "engines": {
                "node": ">=6.9.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-logical-assignment-operators": {
              "version": "7.10.4",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-logical-assignment-operators/-/plugin-syntax-logical-assignment-operators-7.10.4.tgz",
              "integrity": "sha512-d8waShlpFDinQ5MtvGU9xDAOzKH47+FFoney2baFIoMr952hKOLp1HR7VszoZvOsV/4+RRszNY7D17ba0te0ig==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.10.4"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-nullish-coalescing-operator": {
              "version": "7.8.3",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-nullish-coalescing-operator/-/plugin-syntax-nullish-coalescing-operator-7.8.3.tgz",
              "integrity": "sha512-aSff4zPII1u2QD7y+F8oDsz19ew4IGEJg9SVW+bqwpwtfFleiQDMdzA/R+UlWDzfnHFCxxleFT0PMIrR36XLNQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.8.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-numeric-separator": {
              "version": "7.10.4",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-numeric-separator/-/plugin-syntax-numeric-separator-7.10.4.tgz",
              "integrity": "sha512-9H6YdfkcK/uOnY/K7/aA2xpzaAgkQn37yzWUMRK7OaPOqOpGS1+n0H5hxT9AUw9EsSjPW8SVyMJwYRtWs3X3ug==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.10.4"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-object-rest-spread": {
              "version": "7.8.3",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-object-rest-spread/-/plugin-syntax-object-rest-spread-7.8.3.tgz",
              "integrity": "sha512-XoqMijGZb9y3y2XskN+P1wUGiVwWZ5JmoDRwx5+3GmEplNyVM2s2Dg8ILFQm8rWM48orGy5YpI5Bl8U1y7ydlA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.8.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-optional-catch-binding": {
              "version": "7.8.3",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-optional-catch-binding/-/plugin-syntax-optional-catch-binding-7.8.3.tgz",
              "integrity": "sha512-6VPD0Pc1lpTqw0aKoeRTMiB+kWhAoT24PA+ksWSBrFtl5SIRVpZlwN3NNPQjehA2E/91FV3RjLWoVTglWcSV3Q==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.8.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-optional-chaining": {
              "version": "7.8.3",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-optional-chaining/-/plugin-syntax-optional-chaining-7.8.3.tgz",
              "integrity": "sha512-KoK9ErH1MBlCPxV0VANkXW2/dw4vlbGDrFgz8bmUsBGYkFRcbRwMh6cIJubdPrkxRwuGdtCk0v/wPTKbQgBjkg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.8.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-private-property-in-object": {
              "version": "7.14.5",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-private-property-in-object/-/plugin-syntax-private-property-in-object-7.14.5.tgz",
              "integrity": "sha512-0wVnp9dxJ72ZUJDV27ZfbSj6iHLoytYZmh3rFcxNnvsJF3ktkzLDZPy/mA17HGsaQT3/DQsWYX1f1QGWkCoVUg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.14.5"
              },
              "engines": {
                "node": ">=6.9.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-top-level-await": {
              "version": "7.14.5",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-top-level-await/-/plugin-syntax-top-level-await-7.14.5.tgz",
              "integrity": "sha512-hx++upLv5U1rgYfwe1xBQUhRmU41NEvpUvrp8jkrSCdvGSnM5/qdRMtylJ6PG5OFkBaHkbTAKTnd3/YyESRHFw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.14.5"
              },
              "engines": {
                "node": ">=6.9.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/plugin-syntax-typescript": {
              "version": "7.27.1",
              "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-typescript/-/plugin-syntax-typescript-7.27.1.tgz",
              "integrity": "sha512-xfYCBMxveHrRMnAWl1ZlPXOZjzkN82THFvLhQhFXFt81Z5HnN+EtUkZhv/zcKpmT3fzmWZB0ywiBrbC3vogbwQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.27.1"
              },
              "engines": {
                "node": ">=6.9.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0-0"
              }
            },
            "node_modules/@babel/runtime": {
              "version": "7.28.2",
              "resolved": "https://registry.npmjs.org/@babel/runtime/-/runtime-7.28.2.tgz",
              "integrity": "sha512-KHp2IflsnGywDjBWDkR9iEqiWSpc8GIi0lgTT3mOElT0PP1tG26P4tmFI2YvAdzgq9RGyoHZQEIEdZy6Ec5xCA==",
              "license": "MIT",
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/template": {
              "version": "7.27.2",
              "resolved": "https://registry.npmjs.org/@babel/template/-/template-7.27.2.tgz",
              "integrity": "sha512-LPDZ85aEJyYSd18/DkjNh4/y1ntkE5KwUHWTiqgRxruuZL2F1yuHligVHLvcHY2vMHXttKFpJn6LwfI7cw7ODw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/code-frame": "^7.27.1",
                "@babel/parser": "^7.27.2",
                "@babel/types": "^7.27.1"
              },
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/traverse": {
              "version": "7.28.0",
              "resolved": "https://registry.npmjs.org/@babel/traverse/-/traverse-7.28.0.tgz",
              "integrity": "sha512-mGe7UK5wWyh0bKRfupsUchrQGqvDbZDbKJw+kcRGSmdHVYrv+ltd0pnpDTVpiTqnaBru9iEvA8pz8W46v0Amwg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/code-frame": "^7.27.1",
                "@babel/generator": "^7.28.0",
                "@babel/helper-globals": "^7.28.0",
                "@babel/parser": "^7.28.0",
                "@babel/template": "^7.27.2",
                "@babel/types": "^7.28.0",
                "debug": "^4.3.1"
              },
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@babel/types": {
              "version": "7.28.2",
              "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.28.2.tgz",
              "integrity": "sha512-ruv7Ae4J5dUYULmeXw1gmb7rYRz57OWCPM57pHojnLq/3Z1CK2lNSLTCVjxVk1F/TZHwOZZrOWi0ur95BbLxNQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/helper-string-parser": "^7.27.1",
                "@babel/helper-validator-identifier": "^7.27.1"
              },
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/@bcoe/v8-coverage": {
              "version": "0.2.3",
              "resolved": "https://registry.npmjs.org/@bcoe/v8-coverage/-/v8-coverage-0.2.3.tgz",
              "integrity": "sha512-0hYQ8SB4Db5zvZB4axdMHGwEaQjkZzFjQiN9LVYvIFB2nSUHW9tYpxWriPrWDASIxiaXax83REcLxuSdnGPZtw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/@hello-pangea/dnd": {
              "version": "16.5.0",
              "resolved": "https://registry.npmjs.org/@hello-pangea/dnd/-/dnd-16.5.0.tgz",
              "integrity": "sha512-n+am6O32jo/CFXciCysz83lPM3I3F58FJw4uS44TceieymcyxQSfzK5OhzPAKrVBZktmuOI6Zim9WABTMtXv4A==",
              "license": "Apache-2.0",
              "dependencies": {
                "@babel/runtime": "^7.23.2",
                "css-box-model": "^1.2.1",
                "memoize-one": "^6.0.0",
                "raf-schd": "^4.0.3",
                "react-redux": "^8.1.3",
                "redux": "^4.2.1",
                "use-memo-one": "^1.1.3"
              },
              "peerDependencies": {
                "react": "^16.8.5 || ^17.0.0 || ^18.0.0",
                "react-dom": "^16.8.5 || ^17.0.0 || ^18.0.0"
              }
            },
            "node_modules/@isaacs/cliui": {
              "version": "8.0.2",
              "resolved": "https://registry.npmjs.org/@isaacs/cliui/-/cliui-8.0.2.tgz",
              "integrity": "sha512-O8jcjabXaleOG9DQ0+ARXWZBTfnP4WNAqzuiJK7ll44AmxGKv/J2M4TPjxjY3znBCfvBXFzucm1twdyFybFqEA==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "string-width": "^5.1.2",
                "string-width-cjs": "npm:string-width@^4.2.0",
                "strip-ansi": "^7.0.1",
                "strip-ansi-cjs": "npm:strip-ansi@^6.0.1",
                "wrap-ansi": "^8.1.0",
                "wrap-ansi-cjs": "npm:wrap-ansi@^7.0.0"
              },
              "engines": {
                "node": ">=12"
              }
            },
            "node_modules/@isaacs/cliui/node_modules/ansi-regex": {
              "version": "6.1.0",
              "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.1.0.tgz",
              "integrity": "sha512-7HSX4QQb4CspciLpVFwyRe79O3xsIZDDLER21kERQ71oaPodF8jL725AgJMFAYbooIqolJoRLuM81SpeUkpkvA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=12"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-regex?sponsor=1"
              }
            },
            "node_modules/@isaacs/cliui/node_modules/ansi-styles": {
              "version": "6.2.1",
              "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-6.2.1.tgz",
              "integrity": "sha512-bN798gFfQX+viw3R7yrGWRqnrN2oRkEkUjjl4JNn4E8GxxbjtG3FbrEIIY3l8/hrwUwIeCZvi4QuOTP4MErVug==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=12"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
              }
            },
            "node_modules/@isaacs/cliui/node_modules/emoji-regex": {
              "version": "9.2.2",
              "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-9.2.2.tgz",
              "integrity": "sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/@isaacs/cliui/node_modules/string-width": {
              "version": "5.1.2",
              "resolved": "https://registry.npmjs.org/string-width/-/string-width-5.1.2.tgz",
              "integrity": "sha512-HnLOCR3vjcY8beoNLtcjZ5/nxn2afmME6lhrDrebokqMap+XbeW8n9TXpPDOqdGK5qcI3oT0GKTW6wC7EMiVqA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "eastasianwidth": "^0.2.0",
                "emoji-regex": "^9.2.2",
                "strip-ansi": "^7.0.1"
              },
              "engines": {
                "node": ">=12"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/@isaacs/cliui/node_modules/strip-ansi": {
              "version": "7.1.0",
              "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-7.1.0.tgz",
              "integrity": "sha512-iq6eVVI64nQQTRYq2KtEg2d2uU7LElhTJwsH4YzIHZshxlgZms/wIc4VoDQTlG/IvVIrBKG06CrZnp0qv7hkcQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "ansi-regex": "^6.0.1"
              },
              "engines": {
                "node": ">=12"
              },
              "funding": {
                "url": "https://github.com/chalk/strip-ansi?sponsor=1"
              }
            },
            "node_modules/@isaacs/cliui/node_modules/wrap-ansi": {
              "version": "8.1.0",
              "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-8.1.0.tgz",
              "integrity": "sha512-si7QWI6zUMq56bESFvagtmzMdGOtoxfR+Sez11Mobfc7tm+VkUckk9bW2UeffTGVUbOksxmSw0AA2gs8g71NCQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "ansi-styles": "^6.1.0",
                "string-width": "^5.0.1",
                "strip-ansi": "^7.0.1"
              },
              "engines": {
                "node": ">=12"
              },
              "funding": {
                "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
              }
            },
            "node_modules/@istanbuljs/load-nyc-config": {
              "version": "1.1.0",
              "resolved": "https://registry.npmjs.org/@istanbuljs/load-nyc-config/-/load-nyc-config-1.1.0.tgz",
              "integrity": "sha512-VjeHSlIzpv/NyD3N0YuHfXOPDIixcA1q2ZV98wsMqcYlPmv2n3Yb2lYP9XMElnaFVXg5A7YLTeLu6V84uQDjmQ==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "camelcase": "^5.3.1",
                "find-up": "^4.1.0",
                "get-package-type": "^0.1.0",
                "js-yaml": "^3.13.1",
                "resolve-from": "^5.0.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/@istanbuljs/schema": {
              "version": "0.1.3",
              "resolved": "https://registry.npmjs.org/@istanbuljs/schema/-/schema-0.1.3.tgz",
              "integrity": "sha512-ZXRY4jNvVgSVQ8DL3LTcakaAtXwTVUxE81hslsyD2AtoXW/wVob10HkOJ1X/pAlcI7D+2YoZKg5do8G/w6RYgA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/@jest/console": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/@jest/console/-/console-29.7.0.tgz",
              "integrity": "sha512-5Ni4CU7XHQi32IJ398EEP4RrB8eV09sXP2ROqD4bksHrnTree52PsxvX8tpL8LvTZ3pFzXyPbNQReSN41CAhOg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/types": "^29.6.3",
                "@types/node": "*",
                "chalk": "^4.0.0",
                "jest-message-util": "^29.7.0",
                "jest-util": "^29.7.0",
                "slash": "^3.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/@jest/core": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/@jest/core/-/core-29.7.0.tgz",
              "integrity": "sha512-n7aeXWKMnGtDA48y8TLWJPJmLmmZ642Ceo78cYWEpiD7FzDgmNDV/GCVRorPABdXLJZ/9wzzgZAlHjXjxDHGsg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/console": "^29.7.0",
                "@jest/reporters": "^29.7.0",
                "@jest/test-result": "^29.7.0",
                "@jest/transform": "^29.7.0",
                "@jest/types": "^29.6.3",
                "@types/node": "*",
                "ansi-escapes": "^4.2.1",
                "chalk": "^4.0.0",
                "ci-info": "^3.2.0",
                "exit": "^0.1.2",
                "graceful-fs": "^4.2.9",
                "jest-changed-files": "^29.7.0",
                "jest-config": "^29.7.0",
                "jest-haste-map": "^29.7.0",
                "jest-message-util": "^29.7.0",
                "jest-regex-util": "^29.6.3",
                "jest-resolve": "^29.7.0",
                "jest-resolve-dependencies": "^29.7.0",
                "jest-runner": "^29.7.0",
                "jest-runtime": "^29.7.0",
                "jest-snapshot": "^29.7.0",
                "jest-util": "^29.7.0",
                "jest-validate": "^29.7.0",
                "jest-watcher": "^29.7.0",
                "micromatch": "^4.0.4",
                "pretty-format": "^29.7.0",
                "slash": "^3.0.0",
                "strip-ansi": "^6.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              },
              "peerDependencies": {
                "node-notifier": "^8.0.1 || ^9.0.0 || ^10.0.0"
              },
              "peerDependenciesMeta": {
                "node-notifier": {
                  "optional": true
                }
              }
            },
            "node_modules/@jest/core/node_modules/ansi-styles": {
              "version": "5.2.0",
              "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-5.2.0.tgz",
              "integrity": "sha512-Cxwpt2SfTzTtXcfOlzGEee8O+c+MmUgGrNiBcXnuWxuFJHe6a5Hz7qwhwe5OgaSYI0IJvkLqWX1ASG+cJOkEiA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
              }
            },
            "node_modules/@jest/core/node_modules/pretty-format": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/pretty-format/-/pretty-format-29.7.0.tgz",
              "integrity": "sha512-Pdlw/oPxN+aXdmM9R00JVC9WVFoCLTKJvDVLgmJ+qAffBMxsV85l/Lu7sNx4zSzPyoL2euImuEwHhOXdEgNFZQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/schemas": "^29.6.3",
                "ansi-styles": "^5.0.0",
                "react-is": "^18.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/@jest/core/node_modules/react-is": {
              "version": "18.3.1",
              "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
              "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/@jest/environment": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/@jest/environment/-/environment-29.7.0.tgz",
              "integrity": "sha512-aQIfHDq33ExsN4jP1NWGXhxgQ/wixs60gDiKO+XVMd8Mn0NWPWgc34ZQDTb2jKaUWQ7MuwoitXAsN2XVXNMpAw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/fake-timers": "^29.7.0",
                "@jest/types": "^29.6.3",
                "@types/node": "*",
                "jest-mock": "^29.7.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/@jest/expect": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/@jest/expect/-/expect-29.7.0.tgz",
              "integrity": "sha512-8uMeAMycttpva3P1lBHB8VciS9V0XAr3GymPpipdyQXbBcuhkLQOSe8E/p92RyAdToS6ZD1tFkX+CkhoECE0dQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "expect": "^29.7.0",
                "jest-snapshot": "^29.7.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/@jest/expect-utils": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/@jest/expect-utils/-/expect-utils-29.7.0.tgz",
              "integrity": "sha512-GlsNBWiFQFCVi9QVSx7f5AgMeLxe9YCCs5PuP2O2LdjDAA8Jh9eX7lA1Jq/xdXw3Wb3hyvlFNfZIfcRetSzYcA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "jest-get-type": "^29.6.3"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/@jest/fake-timers": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/@jest/fake-timers/-/fake-timers-29.7.0.tgz",
              "integrity": "sha512-q4DH1Ha4TTFPdxLsqDXK1d3+ioSL7yL5oCMJZgDYm6i+6CygW5E5xVr/D1HdsGxjt1ZWSfUAs9OxSB/BNelWrQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/types": "^29.6.3",
                "@sinonjs/fake-timers": "^10.0.2",
                "@types/node": "*",
                "jest-message-util": "^29.7.0",
                "jest-mock": "^29.7.0",
                "jest-util": "^29.7.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/@jest/globals": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/@jest/globals/-/globals-29.7.0.tgz",
              "integrity": "sha512-mpiz3dutLbkW2MNFubUGUEVLkTGiqW6yLVTA+JbP6fI6J5iL9Y0Nlg8k95pcF8ctKwCS7WVxteBs29hhfAotzQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/environment": "^29.7.0",
                "@jest/expect": "^29.7.0",
                "@jest/types": "^29.6.3",
                "jest-mock": "^29.7.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/@jest/reporters": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/@jest/reporters/-/reporters-29.7.0.tgz",
              "integrity": "sha512-DApq0KJbJOEzAFYjHADNNxAE3KbhxQB1y5Kplb5Waqw6zVbuWatSnMjE5gs8FUgEPmNsnZA3NCWl9NG0ia04Pg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@bcoe/v8-coverage": "^0.2.3",
                "@jest/console": "^29.7.0",
                "@jest/test-result": "^29.7.0",
                "@jest/transform": "^29.7.0",
                "@jest/types": "^29.6.3",
                "@jridgewell/trace-mapping": "^0.3.18",
                "@types/node": "*",
                "chalk": "^4.0.0",
                "collect-v8-coverage": "^1.0.0",
                "exit": "^0.1.2",
                "glob": "^7.1.3",
                "graceful-fs": "^4.2.9",
                "istanbul-lib-coverage": "^3.0.0",
                "istanbul-lib-instrument": "^6.0.0",
                "istanbul-lib-report": "^3.0.0",
                "istanbul-lib-source-maps": "^4.0.0",
                "istanbul-reports": "^3.1.3",
                "jest-message-util": "^29.7.0",
                "jest-util": "^29.7.0",
                "jest-worker": "^29.7.0",
                "slash": "^3.0.0",
                "string-length": "^4.0.1",
                "strip-ansi": "^6.0.0",
                "v8-to-istanbul": "^9.0.1"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              },
              "peerDependencies": {
                "node-notifier": "^8.0.1 || ^9.0.0 || ^10.0.0"
              },
              "peerDependenciesMeta": {
                "node-notifier": {
                  "optional": true
                }
              }
            },
            "node_modules/@jest/schemas": {
              "version": "29.6.3",
              "resolved": "https://registry.npmjs.org/@jest/schemas/-/schemas-29.6.3.tgz",
              "integrity": "sha512-mo5j5X+jIZmJQveBKeS/clAueipV7KgiX1vMgCxam1RNYiqE1w62n0/tJJnHtjW8ZHcQco5gY85jA3mi0L+nSA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@sinclair/typebox": "^0.27.8"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/@jest/source-map": {
              "version": "29.6.3",
              "resolved": "https://registry.npmjs.org/@jest/source-map/-/source-map-29.6.3.tgz",
              "integrity": "sha512-MHjT95QuipcPrpLM+8JMSzFx6eHp5Bm+4XeFDJlwsvVBjmKNiIAvasGK2fxz2WbGRlnvqehFbh07MMa7n3YJnw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jridgewell/trace-mapping": "^0.3.18",
                "callsites": "^3.0.0",
                "graceful-fs": "^4.2.9"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/@jest/test-result": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/@jest/test-result/-/test-result-29.7.0.tgz",
              "integrity": "sha512-Fdx+tv6x1zlkJPcWXmMDAG2HBnaR9XPSd5aDWQVsfrZmLVT3lU1cwyxLgRmXR9yrq4NBoEm9BMsfgFzTQAbJYA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/console": "^29.7.0",
                "@jest/types": "^29.6.3",
                "@types/istanbul-lib-coverage": "^2.0.0",
                "collect-v8-coverage": "^1.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/@jest/test-sequencer": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/@jest/test-sequencer/-/test-sequencer-29.7.0.tgz",
              "integrity": "sha512-GQwJ5WZVrKnOJuiYiAF52UNUJXgTZx1NHjFSEB0qEMmSZKAkdMoIzw/Cj6x6NF4AvV23AUqDpFzQkN/eYCYTxw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/test-result": "^29.7.0",
                "graceful-fs": "^4.2.9",
                "jest-haste-map": "^29.7.0",
                "slash": "^3.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/@jest/transform": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/@jest/transform/-/transform-29.7.0.tgz",
              "integrity": "sha512-ok/BTPFzFKVMwO5eOHRrvnBVHdRy9IrsrW1GpMaQ9MCnilNLXQKmAX8s1YXDFaai9xJpac2ySzV0YeRRECr2Vw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/core": "^7.11.6",
                "@jest/types": "^29.6.3",
                "@jridgewell/trace-mapping": "^0.3.18",
                "babel-plugin-istanbul": "^6.1.1",
                "chalk": "^4.0.0",
                "convert-source-map": "^2.0.0",
                "fast-json-stable-stringify": "^2.1.0",
                "graceful-fs": "^4.2.9",
                "jest-haste-map": "^29.7.0",
                "jest-regex-util": "^29.6.3",
                "jest-util": "^29.7.0",
                "micromatch": "^4.0.4",
                "pirates": "^4.0.4",
                "slash": "^3.0.0",
                "write-file-atomic": "^4.0.2"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/@jest/types": {
              "version": "29.6.3",
              "resolved": "https://registry.npmjs.org/@jest/types/-/types-29.6.3.tgz",
              "integrity": "sha512-u3UPsIilWKOM3F9CXtrG8LEJmNxwoCQC/XVj4IKYXvvpx7QIi/Kg1LI5uDmDpKlac62NUtX7eLjRh+jVZcLOzw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/schemas": "^29.6.3",
                "@types/istanbul-lib-coverage": "^2.0.0",
                "@types/istanbul-reports": "^3.0.0",
                "@types/node": "*",
                "@types/yargs": "^17.0.8",
                "chalk": "^4.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/@jridgewell/gen-mapping": {
              "version": "0.3.12",
              "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.12.tgz",
              "integrity": "sha512-OuLGC46TjB5BbN1dH8JULVVZY4WTdkF7tV9Ys6wLL1rubZnCMstOhNHueU5bLCrnRuDhKPDM4g6sw4Bel5Gzqg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jridgewell/sourcemap-codec": "^1.5.0",
                "@jridgewell/trace-mapping": "^0.3.24"
              }
            },
            "node_modules/@jridgewell/resolve-uri": {
              "version": "3.1.2",
              "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
              "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6.0.0"
              }
            },
            "node_modules/@jridgewell/sourcemap-codec": {
              "version": "1.5.4",
              "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.4.tgz",
              "integrity": "sha512-VT2+G1VQs/9oz078bLrYbecdZKs912zQlkelYpuf+SXF+QvZDYJlbx/LSx+meSAwdDFnF8FVXW92AVjjkVmgFw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/@jridgewell/trace-mapping": {
              "version": "0.3.29",
              "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.29.tgz",
              "integrity": "sha512-uw6guiW/gcAGPDhLmd77/6lW8QLeiV5RUTsAX46Db6oLhGaVj4lhnPwb184s1bkc8kdVg/+h988dro8GRDpmYQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jridgewell/resolve-uri": "^3.1.0",
                "@jridgewell/sourcemap-codec": "^1.4.14"
              }
            },
            "node_modules/@kurkle/color": {
              "version": "0.3.4",
              "resolved": "https://registry.npmjs.org/@kurkle/color/-/color-0.3.4.tgz",
              "integrity": "sha512-M5UknZPHRu3DEDWoipU6sE8PdkZ6Z/S+v4dD+Ke8IaNlpdSQah50lz1KtcFBa2vsdOnwbbnxJwVM4wty6udA5w==",
              "license": "MIT"
            },
            "node_modules/@next/env": {
              "version": "14.2.30",
              "resolved": "https://registry.npmjs.org/@next/env/-/env-14.2.30.tgz",
              "integrity": "sha512-KBiBKrDY6kxTQWGzKjQB7QirL3PiiOkV7KW98leHFjtVRKtft76Ra5qSA/SL75xT44dp6hOcqiiJ6iievLOYug==",
              "license": "MIT"
            },
            "node_modules/@next/swc-darwin-arm64": {
              "version": "14.2.30",
              "resolved": "https://registry.npmjs.org/@next/swc-darwin-arm64/-/swc-darwin-arm64-14.2.30.tgz",
              "integrity": "sha512-EAqfOTb3bTGh9+ewpO/jC59uACadRHM6TSA9DdxJB/6gxOpyV+zrbqeXiFTDy9uV6bmipFDkfpAskeaDcO+7/g==",
              "cpu": [
                "arm64"
              ],
              "license": "MIT",
              "optional": true,
              "os": [
                "darwin"
              ],
              "engines": {
                "node": ">= 10"
              }
            },
            "node_modules/@next/swc-darwin-x64": {
              "version": "14.2.30",
              "resolved": "https://registry.npmjs.org/@next/swc-darwin-x64/-/swc-darwin-x64-14.2.30.tgz",
              "integrity": "sha512-TyO7Wz1IKE2kGv8dwQ0bmPL3s44EKVencOqwIY69myoS3rdpO1NPg5xPM5ymKu7nfX4oYJrpMxv8G9iqLsnL4A==",
              "cpu": [
                "x64"
              ],
              "license": "MIT",
              "optional": true,
              "os": [
                "darwin"
              ],
              "engines": {
                "node": ">= 10"
              }
            },
            "node_modules/@next/swc-linux-arm64-gnu": {
              "version": "14.2.30",
              "resolved": "https://registry.npmjs.org/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-14.2.30.tgz",
              "integrity": "sha512-I5lg1fgPJ7I5dk6mr3qCH1hJYKJu1FsfKSiTKoYwcuUf53HWTrEkwmMI0t5ojFKeA6Vu+SfT2zVy5NS0QLXV4Q==",
              "cpu": [
                "arm64"
              ],
              "license": "MIT",
              "optional": true,
              "os": [
                "linux"
              ],
              "engines": {
                "node": ">= 10"
              }
            },
            "node_modules/@next/swc-linux-arm64-musl": {
              "version": "14.2.30",
              "resolved": "https://registry.npmjs.org/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-14.2.30.tgz",
              "integrity": "sha512-8GkNA+sLclQyxgzCDs2/2GSwBc92QLMrmYAmoP2xehe5MUKBLB2cgo34Yu242L1siSkwQkiV4YLdCnjwc/Micw==",
              "cpu": [
                "arm64"
              ],
              "license": "MIT",
              "optional": true,
              "os": [
                "linux"
              ],
              "engines": {
                "node": ">= 10"
              }
            },
            "node_modules/@next/swc-linux-x64-gnu": {
              "version": "14.2.30",
              "resolved": "https://registry.npmjs.org/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-14.2.30.tgz",
              "integrity": "sha512-8Ly7okjssLuBoe8qaRCcjGtcMsv79hwzn/63wNeIkzJVFVX06h5S737XNr7DZwlsbTBDOyI6qbL2BJB5n6TV/w==",
              "cpu": [
                "x64"
              ],
              "license": "MIT",
              "optional": true,
              "os": [
                "linux"
              ],
              "engines": {
                "node": ">= 10"
              }
            },
            "node_modules/@next/swc-linux-x64-musl": {
              "version": "14.2.30",
              "resolved": "https://registry.npmjs.org/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-14.2.30.tgz",
              "integrity": "sha512-dBmV1lLNeX4mR7uI7KNVHsGQU+OgTG5RGFPi3tBJpsKPvOPtg9poyav/BYWrB3GPQL4dW5YGGgalwZ79WukbKQ==",
              "cpu": [
                "x64"
              ],
              "license": "MIT",
              "optional": true,
              "os": [
                "linux"
              ],
              "engines": {
                "node": ">= 10"
              }
            },
            "node_modules/@next/swc-win32-arm64-msvc": {
              "version": "14.2.30",
              "resolved": "https://registry.npmjs.org/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-14.2.30.tgz",
              "integrity": "sha512-6MMHi2Qc1Gkq+4YLXAgbYslE1f9zMGBikKMdmQRHXjkGPot1JY3n5/Qrbg40Uvbi8//wYnydPnyvNhI1DMUW1g==",
              "cpu": [
                "arm64"
              ],
              "license": "MIT",
              "optional": true,
              "os": [
                "win32"
              ],
              "engines": {
                "node": ">= 10"
              }
            },
            "node_modules/@next/swc-win32-ia32-msvc": {
              "version": "14.2.30",
              "resolved": "https://registry.npmjs.org/@next/swc-win32-ia32-msvc/-/swc-win32-ia32-msvc-14.2.30.tgz",
              "integrity": "sha512-pVZMnFok5qEX4RT59mK2hEVtJX+XFfak+/rjHpyFh7juiT52r177bfFKhnlafm0UOSldhXjj32b+LZIOdswGTg==",
              "cpu": [
                "ia32"
              ],
              "license": "MIT",
              "optional": true,
              "os": [
                "win32"
              ],
              "engines": {
                "node": ">= 10"
              }
            },
            "node_modules/@next/swc-win32-x64-msvc": {
              "version": "14.2.30",
              "resolved": "https://registry.npmjs.org/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-14.2.30.tgz",
              "integrity": "sha512-4KCo8hMZXMjpTzs3HOqOGYYwAXymXIy7PEPAXNEcEOyKqkjiDlECumrWziy+JEF0Oi4ILHGxzgQ3YiMGG2t/Lg==",
              "cpu": [
                "x64"
              ],
              "license": "MIT",
              "optional": true,
              "os": [
                "win32"
              ],
              "engines": {
                "node": ">= 10"
              }
            },
            "node_modules/@nodelib/fs.scandir": {
              "version": "2.1.5",
              "resolved": "https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.5.tgz",
              "integrity": "sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@nodelib/fs.stat": "2.0.5",
                "run-parallel": "^1.1.9"
              },
              "engines": {
                "node": ">= 8"
              }
            },
            "node_modules/@nodelib/fs.stat": {
              "version": "2.0.5",
              "resolved": "https://registry.npmjs.org/@nodelib/fs.stat/-/fs.stat-2.0.5.tgz",
              "integrity": "sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 8"
              }
            },
            "node_modules/@nodelib/fs.walk": {
              "version": "1.2.8",
              "resolved": "https://registry.npmjs.org/@nodelib/fs.walk/-/fs.walk-1.2.8.tgz",
              "integrity": "sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@nodelib/fs.scandir": "2.1.5",
                "fastq": "^1.6.0"
              },
              "engines": {
                "node": ">= 8"
              }
            },
            "node_modules/@pkgjs/parseargs": {
              "version": "0.11.0",
              "resolved": "https://registry.npmjs.org/@pkgjs/parseargs/-/parseargs-0.11.0.tgz",
              "integrity": "sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg==",
              "dev": true,
              "license": "MIT",
              "optional": true,
              "engines": {
                "node": ">=14"
              }
            },
            "node_modules/@sinclair/typebox": {
              "version": "0.27.8",
              "resolved": "https://registry.npmjs.org/@sinclair/typebox/-/typebox-0.27.8.tgz",
              "integrity": "sha512-+Fj43pSMwJs4KRrH/938Uf+uAELIgVBmQzg/q1YG10djyfA3TnrU8N8XzqCh/okZdszqBQTZf96idMfE5lnwTA==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/@sinonjs/commons": {
              "version": "3.0.1",
              "resolved": "https://registry.npmjs.org/@sinonjs/commons/-/commons-3.0.1.tgz",
              "integrity": "sha512-K3mCHKQ9sVh8o1C9cxkwxaOmXoAMlDxC1mYyHrjqOWEcBjYr76t96zL2zlj5dUGZ3HSw240X1qgH3Mjf1yJWpQ==",
              "dev": true,
              "license": "BSD-3-Clause",
              "dependencies": {
                "type-detect": "4.0.8"
              }
            },
            "node_modules/@sinonjs/fake-timers": {
              "version": "10.3.0",
              "resolved": "https://registry.npmjs.org/@sinonjs/fake-timers/-/fake-timers-10.3.0.tgz",
              "integrity": "sha512-V4BG07kuYSUkTCSBHG8G8TNhM+F19jXFWnQtzj+we8DrkpSBCee9Z3Ms8yiGer/dlmhe35/Xdgyo3/0rQKg7YA==",
              "dev": true,
              "license": "BSD-3-Clause",
              "dependencies": {
                "@sinonjs/commons": "^3.0.0"
              }
            },
            "node_modules/@swc/counter": {
              "version": "0.1.3",
              "resolved": "https://registry.npmjs.org/@swc/counter/-/counter-0.1.3.tgz",
              "integrity": "sha512-e2BR4lsJkkRlKZ/qCHPw9ZaSxc0MVUd7gtbtaB7aMvHeJVYe8sOB8DBZkP2DtISHGSku9sCK6T6cnY0CtXrOCQ==",
              "license": "Apache-2.0"
            },
            "node_modules/@swc/helpers": {
              "version": "0.5.5",
              "resolved": "https://registry.npmjs.org/@swc/helpers/-/helpers-0.5.5.tgz",
              "integrity": "sha512-KGYxvIOXcceOAbEk4bi/dVLEK9z8sZ0uBB3Il5b1rhfClSpcX0yfRO0KmTkqR2cnQDymwLB+25ZyMzICg/cm/A==",
              "license": "Apache-2.0",
              "dependencies": {
                "@swc/counter": "^0.1.3",
                "tslib": "^2.4.0"
              }
            },
            "node_modules/@testing-library/dom": {
              "version": "10.4.1",
              "resolved": "https://registry.npmjs.org/@testing-library/dom/-/dom-10.4.1.tgz",
              "integrity": "sha512-o4PXJQidqJl82ckFaXUeoAW+XysPLauYI43Abki5hABd853iMhitooc6znOnczgbTYmEP6U6/y1ZyKAIsvMKGg==",
              "dev": true,
              "license": "MIT",
              "peer": true,
              "dependencies": {
                "@babel/code-frame": "^7.10.4",
                "@babel/runtime": "^7.12.5",
                "@types/aria-query": "^5.0.1",
                "aria-query": "5.3.0",
                "dom-accessibility-api": "^0.5.9",
                "lz-string": "^1.5.0",
                "picocolors": "1.1.1",
                "pretty-format": "^27.0.2"
              },
              "engines": {
                "node": ">=18"
              }
            },
            "node_modules/@testing-library/jest-dom": {
              "version": "6.6.4",
              "resolved": "https://registry.npmjs.org/@testing-library/jest-dom/-/jest-dom-6.6.4.tgz",
              "integrity": "sha512-xDXgLjVunjHqczScfkCJ9iyjdNOVHvvCdqHSSxwM9L0l/wHkTRum67SDc020uAlCoqktJplgO2AAQeLP1wgqDQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@adobe/css-tools": "^4.4.0",
                "aria-query": "^5.0.0",
                "css.escape": "^1.5.1",
                "dom-accessibility-api": "^0.6.3",
                "lodash": "^4.17.21",
                "picocolors": "^1.1.1",
                "redent": "^3.0.0"
              },
              "engines": {
                "node": ">=14",
                "npm": ">=6",
                "yarn": ">=1"
              }
            },
            "node_modules/@testing-library/jest-dom/node_modules/dom-accessibility-api": {
              "version": "0.6.3",
              "resolved": "https://registry.npmjs.org/dom-accessibility-api/-/dom-accessibility-api-0.6.3.tgz",
              "integrity": "sha512-7ZgogeTnjuHbo+ct10G9Ffp0mif17idi0IyWNVA/wcwcm7NPOD/WEHVP3n7n3MhXqxoIYm8d6MuZohYWIZ4T3w==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/@testing-library/react": {
              "version": "14.3.1",
              "resolved": "https://registry.npmjs.org/@testing-library/react/-/react-14.3.1.tgz",
              "integrity": "sha512-H99XjUhWQw0lTgyMN05W3xQG1Nh4lq574D8keFf1dDoNTJgp66VbJozRaczoF+wsiaPJNt/TcnfpLGufGxSrZQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/runtime": "^7.12.5",
                "@testing-library/dom": "^9.0.0",
                "@types/react-dom": "^18.0.0"
              },
              "engines": {
                "node": ">=14"
              },
              "peerDependencies": {
                "react": "^18.0.0",
                "react-dom": "^18.0.0"
              }
            },
            "node_modules/@testing-library/react/node_modules/@testing-library/dom": {
              "version": "9.3.4",
              "resolved": "https://registry.npmjs.org/@testing-library/dom/-/dom-9.3.4.tgz",
              "integrity": "sha512-FlS4ZWlp97iiNWig0Muq8p+3rVDjRiYE+YKGbAqXOu9nwJFFOdL00kFpz42M+4huzYi86vAK1sOOfyOG45muIQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/code-frame": "^7.10.4",
                "@babel/runtime": "^7.12.5",
                "@types/aria-query": "^5.0.1",
                "aria-query": "5.1.3",
                "chalk": "^4.1.0",
                "dom-accessibility-api": "^0.5.9",
                "lz-string": "^1.5.0",
                "pretty-format": "^27.0.2"
              },
              "engines": {
                "node": ">=14"
              }
            },
            "node_modules/@testing-library/react/node_modules/aria-query": {
              "version": "5.1.3",
              "resolved": "https://registry.npmjs.org/aria-query/-/aria-query-5.1.3.tgz",
              "integrity": "sha512-R5iJ5lkuHybztUfuOAznmboyjWq8O6sqNqtK7CLOqdydi54VNbORp49mb14KbWgG1QD3JFO9hJdZ+y4KutfdOQ==",
              "dev": true,
              "license": "Apache-2.0",
              "dependencies": {
                "deep-equal": "^2.0.5"
              }
            },
            "node_modules/@testing-library/user-event": {
              "version": "14.6.1",
              "resolved": "https://registry.npmjs.org/@testing-library/user-event/-/user-event-14.6.1.tgz",
              "integrity": "sha512-vq7fv0rnt+QTXgPxr5Hjc210p6YKq2kmdziLgnsZGgLJ9e6VAShx1pACLuRjd/AS/sr7phAR58OIIpf0LlmQNw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=12",
                "npm": ">=6"
              },
              "peerDependencies": {
                "@testing-library/dom": ">=7.21.4"
              }
            },
            "node_modules/@tootallnate/once": {
              "version": "2.0.0",
              "resolved": "https://registry.npmjs.org/@tootallnate/once/-/once-2.0.0.tgz",
              "integrity": "sha512-XCuKFP5PS55gnMVu3dty8KPatLqUoy/ZYzDzAGCQ8JNFCkLXzmI7vNHCR+XpbZaMWQK/vQubr7PkYq8g470J/A==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 10"
              }
            },
            "node_modules/@types/aria-query": {
              "version": "5.0.4",
              "resolved": "https://registry.npmjs.org/@types/aria-query/-/aria-query-5.0.4.tgz",
              "integrity": "sha512-rfT93uj5s0PRL7EzccGMs3brplhcrghnDoV26NqKhCAS1hVo+WdNsPvE/yb6ilfr5hi2MEk6d5EWJTKdxg8jVw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/@types/babel__core": {
              "version": "7.20.5",
              "resolved": "https://registry.npmjs.org/@types/babel__core/-/babel__core-7.20.5.tgz",
              "integrity": "sha512-qoQprZvz5wQFJwMDqeseRXWv3rqMvhgpbXFfVyWhbx9X47POIA6i/+dXefEmZKoAgOaTdaIgNSMqMIU61yRyzA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/parser": "^7.20.7",
                "@babel/types": "^7.20.7",
                "@types/babel__generator": "*",
                "@types/babel__template": "*",
                "@types/babel__traverse": "*"
              }
            },
            "node_modules/@types/babel__generator": {
              "version": "7.27.0",
              "resolved": "https://registry.npmjs.org/@types/babel__generator/-/babel__generator-7.27.0.tgz",
              "integrity": "sha512-ufFd2Xi92OAVPYsy+P4n7/U7e68fex0+Ee8gSG9KX7eo084CWiQ4sdxktvdl0bOPupXtVJPY19zk6EwWqUQ8lg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/types": "^7.0.0"
              }
            },
            "node_modules/@types/babel__template": {
              "version": "7.4.4",
              "resolved": "https://registry.npmjs.org/@types/babel__template/-/babel__template-7.4.4.tgz",
              "integrity": "sha512-h/NUaSyG5EyxBIp8YRxo4RMe2/qQgvyowRwVMzhYhBCONbW8PUsg4lkFMrhgZhUe5z3L3MiLDuvyJ/CaPa2A8A==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/parser": "^7.1.0",
                "@babel/types": "^7.0.0"
              }
            },
            "node_modules/@types/babel__traverse": {
              "version": "7.20.7",
              "resolved": "https://registry.npmjs.org/@types/babel__traverse/-/babel__traverse-7.20.7.tgz",
              "integrity": "sha512-dkO5fhS7+/oos4ciWxyEyjWe48zmG6wbCheo/G2ZnHx4fs3EU6YC6UM8rk56gAjNJ9P3MTH2jo5jb92/K6wbng==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/types": "^7.20.7"
              }
            },
            "node_modules/@types/graceful-fs": {
              "version": "4.1.9",
              "resolved": "https://registry.npmjs.org/@types/graceful-fs/-/graceful-fs-4.1.9.tgz",
              "integrity": "sha512-olP3sd1qOEe5dXTSaFvQG+02VdRXcdytWLAZsAq1PecU8uqQAhkrnbli7DagjtXKW/Bl7YJbUsa8MPcuc8LHEQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@types/node": "*"
              }
            },
            "node_modules/@types/hoist-non-react-statics": {
              "version": "3.3.7",
              "resolved": "https://registry.npmjs.org/@types/hoist-non-react-statics/-/hoist-non-react-statics-3.3.7.tgz",
              "integrity": "sha512-PQTyIulDkIDro8P+IHbKCsw7U2xxBYflVzW/FgWdCAePD9xGSidgA76/GeJ6lBKoblyhf9pBY763gbrN+1dI8g==",
              "license": "MIT",
              "dependencies": {
                "hoist-non-react-statics": "^3.3.0"
              },
              "peerDependencies": {
                "@types/react": "*"
              }
            },
            "node_modules/@types/istanbul-lib-coverage": {
              "version": "2.0.6",
              "resolved": "https://registry.npmjs.org/@types/istanbul-lib-coverage/-/istanbul-lib-coverage-2.0.6.tgz",
              "integrity": "sha512-2QF/t/auWm0lsy8XtKVPG19v3sSOQlJe/YHZgfjb/KBBHOGSV+J2q/S671rcq9uTBrLAXmZpqJiaQbMT+zNU1w==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/@types/istanbul-lib-report": {
              "version": "3.0.3",
              "resolved": "https://registry.npmjs.org/@types/istanbul-lib-report/-/istanbul-lib-report-3.0.3.tgz",
              "integrity": "sha512-NQn7AHQnk/RSLOxrBbGyJM/aVQ+pjj5HCgasFxc0K/KhoATfQ/47AyUl15I2yBUpihjmas+a+VJBOqecrFH+uA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@types/istanbul-lib-coverage": "*"
              }
            },
            "node_modules/@types/istanbul-reports": {
              "version": "3.0.4",
              "resolved": "https://registry.npmjs.org/@types/istanbul-reports/-/istanbul-reports-3.0.4.tgz",
              "integrity": "sha512-pk2B1NWalF9toCRu6gjBzR69syFjP4Od8WRAX+0mmf9lAjCRicLOWc+ZrxZHx/0XRjotgkF9t6iaMJ+aXcOdZQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@types/istanbul-lib-report": "*"
              }
            },
            "node_modules/@types/jsdom": {
              "version": "20.0.1",
              "resolved": "https://registry.npmjs.org/@types/jsdom/-/jsdom-20.0.1.tgz",
              "integrity": "sha512-d0r18sZPmMQr1eG35u12FZfhIXNrnsPU/g5wvRKCUf/tOGilKKwYMYGqh33BNR6ba+2gkHw1EUiHoN3mn7E5IQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@types/node": "*",
                "@types/tough-cookie": "*",
                "parse5": "^7.0.0"
              }
            },
            "node_modules/@types/node": {
              "version": "24.1.0",
              "resolved": "https://registry.npmjs.org/@types/node/-/node-24.1.0.tgz",
              "integrity": "sha512-ut5FthK5moxFKH2T1CUOC6ctR67rQRvvHdFLCD2Ql6KXmMuCrjsSsRI9UsLCm9M18BMwClv4pn327UvB7eeO1w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "undici-types": "~7.8.0"
              }
            },
            "node_modules/@types/prop-types": {
              "version": "15.7.15",
              "resolved": "https://registry.npmjs.org/@types/prop-types/-/prop-types-15.7.15.tgz",
              "integrity": "sha512-F6bEyamV9jKGAFBEmlQnesRPGOQqS2+Uwi0Em15xenOxHaf2hv6L8YCVn3rPdPJOiJfPiCnLIRyvwVaqMY3MIw==",
              "license": "MIT",
              "peer": true
            },
            "node_modules/@types/raf": {
              "version": "3.4.3",
              "resolved": "https://registry.npmjs.org/@types/raf/-/raf-3.4.3.tgz",
              "integrity": "sha512-c4YAvMedbPZ5tEyxzQdMoOhhJ4RD3rngZIdwC2/qDN3d7JpEhB6fiBRKVY1lg5B7Wk+uPBjn5f39j1/2MY1oOw==",
              "license": "MIT",
              "optional": true
            },
            "node_modules/@types/react": {
              "version": "18.3.23",
              "resolved": "https://registry.npmjs.org/@types/react/-/react-18.3.23.tgz",
              "integrity": "sha512-/LDXMQh55EzZQ0uVAZmKKhfENivEvWz6E+EYzh+/MCjMhNsotd+ZHhBGIjFDTi6+fz0OhQQQLbTgdQIxxCsC0w==",
              "license": "MIT",
              "peer": true,
              "dependencies": {
                "@types/prop-types": "*",
                "csstype": "^3.0.2"
              }
            },
            "node_modules/@types/react-dom": {
              "version": "18.3.7",
              "resolved": "https://registry.npmjs.org/@types/react-dom/-/react-dom-18.3.7.tgz",
              "integrity": "sha512-MEe3UeoENYVFXzoXEWsvcpg6ZvlrFNlOQ7EOsvhI3CfAXwzPfO8Qwuxd40nepsYKqyyVQnTdEfv68q91yLcKrQ==",
              "devOptional": true,
              "license": "MIT",
              "peerDependencies": {
                "@types/react": "^18.0.0"
              }
            },
            "node_modules/@types/stack-utils": {
              "version": "2.0.3",
              "resolved": "https://registry.npmjs.org/@types/stack-utils/-/stack-utils-2.0.3.tgz",
              "integrity": "sha512-9aEbYZ3TbYMznPdcdr3SmIrLXwC/AKZXQeCf9Pgao5CKb8CyHuEX5jzWPTkvregvhRJHcpRO6BFoGW9ycaOkYw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/@types/tough-cookie": {
              "version": "4.0.5",
              "resolved": "https://registry.npmjs.org/@types/tough-cookie/-/tough-cookie-4.0.5.tgz",
              "integrity": "sha512-/Ad8+nIOV7Rl++6f1BdKxFSMgmoqEoYbHRpPcx3JEfv8VRsQe9Z4mCXeJBzxs7mbHY/XOZZuXlRNfhpVPbs6ZA==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/@types/use-sync-external-store": {
              "version": "0.0.3",
              "resolved": "https://registry.npmjs.org/@types/use-sync-external-store/-/use-sync-external-store-0.0.3.tgz",
              "integrity": "sha512-EwmlvuaxPNej9+T4v5AuBPJa2x2UOJVdjCtDHgcDqitUeOtjnJKJ+apYjVcAoBEMjKW1VVFGZLUb5+qqa09XFA==",
              "license": "MIT"
            },
            "node_modules/@types/yargs": {
              "version": "17.0.33",
              "resolved": "https://registry.npmjs.org/@types/yargs/-/yargs-17.0.33.tgz",
              "integrity": "sha512-WpxBCKWPLr4xSsHgz511rFJAM+wS28w2zEO1QDNY5zM/S8ok70NNfztH0xwhqKyaK0OHCbN98LDAZuy1ctxDkA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@types/yargs-parser": "*"
              }
            },
            "node_modules/@types/yargs-parser": {
              "version": "21.0.3",
              "resolved": "https://registry.npmjs.org/@types/yargs-parser/-/yargs-parser-21.0.3.tgz",
              "integrity": "sha512-I4q9QU9MQv4oEOz4tAHJtNz1cwuLxn2F3xcc2iV5WdqLPpUnj30aUuxt1mAxYTG+oe8CZMV/+6rU4S4gRDzqtQ==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/abab": {
              "version": "2.0.6",
              "resolved": "https://registry.npmjs.org/abab/-/abab-2.0.6.tgz",
              "integrity": "sha512-j2afSsaIENvHZN2B8GOpF566vZ5WVk5opAiMTvWgaQT8DkbOqsTfvNAvHoRGU2zzP8cPoqys+xHTRDWW8L+/BA==",
              "deprecated": "Use your platform's native atob() and btoa() methods instead",
              "dev": true,
              "license": "BSD-3-Clause"
            },
            "node_modules/acorn": {
              "version": "8.15.0",
              "resolved": "https://registry.npmjs.org/acorn/-/acorn-8.15.0.tgz",
              "integrity": "sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==",
              "dev": true,
              "license": "MIT",
              "bin": {
                "acorn": "bin/acorn"
              },
              "engines": {
                "node": ">=0.4.0"
              }
            },
            "node_modules/acorn-globals": {
              "version": "7.0.1",
              "resolved": "https://registry.npmjs.org/acorn-globals/-/acorn-globals-7.0.1.tgz",
              "integrity": "sha512-umOSDSDrfHbTNPuNpC2NSnnA3LUrqpevPb4T9jRx4MagXNS0rs+gwiTcAvqCRmsD6utzsrzNt+ebm00SNWiC3Q==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "acorn": "^8.1.0",
                "acorn-walk": "^8.0.2"
              }
            },
            "node_modules/acorn-walk": {
              "version": "8.3.4",
              "resolved": "https://registry.npmjs.org/acorn-walk/-/acorn-walk-8.3.4.tgz",
              "integrity": "sha512-ueEepnujpqee2o5aIYnvHU6C0A42MNdsIDeqy5BydrkuC5R1ZuUFnm27EeFJGoEHJQgn3uleRvmTXaJgfXbt4g==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "acorn": "^8.11.0"
              },
              "engines": {
                "node": ">=0.4.0"
              }
            },
            "node_modules/adler-32": {
              "version": "1.3.1",
              "resolved": "https://registry.npmjs.org/adler-32/-/adler-32-1.3.1.tgz",
              "integrity": "sha512-ynZ4w/nUUv5rrsR8UUGoe1VC9hZj6V5hU9Qw1HlMDJGEJw5S7TfTErWTjMys6M7vr0YWcPqs3qAr4ss0nDfP+A==",
              "license": "Apache-2.0",
              "engines": {
                "node": ">=0.8"
              }
            },
            "node_modules/agent-base": {
              "version": "7.1.4",
              "resolved": "https://registry.npmjs.org/agent-base/-/agent-base-7.1.4.tgz",
              "integrity": "sha512-MnA+YT8fwfJPgBx3m60MNqakm30XOkyIoH1y6huTQvC0PwZG7ki8NacLBcrPbNoo8vEZy7Jpuk7+jMO+CUovTQ==",
              "license": "MIT",
              "engines": {
                "node": ">= 14"
              }
            },
            "node_modules/ansi-escapes": {
              "version": "4.3.2",
              "resolved": "https://registry.npmjs.org/ansi-escapes/-/ansi-escapes-4.3.2.tgz",
              "integrity": "sha512-gKXj5ALrKWQLsYG9jlTRmR/xKluxHV+Z9QEwNIgCfM1/uwPMCuzVVnh5mwTd+OuBZcwSIMbqssNWRm1lE51QaQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "type-fest": "^0.21.3"
              },
              "engines": {
                "node": ">=8"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/ansi-regex": {
              "version": "5.0.1",
              "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
              "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/ansi-styles": {
              "version": "4.3.0",
              "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
              "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "color-convert": "^2.0.1"
              },
              "engines": {
                "node": ">=8"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
              }
            },
            "node_modules/any-promise": {
              "version": "1.3.0",
              "resolved": "https://registry.npmjs.org/any-promise/-/any-promise-1.3.0.tgz",
              "integrity": "sha512-7UvmKalWRt1wgjL1RrGxoSJW/0QZFIegpeGvZG9kjp8vrRu55XTHbwnqq2GpXm9uLbcuhxm3IqX9OB4MZR1b2A==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/anymatch": {
              "version": "3.1.3",
              "resolved": "https://registry.npmjs.org/anymatch/-/anymatch-3.1.3.tgz",
              "integrity": "sha512-KMReFUr0B4t+D+OBkjR3KYqvocp2XaSzO55UcB6mgQMd3KbcE+mWTyvVV7D/zsdEbNnV6acZUutkiHQXvTr1Rw==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "normalize-path": "^3.0.0",
                "picomatch": "^2.0.4"
              },
              "engines": {
                "node": ">= 8"
              }
            },
            "node_modules/arg": {
              "version": "5.0.2",
              "resolved": "https://registry.npmjs.org/arg/-/arg-5.0.2.tgz",
              "integrity": "sha512-PYjyFOLKQ9y57JvQ6QLo8dAgNqswh8M1RMJYdQduT6xbWSgK36P/Z/v+p888pM69jMMfS8Xd8F6I1kQ/I9HUGg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/argparse": {
              "version": "1.0.10",
              "resolved": "https://registry.npmjs.org/argparse/-/argparse-1.0.10.tgz",
              "integrity": "sha512-o5Roy6tNG4SL/FOkCAN6RzjiakZS25RLYFrcMttJqbdd8BWrnA+fGz57iN5Pb06pvBGvl5gQ0B48dJlslXvoTg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "sprintf-js": "~1.0.2"
              }
            },
            "node_modules/aria-query": {
              "version": "5.3.0",
              "resolved": "https://registry.npmjs.org/aria-query/-/aria-query-5.3.0.tgz",
              "integrity": "sha512-b0P0sZPKtyu8HkeRAfCq0IfURZK+SuwMjY1UXGBU27wpAiTwQAIlq56IbIO+ytk/JjS1fMR14ee5WBBfKi5J6A==",
              "dev": true,
              "license": "Apache-2.0",
              "dependencies": {
                "dequal": "^2.0.3"
              }
            },
            "node_modules/array-buffer-byte-length": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/array-buffer-byte-length/-/array-buffer-byte-length-1.0.2.tgz",
              "integrity": "sha512-LHE+8BuR7RYGDKvnrmcuSq3tDcKv9OFEXQt/HpbZhY7V6h0zlUXutnAD82GiFx9rdieCMjkvtcsPqBwgUl1Iiw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bound": "^1.0.3",
                "is-array-buffer": "^3.0.5"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/asynckit": {
              "version": "0.4.0",
              "resolved": "https://registry.npmjs.org/asynckit/-/asynckit-0.4.0.tgz",
              "integrity": "sha512-Oei9OH4tRh0YqU3GxhX79dM/mwVgvbZJaSNaRk+bshkj0S5cfHcgYakreBjrHwatXKbz+IoIdYLxrKim2MjW0Q==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/atob": {
              "version": "2.1.2",
              "resolved": "https://registry.npmjs.org/atob/-/atob-2.1.2.tgz",
              "integrity": "sha512-Wm6ukoaOGJi/73p/cl2GvLjTI5JM1k/O14isD73YML8StrH/7/lRFgmg8nICZgD3bZZvjwCGxtMOD3wWNAu8cg==",
              "license": "(MIT OR Apache-2.0)",
              "bin": {
                "atob": "bin/atob.js"
              },
              "engines": {
                "node": ">= 4.5.0"
              }
            },
            "node_modules/autoprefixer": {
              "version": "10.4.21",
              "resolved": "https://registry.npmjs.org/autoprefixer/-/autoprefixer-10.4.21.tgz",
              "integrity": "sha512-O+A6LWV5LDHSJD3LjHYoNi4VLsj/Whi7k6zG12xTYaU4cQ8oxQGckXNX8cRHK5yOZ/ppVHe0ZBXGzSV9jXdVbQ==",
              "dev": true,
              "funding": [
                {
                  "type": "opencollective",
                  "url": "https://opencollective.com/postcss/"
                },
                {
                  "type": "tidelift",
                  "url": "https://tidelift.com/funding/github/npm/autoprefixer"
                },
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/ai"
                }
              ],
              "license": "MIT",
              "dependencies": {
                "browserslist": "^4.24.4",
                "caniuse-lite": "^1.0.30001702",
                "fraction.js": "^4.3.7",
                "normalize-range": "^0.1.2",
                "picocolors": "^1.1.1",
                "postcss-value-parser": "^4.2.0"
              },
              "bin": {
                "autoprefixer": "bin/autoprefixer"
              },
              "engines": {
                "node": "^10 || ^12 || >=14"
              },
              "peerDependencies": {
                "postcss": "^8.1.0"
              }
            },
            "node_modules/available-typed-arrays": {
              "version": "1.0.7",
              "resolved": "https://registry.npmjs.org/available-typed-arrays/-/available-typed-arrays-1.0.7.tgz",
              "integrity": "sha512-wvUjBtSGN7+7SjNpq/9M2Tg350UZD3q62IFZLbRAR1bSMlCo1ZaeW+BJ+D090e4hIIZLBcTDWe4Mh4jvUDajzQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "possible-typed-array-names": "^1.0.0"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/babel-jest": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/babel-jest/-/babel-jest-29.7.0.tgz",
              "integrity": "sha512-BrvGY3xZSwEcCzKvKsCi2GgHqDqsYkOP4/by5xCgIwGXQxIEh+8ew3gmrE1y7XRR6LHZIj6yLYnUi/mm2KXKBg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/transform": "^29.7.0",
                "@types/babel__core": "^7.1.14",
                "babel-plugin-istanbul": "^6.1.1",
                "babel-preset-jest": "^29.6.3",
                "chalk": "^4.0.0",
                "graceful-fs": "^4.2.9",
                "slash": "^3.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.8.0"
              }
            },
            "node_modules/babel-plugin-istanbul": {
              "version": "6.1.1",
              "resolved": "https://registry.npmjs.org/babel-plugin-istanbul/-/babel-plugin-istanbul-6.1.1.tgz",
              "integrity": "sha512-Y1IQok9821cC9onCx5otgFfRm7Lm+I+wwxOx738M/WLPZ9Q42m4IG5W0FNX8WLL2gYMZo3JkuXIH2DOpWM+qwA==",
              "dev": true,
              "license": "BSD-3-Clause",
              "dependencies": {
                "@babel/helper-plugin-utils": "^7.0.0",
                "@istanbuljs/load-nyc-config": "^1.0.0",
                "@istanbuljs/schema": "^0.1.2",
                "istanbul-lib-instrument": "^5.0.4",
                "test-exclude": "^6.0.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/babel-plugin-istanbul/node_modules/istanbul-lib-instrument": {
              "version": "5.2.1",
              "resolved": "https://registry.npmjs.org/istanbul-lib-instrument/-/istanbul-lib-instrument-5.2.1.tgz",
              "integrity": "sha512-pzqtp31nLv/XFOzXGuvhCb8qhjmTVo5vjVk19XE4CRlSWz0KoeJ3bw9XsA7nOp9YBf4qHjwBxkDzKcME/J29Yg==",
              "dev": true,
              "license": "BSD-3-Clause",
              "dependencies": {
                "@babel/core": "^7.12.3",
                "@babel/parser": "^7.14.7",
                "@istanbuljs/schema": "^0.1.2",
                "istanbul-lib-coverage": "^3.2.0",
                "semver": "^6.3.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/babel-plugin-jest-hoist": {
              "version": "29.6.3",
              "resolved": "https://registry.npmjs.org/babel-plugin-jest-hoist/-/babel-plugin-jest-hoist-29.6.3.tgz",
              "integrity": "sha512-ESAc/RJvGTFEzRwOTT4+lNDk/GNHMkKbNzsvT0qKRfDyyYTskxB5rnU2njIDYVxXCBHHEI1c0YwHob3WaYujOg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/template": "^7.3.3",
                "@babel/types": "^7.3.3",
                "@types/babel__core": "^7.1.14",
                "@types/babel__traverse": "^7.0.6"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/babel-preset-current-node-syntax": {
              "version": "1.1.1",
              "resolved": "https://registry.npmjs.org/babel-preset-current-node-syntax/-/babel-preset-current-node-syntax-1.1.1.tgz",
              "integrity": "sha512-23fWKohMTvS5s0wwJKycOe0dBdCwQ6+iiLaNR9zy8P13mtFRFM9qLLX6HJX5DL2pi/FNDf3fCQHM4FIMoHH/7w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/plugin-syntax-async-generators": "^7.8.4",
                "@babel/plugin-syntax-bigint": "^7.8.3",
                "@babel/plugin-syntax-class-properties": "^7.12.13",
                "@babel/plugin-syntax-class-static-block": "^7.14.5",
                "@babel/plugin-syntax-import-attributes": "^7.24.7",
                "@babel/plugin-syntax-import-meta": "^7.10.4",
                "@babel/plugin-syntax-json-strings": "^7.8.3",
                "@babel/plugin-syntax-logical-assignment-operators": "^7.10.4",
                "@babel/plugin-syntax-nullish-coalescing-operator": "^7.8.3",
                "@babel/plugin-syntax-numeric-separator": "^7.10.4",
                "@babel/plugin-syntax-object-rest-spread": "^7.8.3",
                "@babel/plugin-syntax-optional-catch-binding": "^7.8.3",
                "@babel/plugin-syntax-optional-chaining": "^7.8.3",
                "@babel/plugin-syntax-private-property-in-object": "^7.14.5",
                "@babel/plugin-syntax-top-level-await": "^7.14.5"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0 || ^8.0.0-0"
              }
            },
            "node_modules/babel-preset-jest": {
              "version": "29.6.3",
              "resolved": "https://registry.npmjs.org/babel-preset-jest/-/babel-preset-jest-29.6.3.tgz",
              "integrity": "sha512-0B3bhxR6snWXJZtR/RliHTDPRgn1sNHOR0yVtq/IiQFyuOVjFS+wuio/R4gSNkyYmKmJB4wGZv2NZanmKmTnNA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "babel-plugin-jest-hoist": "^29.6.3",
                "babel-preset-current-node-syntax": "^1.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              },
              "peerDependencies": {
                "@babel/core": "^7.0.0"
              }
            },
            "node_modules/balanced-match": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
              "integrity": "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/base64-arraybuffer": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/base64-arraybuffer/-/base64-arraybuffer-1.0.2.tgz",
              "integrity": "sha512-I3yl4r9QB5ZRY3XuJVEPfc2XhZO6YweFPI+UovAzn+8/hb3oJ6lnysaFcjVpkCPfVWFUDvoZ8kmVDP7WyRtYtQ==",
              "license": "MIT",
              "optional": true,
              "engines": {
                "node": ">= 0.6.0"
              }
            },
            "node_modules/base64-js": {
              "version": "1.5.1",
              "resolved": "https://registry.npmjs.org/base64-js/-/base64-js-1.5.1.tgz",
              "integrity": "sha512-AKpaYlHn8t4SVbOHCy+b5+KKgvR4vrsD8vbvrbiQJps7fKDTkjkDry6ji0rUJjC0kzbNePLwzxq8iypo41qeWA==",
              "funding": [
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/feross"
                },
                {
                  "type": "patreon",
                  "url": "https://www.patreon.com/feross"
                },
                {
                  "type": "consulting",
                  "url": "https://feross.org/support"
                }
              ],
              "license": "MIT"
            },
            "node_modules/bignumber.js": {
              "version": "9.3.1",
              "resolved": "https://registry.npmjs.org/bignumber.js/-/bignumber.js-9.3.1.tgz",
              "integrity": "sha512-Ko0uX15oIUS7wJ3Rb30Fs6SkVbLmPBAKdlm7q9+ak9bbIeFf0MwuBsQV6z7+X768/cHsfg+WlysDWJcmthjsjQ==",
              "license": "MIT",
              "engines": {
                "node": "*"
              }
            },
            "node_modules/binary-extensions": {
              "version": "2.3.0",
              "resolved": "https://registry.npmjs.org/binary-extensions/-/binary-extensions-2.3.0.tgz",
              "integrity": "sha512-Ceh+7ox5qe7LJuLHoY0feh3pHuUDHAcRUeyL2VYghZwfpkNIy/+8Ocg0a3UuSoYzavmylwuLWQOf3hl0jjMMIw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/brace-expansion": {
              "version": "1.1.12",
              "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.12.tgz",
              "integrity": "sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "balanced-match": "^1.0.0",
                "concat-map": "0.0.1"
              }
            },
            "node_modules/braces": {
              "version": "3.0.3",
              "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
              "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "fill-range": "^7.1.1"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/browserslist": {
              "version": "4.25.1",
              "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.25.1.tgz",
              "integrity": "sha512-KGj0KoOMXLpSNkkEI6Z6mShmQy0bc1I+T7K9N81k4WWMrfz+6fQ6es80B/YLAeRoKvjYE1YSHHOW1qe9xIVzHw==",
              "dev": true,
              "funding": [
                {
                  "type": "opencollective",
                  "url": "https://opencollective.com/browserslist"
                },
                {
                  "type": "tidelift",
                  "url": "https://tidelift.com/funding/github/npm/browserslist"
                },
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/ai"
                }
              ],
              "license": "MIT",
              "dependencies": {
                "caniuse-lite": "^1.0.30001726",
                "electron-to-chromium": "^1.5.173",
                "node-releases": "^2.0.19",
                "update-browserslist-db": "^1.1.3"
              },
              "bin": {
                "browserslist": "cli.js"
              },
              "engines": {
                "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
              }
            },
            "node_modules/bser": {
              "version": "2.1.1",
              "resolved": "https://registry.npmjs.org/bser/-/bser-2.1.1.tgz",
              "integrity": "sha512-gQxTNE/GAfIIrmHLUE3oJyp5FO6HRBfhjnw4/wMmA63ZGDJnWBmgY/lyQBpnDUkGmAhbSe39tx2d/iTOAfglwQ==",
              "dev": true,
              "license": "Apache-2.0",
              "dependencies": {
                "node-int64": "^0.4.0"
              }
            },
            "node_modules/btoa": {
              "version": "1.2.1",
              "resolved": "https://registry.npmjs.org/btoa/-/btoa-1.2.1.tgz",
              "integrity": "sha512-SB4/MIGlsiVkMcHmT+pSmIPoNDoHg+7cMzmt3Uxt628MTz2487DKSqK/fuhFBrkuqrYv5UCEnACpF4dTFNKc/g==",
              "license": "(MIT OR Apache-2.0)",
              "bin": {
                "btoa": "bin/btoa.js"
              },
              "engines": {
                "node": ">= 0.4.0"
              }
            },
            "node_modules/buffer-equal-constant-time": {
              "version": "1.0.1",
              "resolved": "https://registry.npmjs.org/buffer-equal-constant-time/-/buffer-equal-constant-time-1.0.1.tgz",
              "integrity": "sha512-zRpUiDwd/xk6ADqPMATG8vc9VPrkck7T07OIx0gnjmJAnHnTVXNQG3vfvWNuiZIkwu9KrKdA1iJKfsfTVxE6NA==",
              "license": "BSD-3-Clause"
            },
            "node_modules/buffer-from": {
              "version": "1.1.2",
              "resolved": "https://registry.npmjs.org/buffer-from/-/buffer-from-1.1.2.tgz",
              "integrity": "sha512-E+XQCRwSbaaiChtv6k6Dwgc+bx+Bs6vuKJHHl5kox/BaKbhiXzqQOwK4cO22yElGp2OCmjwVhT3HmxgyPGnJfQ==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/busboy": {
              "version": "1.6.0",
              "resolved": "https://registry.npmjs.org/busboy/-/busboy-1.6.0.tgz",
              "integrity": "sha512-8SFQbg/0hQ9xy3UNTB0YEnsNBbWfhf7RtnzpL7TkBiTBRfrQ9Fxcnz7VJsleJpyp6rVLvXiuORqjlHi5q+PYuA==",
              "dependencies": {
                "streamsearch": "^1.1.0"
              },
              "engines": {
                "node": ">=10.16.0"
              }
            },
            "node_modules/call-bind": {
              "version": "1.0.8",
              "resolved": "https://registry.npmjs.org/call-bind/-/call-bind-1.0.8.tgz",
              "integrity": "sha512-oKlSFMcMwpUg2ednkhQ454wfWiU/ul3CkJe/PEHcTKuiX6RpbehUiFMXu13HalGZxfUwCQzZG747YXBn1im9ww==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bind-apply-helpers": "^1.0.0",
                "es-define-property": "^1.0.0",
                "get-intrinsic": "^1.2.4",
                "set-function-length": "^1.2.2"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/call-bind-apply-helpers": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/call-bind-apply-helpers/-/call-bind-apply-helpers-1.0.2.tgz",
              "integrity": "sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==",
              "license": "MIT",
              "dependencies": {
                "es-errors": "^1.3.0",
                "function-bind": "^1.1.2"
              },
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/call-bound": {
              "version": "1.0.4",
              "resolved": "https://registry.npmjs.org/call-bound/-/call-bound-1.0.4.tgz",
              "integrity": "sha512-+ys997U96po4Kx/ABpBCqhA9EuxJaQWDQg7295H4hBphv3IZg0boBKuwYpt4YXp6MZ5AmZQnU/tyMTlRpaSejg==",
              "license": "MIT",
              "dependencies": {
                "call-bind-apply-helpers": "^1.0.2",
                "get-intrinsic": "^1.3.0"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/callsites": {
              "version": "3.1.0",
              "resolved": "https://registry.npmjs.org/callsites/-/callsites-3.1.0.tgz",
              "integrity": "sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/camelcase": {
              "version": "5.3.1",
              "resolved": "https://registry.npmjs.org/camelcase/-/camelcase-5.3.1.tgz",
              "integrity": "sha512-L28STB170nwWS63UjtlEOE3dldQApaJXZkOI1uMFfzf3rRuPegHaHesyee+YxQ+W6SvRDQV6UrdOdRiR153wJg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/camelcase-css": {
              "version": "2.0.1",
              "resolved": "https://registry.npmjs.org/camelcase-css/-/camelcase-css-2.0.1.tgz",
              "integrity": "sha512-QOSvevhslijgYwRx6Rv7zKdMF8lbRmx+uQGx2+vDc+KI/eBnsy9kit5aj23AgGu3pa4t9AgwbnXWqS+iOY+2aA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 6"
              }
            },
            "node_modules/caniuse-lite": {
              "version": "1.0.30001727",
              "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001727.tgz",
              "integrity": "sha512-pB68nIHmbN6L/4C6MH1DokyR3bYqFwjaSs/sWDHGj4CTcFtQUQMuJftVwWkXq7mNWOybD3KhUv3oWHoGxgP14Q==",
              "funding": [
                {
                  "type": "opencollective",
                  "url": "https://opencollective.com/browserslist"
                },
                {
                  "type": "tidelift",
                  "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
                },
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/ai"
                }
              ],
              "license": "CC-BY-4.0"
            },
            "node_modules/canvg": {
              "version": "3.0.11",
              "resolved": "https://registry.npmjs.org/canvg/-/canvg-3.0.11.tgz",
              "integrity": "sha512-5ON+q7jCTgMp9cjpu4Jo6XbvfYwSB2Ow3kzHKfIyJfaCAOHLbdKPQqGKgfED/R5B+3TFFfe8pegYA+b423SRyA==",
              "license": "MIT",
              "optional": true,
              "dependencies": {
                "@babel/runtime": "^7.12.5",
                "@types/raf": "^3.4.0",
                "core-js": "^3.8.3",
                "raf": "^3.4.1",
                "regenerator-runtime": "^0.13.7",
                "rgbcolor": "^1.0.1",
                "stackblur-canvas": "^2.0.0",
                "svg-pathdata": "^6.0.3"
              },
              "engines": {
                "node": ">=10.0.0"
              }
            },
            "node_modules/cfb": {
              "version": "1.2.2",
              "resolved": "https://registry.npmjs.org/cfb/-/cfb-1.2.2.tgz",
              "integrity": "sha512-KfdUZsSOw19/ObEWasvBP/Ac4reZvAGauZhs6S/gqNhXhI7cKwvlH7ulj+dOEYnca4bm4SGo8C1bTAQvnTjgQA==",
              "license": "Apache-2.0",
              "dependencies": {
                "adler-32": "~1.3.0",
                "crc-32": "~1.2.0"
              },
              "engines": {
                "node": ">=0.8"
              }
            },
            "node_modules/chalk": {
              "version": "4.1.2",
              "resolved": "https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz",
              "integrity": "sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "ansi-styles": "^4.1.0",
                "supports-color": "^7.1.0"
              },
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/chalk?sponsor=1"
              }
            },
            "node_modules/char-regex": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/char-regex/-/char-regex-1.0.2.tgz",
              "integrity": "sha512-kWWXztvZ5SBQV+eRgKFeh8q5sLuZY2+8WUIzlxWVTg+oGwY14qylx1KbKzHd8P6ZYkAg0xyIDU9JMHhyJMZ1jw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              }
            },
            "node_modules/chart.js": {
              "version": "4.5.0",
              "resolved": "https://registry.npmjs.org/chart.js/-/chart.js-4.5.0.tgz",
              "integrity": "sha512-aYeC/jDgSEx8SHWZvANYMioYMZ2KX02W6f6uVfyteuCGcadDLcYVHdfdygsTQkQ4TKn5lghoojAsPj5pu0SnvQ==",
              "license": "MIT",
              "dependencies": {
                "@kurkle/color": "^0.3.0"
              },
              "engines": {
                "pnpm": ">=8"
              }
            },
            "node_modules/chokidar": {
              "version": "3.6.0",
              "resolved": "https://registry.npmjs.org/chokidar/-/chokidar-3.6.0.tgz",
              "integrity": "sha512-7VT13fmjotKpGipCW9JEQAusEPE+Ei8nl6/g4FBAmIm0GOOLMua9NDDo/DWp0ZAxCr3cPq5ZpBqmPAQgDda2Pw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "anymatch": "~3.1.2",
                "braces": "~3.0.2",
                "glob-parent": "~5.1.2",
                "is-binary-path": "~2.1.0",
                "is-glob": "~4.0.1",
                "normalize-path": "~3.0.0",
                "readdirp": "~3.6.0"
              },
              "engines": {
                "node": ">= 8.10.0"
              },
              "funding": {
                "url": "https://paulmillr.com/funding/"
              },
              "optionalDependencies": {
                "fsevents": "~2.3.2"
              }
            },
            "node_modules/chokidar/node_modules/glob-parent": {
              "version": "5.1.2",
              "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
              "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "is-glob": "^4.0.1"
              },
              "engines": {
                "node": ">= 6"
              }
            },
            "node_modules/ci-info": {
              "version": "3.9.0",
              "resolved": "https://registry.npmjs.org/ci-info/-/ci-info-3.9.0.tgz",
              "integrity": "sha512-NIxF55hv4nSqQswkAeiOi1r83xy8JldOFDTWiug55KBu9Jnblncd2U6ViHmYgHf01TPZS77NJBhBMKdWj9HQMQ==",
              "dev": true,
              "funding": [
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/sibiraj-s"
                }
              ],
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/cjs-module-lexer": {
              "version": "1.4.3",
              "resolved": "https://registry.npmjs.org/cjs-module-lexer/-/cjs-module-lexer-1.4.3.tgz",
              "integrity": "sha512-9z8TZaGM1pfswYeXrUpzPrkx8UnWYdhJclsiYMm6x/w5+nN+8Tf/LnAgfLGQCm59qAOxU8WwHEq2vNwF6i4j+Q==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/client-only": {
              "version": "0.0.1",
              "resolved": "https://registry.npmjs.org/client-only/-/client-only-0.0.1.tgz",
              "integrity": "sha512-IV3Ou0jSMzZrd3pZ48nLkT9DA7Ag1pnPzaiQhpW7c3RbcqqzvzzVu+L8gfqMp/8IM2MQtSiqaCxrrcfu8I8rMA==",
              "license": "MIT"
            },
            "node_modules/clipboardy": {
              "version": "4.0.0",
              "resolved": "https://registry.npmjs.org/clipboardy/-/clipboardy-4.0.0.tgz",
              "integrity": "sha512-5mOlNS0mhX0707P2I0aZ2V/cmHUEO/fL7VFLqszkhUsxt7RwnmrInf/eEQKlf5GzvYeHIjT+Ov1HRfNmymlG0w==",
              "license": "MIT",
              "dependencies": {
                "execa": "^8.0.1",
                "is-wsl": "^3.1.0",
                "is64bit": "^2.0.0"
              },
              "engines": {
                "node": ">=18"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/clipboardy/node_modules/execa": {
              "version": "8.0.1",
              "resolved": "https://registry.npmjs.org/execa/-/execa-8.0.1.tgz",
              "integrity": "sha512-VyhnebXciFV2DESc+p6B+y0LjSm0krU4OgJN44qFAhBY0TJ+1V61tYD2+wHusZ6F9n5K+vl8k0sTy7PEfV4qpg==",
              "license": "MIT",
              "dependencies": {
                "cross-spawn": "^7.0.3",
                "get-stream": "^8.0.1",
                "human-signals": "^5.0.0",
                "is-stream": "^3.0.0",
                "merge-stream": "^2.0.0",
                "npm-run-path": "^5.1.0",
                "onetime": "^6.0.0",
                "signal-exit": "^4.1.0",
                "strip-final-newline": "^3.0.0"
              },
              "engines": {
                "node": ">=16.17"
              },
              "funding": {
                "url": "https://github.com/sindresorhus/execa?sponsor=1"
              }
            },
            "node_modules/clipboardy/node_modules/get-stream": {
              "version": "8.0.1",
              "resolved": "https://registry.npmjs.org/get-stream/-/get-stream-8.0.1.tgz",
              "integrity": "sha512-VaUJspBffn/LMCJVoMvSAdmscJyS1auj5Zulnn5UoYcY531UWmdwhRWkcGKnGU93m5HSXP9LP2usOryrBtQowA==",
              "license": "MIT",
              "engines": {
                "node": ">=16"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/clipboardy/node_modules/human-signals": {
              "version": "5.0.0",
              "resolved": "https://registry.npmjs.org/human-signals/-/human-signals-5.0.0.tgz",
              "integrity": "sha512-AXcZb6vzzrFAUE61HnN4mpLqd/cSIwNQjtNWR0euPm6y0iqx3G4gOXaIDdtdDwZmhwe82LA6+zinmW4UBWVePQ==",
              "license": "Apache-2.0",
              "engines": {
                "node": ">=16.17.0"
              }
            },
            "node_modules/clipboardy/node_modules/is-stream": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/is-stream/-/is-stream-3.0.0.tgz",
              "integrity": "sha512-LnQR4bZ9IADDRSkvpqMGvt/tEJWclzklNgSw48V5EAaAeDd6qGvN8ei6k5p0tvxSR171VmGyHuTiAOfxAbr8kA==",
              "license": "MIT",
              "engines": {
                "node": "^12.20.0 || ^14.13.1 || >=16.0.0"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/clipboardy/node_modules/mimic-fn": {
              "version": "4.0.0",
              "resolved": "https://registry.npmjs.org/mimic-fn/-/mimic-fn-4.0.0.tgz",
              "integrity": "sha512-vqiC06CuhBTUdZH+RYl8sFrL096vA45Ok5ISO6sE/Mr1jRbGH4Csnhi8f3wKVl7x8mO4Au7Ir9D3Oyv1VYMFJw==",
              "license": "MIT",
              "engines": {
                "node": ">=12"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/clipboardy/node_modules/npm-run-path": {
              "version": "5.3.0",
              "resolved": "https://registry.npmjs.org/npm-run-path/-/npm-run-path-5.3.0.tgz",
              "integrity": "sha512-ppwTtiJZq0O/ai0z7yfudtBpWIoxM8yE6nHi1X47eFR2EWORqfbu6CnPlNsjeN683eT0qG6H/Pyf9fCcvjnnnQ==",
              "license": "MIT",
              "dependencies": {
                "path-key": "^4.0.0"
              },
              "engines": {
                "node": "^12.20.0 || ^14.13.1 || >=16.0.0"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/clipboardy/node_modules/onetime": {
              "version": "6.0.0",
              "resolved": "https://registry.npmjs.org/onetime/-/onetime-6.0.0.tgz",
              "integrity": "sha512-1FlR+gjXK7X+AsAHso35MnyN5KqGwJRi/31ft6x0M194ht7S+rWAvd7PHss9xSKMzE0asv1pyIHaJYq+BbacAQ==",
              "license": "MIT",
              "dependencies": {
                "mimic-fn": "^4.0.0"
              },
              "engines": {
                "node": ">=12"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/clipboardy/node_modules/path-key": {
              "version": "4.0.0",
              "resolved": "https://registry.npmjs.org/path-key/-/path-key-4.0.0.tgz",
              "integrity": "sha512-haREypq7xkM7ErfgIyA0z+Bj4AGKlMSdlQE2jvJo6huWD1EdkKYV+G/T4nq0YEF2vgTT8kqMFKo1uHn950r4SQ==",
              "license": "MIT",
              "engines": {
                "node": ">=12"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/clipboardy/node_modules/signal-exit": {
              "version": "4.1.0",
              "resolved": "https://registry.npmjs.org/signal-exit/-/signal-exit-4.1.0.tgz",
              "integrity": "sha512-bzyZ1e88w9O1iNJbKnOlvYTrWPDl46O1bG0D3XInv+9tkPrxrN8jUUTiFlDkkmKWgn1M6CfIA13SuGqOa9Korw==",
              "license": "ISC",
              "engines": {
                "node": ">=14"
              },
              "funding": {
                "url": "https://github.com/sponsors/isaacs"
              }
            },
            "node_modules/clipboardy/node_modules/strip-final-newline": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/strip-final-newline/-/strip-final-newline-3.0.0.tgz",
              "integrity": "sha512-dOESqjYr96iWYylGObzd39EuNTa5VJxyvVAEm5Jnh7KGo75V43Hk1odPQkNDyXNmUR6k+gEiDVXnjB8HJ3crXw==",
              "license": "MIT",
              "engines": {
                "node": ">=12"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/cliui": {
              "version": "8.0.1",
              "resolved": "https://registry.npmjs.org/cliui/-/cliui-8.0.1.tgz",
              "integrity": "sha512-BSeNnyus75C4//NQ9gQt1/csTXyo/8Sb+afLAkzAptFuMsod9HFokGNudZpi/oQV73hnVK+sR+5PVRMd+Dr7YQ==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "string-width": "^4.2.0",
                "strip-ansi": "^6.0.1",
                "wrap-ansi": "^7.0.0"
              },
              "engines": {
                "node": ">=12"
              }
            },
            "node_modules/clsx": {
              "version": "2.1.1",
              "resolved": "https://registry.npmjs.org/clsx/-/clsx-2.1.1.tgz",
              "integrity": "sha512-eYm0QWBtUrBWZWG0d386OGAw16Z995PiOVo2B7bjWSbHedGl5e0ZWaq65kOGgUSNesEIDkB9ISbTg/JK9dhCZA==",
              "license": "MIT",
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/co": {
              "version": "4.6.0",
              "resolved": "https://registry.npmjs.org/co/-/co-4.6.0.tgz",
              "integrity": "sha512-QVb0dM5HvG+uaxitm8wONl7jltx8dqhfU33DcqtOZcLSVIKSDDLDi7+0LbAKiyI8hD9u42m2YxXSkMGWThaecQ==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "iojs": ">= 1.0.0",
                "node": ">= 0.12.0"
              }
            },
            "node_modules/codepage": {
              "version": "1.15.0",
              "resolved": "https://registry.npmjs.org/codepage/-/codepage-1.15.0.tgz",
              "integrity": "sha512-3g6NUTPd/YtuuGrhMnOMRjFc+LJw/bnMp3+0r/Wcz3IXUuCosKRJvMphm5+Q+bvTVGcJJuRvVLuYba+WojaFaA==",
              "license": "Apache-2.0",
              "engines": {
                "node": ">=0.8"
              }
            },
            "node_modules/collect-v8-coverage": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/collect-v8-coverage/-/collect-v8-coverage-1.0.2.tgz",
              "integrity": "sha512-lHl4d5/ONEbLlJvaJNtsF/Lz+WvB07u2ycqTYbdrq7UypDXailES4valYb2eWiJFxZlVmpGekfqoxQhzyFdT4Q==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/color-convert": {
              "version": "2.0.1",
              "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
              "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "color-name": "~1.1.4"
              },
              "engines": {
                "node": ">=7.0.0"
              }
            },
            "node_modules/color-name": {
              "version": "1.1.4",
              "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
              "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/combined-stream": {
              "version": "1.0.8",
              "resolved": "https://registry.npmjs.org/combined-stream/-/combined-stream-1.0.8.tgz",
              "integrity": "sha512-FQN4MRfuJeHf7cBbBMJFXhKSDq+2kAArBlmRBvcvFE5BB1HZKXtSFASDhdlz9zOYwxh8lDdnvmMOe/+5cdoEdg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "delayed-stream": "~1.0.0"
              },
              "engines": {
                "node": ">= 0.8"
              }
            },
            "node_modules/commander": {
              "version": "4.1.1",
              "resolved": "https://registry.npmjs.org/commander/-/commander-4.1.1.tgz",
              "integrity": "sha512-NOKm8xhkzAjzFx8B2v5OAHT+u5pRQc2UCa2Vq9jYL/31o2wi9mxBA7LIFs3sV5VSC49z6pEhfbMULvShKj26WA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 6"
              }
            },
            "node_modules/concat-map": {
              "version": "0.0.1",
              "resolved": "https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz",
              "integrity": "sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/convert-source-map": {
              "version": "2.0.0",
              "resolved": "https://registry.npmjs.org/convert-source-map/-/convert-source-map-2.0.0.tgz",
              "integrity": "sha512-Kvp459HrV2FEJ1CAsi1Ku+MY3kasH19TFykTz2xWmMeq6bk2NU3XXvfJ+Q61m0xktWwt+1HSYf3JZsTms3aRJg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/core-js": {
              "version": "3.44.0",
              "resolved": "https://registry.npmjs.org/core-js/-/core-js-3.44.0.tgz",
              "integrity": "sha512-aFCtd4l6GvAXwVEh3XbbVqJGHDJt0OZRa+5ePGx3LLwi12WfexqQxcsohb2wgsa/92xtl19Hd66G/L+TaAxDMw==",
              "hasInstallScript": true,
              "license": "MIT",
              "optional": true,
              "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/core-js"
              }
            },
            "node_modules/crc-32": {
              "version": "1.2.2",
              "resolved": "https://registry.npmjs.org/crc-32/-/crc-32-1.2.2.tgz",
              "integrity": "sha512-ROmzCKrTnOwybPcJApAA6WBWij23HVfGVNKqqrZpuyZOHqK2CwHSvpGuyt/UNNvaIjEd8X5IFGp4Mh+Ie1IHJQ==",
              "license": "Apache-2.0",
              "bin": {
                "crc32": "bin/crc32.njs"
              },
              "engines": {
                "node": ">=0.8"
              }
            },
            "node_modules/create-jest": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/create-jest/-/create-jest-29.7.0.tgz",
              "integrity": "sha512-Adz2bdH0Vq3F53KEMJOoftQFutWCukm6J24wbPWRO4k1kMY7gS7ds/uoJkNuV8wDCtWWnuwGcJwpWcih+zEW1Q==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/types": "^29.6.3",
                "chalk": "^4.0.0",
                "exit": "^0.1.2",
                "graceful-fs": "^4.2.9",
                "jest-config": "^29.7.0",
                "jest-util": "^29.7.0",
                "prompts": "^2.0.1"
              },
              "bin": {
                "create-jest": "bin/create-jest.js"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/cross-spawn": {
              "version": "7.0.6",
              "resolved": "https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz",
              "integrity": "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==",
              "license": "MIT",
              "dependencies": {
                "path-key": "^3.1.0",
                "shebang-command": "^2.0.0",
                "which": "^2.0.1"
              },
              "engines": {
                "node": ">= 8"
              }
            },
            "node_modules/css-box-model": {
              "version": "1.2.1",
              "resolved": "https://registry.npmjs.org/css-box-model/-/css-box-model-1.2.1.tgz",
              "integrity": "sha512-a7Vr4Q/kd/aw96bnJG332W9V9LkJO69JRcaCYDUqjp6/z0w6VcZjgAcTbgFxEPfBgdnAwlh3iwu+hLopa+flJw==",
              "license": "MIT",
              "dependencies": {
                "tiny-invariant": "^1.0.6"
              }
            },
            "node_modules/css-line-break": {
              "version": "2.1.0",
              "resolved": "https://registry.npmjs.org/css-line-break/-/css-line-break-2.1.0.tgz",
              "integrity": "sha512-FHcKFCZcAha3LwfVBhCQbW2nCNbkZXn7KVUJcsT5/P8YmfsVja0FMPJr0B903j/E69HUphKiV9iQArX8SDYA4w==",
              "license": "MIT",
              "optional": true,
              "dependencies": {
                "utrie": "^1.0.2"
              }
            },
            "node_modules/css.escape": {
              "version": "1.5.1",
              "resolved": "https://registry.npmjs.org/css.escape/-/css.escape-1.5.1.tgz",
              "integrity": "sha512-YUifsXXuknHlUsmlgyY0PKzgPOr7/FjCePfHNt0jxm83wHZi44VDMQ7/fGNkjY3/jV1MC+1CmZbaHzugyeRtpg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/cssesc": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/cssesc/-/cssesc-3.0.0.tgz",
              "integrity": "sha512-/Tb/JcjK111nNScGob5MNtsntNM1aCNUDipB/TkwZFhyDrrE47SOx/18wF2bbjgc3ZzCSKW1T5nt5EbFoAz/Vg==",
              "dev": true,
              "license": "MIT",
              "bin": {
                "cssesc": "bin/cssesc"
              },
              "engines": {
                "node": ">=4"
              }
            },
            "node_modules/cssom": {
              "version": "0.5.0",
              "resolved": "https://registry.npmjs.org/cssom/-/cssom-0.5.0.tgz",
              "integrity": "sha512-iKuQcq+NdHqlAcwUY0o/HL69XQrUaQdMjmStJ8JFmUaiiQErlhrmuigkg/CU4E2J0IyUKUrMAgl36TvN67MqTw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/cssstyle": {
              "version": "2.3.0",
              "resolved": "https://registry.npmjs.org/cssstyle/-/cssstyle-2.3.0.tgz",
              "integrity": "sha512-AZL67abkUzIuvcHqk7c09cezpGNcxUxU4Ioi/05xHk4DQeTkWmGYftIE6ctU6AEt+Gn4n1lDStOtj7FKycP71A==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "cssom": "~0.3.6"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/cssstyle/node_modules/cssom": {
              "version": "0.3.8",
              "resolved": "https://registry.npmjs.org/cssom/-/cssom-0.3.8.tgz",
              "integrity": "sha512-b0tGHbfegbhPJpxpiBPU2sCkigAqtM9O121le6bbOlgyV+NyGyCmVfJ6QW9eRjz8CpNfWEOYBIMIGRYkLwsIYg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/csstype": {
              "version": "3.1.3",
              "resolved": "https://registry.npmjs.org/csstype/-/csstype-3.1.3.tgz",
              "integrity": "sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==",
              "license": "MIT",
              "peer": true
            },
            "node_modules/data-uri-to-buffer": {
              "version": "4.0.1",
              "resolved": "https://registry.npmjs.org/data-uri-to-buffer/-/data-uri-to-buffer-4.0.1.tgz",
              "integrity": "sha512-0R9ikRb668HB7QDxT1vkpuUBtqc53YyAwMwGeUFKRojY/NWKvdZ+9UYtRfGmhqNbRkTSVpMbmyhXipFFv2cb/A==",
              "license": "MIT",
              "engines": {
                "node": ">= 12"
              }
            },
            "node_modules/data-urls": {
              "version": "3.0.2",
              "resolved": "https://registry.npmjs.org/data-urls/-/data-urls-3.0.2.tgz",
              "integrity": "sha512-Jy/tj3ldjZJo63sVAvg6LHt2mHvl4V6AgRAmNDtLdm7faqtsx+aJG42rsyCo9JCoRVKwPFzKlIPx3DIibwSIaQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "abab": "^2.0.6",
                "whatwg-mimetype": "^3.0.0",
                "whatwg-url": "^11.0.0"
              },
              "engines": {
                "node": ">=12"
              }
            },
            "node_modules/debug": {
              "version": "4.4.1",
              "resolved": "https://registry.npmjs.org/debug/-/debug-4.4.1.tgz",
              "integrity": "sha512-KcKCqiftBJcZr++7ykoDIEwSa3XWowTfNPo92BYxjXiyYEVrUQh2aLyhxBCwww+heortUFxEJYcRzosstTEBYQ==",
              "license": "MIT",
              "dependencies": {
                "ms": "^2.1.3"
              },
              "engines": {
                "node": ">=6.0"
              },
              "peerDependenciesMeta": {
                "supports-color": {
                  "optional": true
                }
              }
            },
            "node_modules/decimal.js": {
              "version": "10.6.0",
              "resolved": "https://registry.npmjs.org/decimal.js/-/decimal.js-10.6.0.tgz",
              "integrity": "sha512-YpgQiITW3JXGntzdUmyUR1V812Hn8T1YVXhCu+wO3OpS4eU9l4YdD3qjyiKdV6mvV29zapkMeD390UVEf2lkUg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/dedent": {
              "version": "1.6.0",
              "resolved": "https://registry.npmjs.org/dedent/-/dedent-1.6.0.tgz",
              "integrity": "sha512-F1Z+5UCFpmQUzJa11agbyPVMbpgT/qA3/SKyJ1jyBgm7dUcUEa8v9JwDkerSQXfakBwFljIxhOJqGkjUwZ9FSA==",
              "dev": true,
              "license": "MIT",
              "peerDependencies": {
                "babel-plugin-macros": "^3.1.0"
              },
              "peerDependenciesMeta": {
                "babel-plugin-macros": {
                  "optional": true
                }
              }
            },
            "node_modules/deep-equal": {
              "version": "2.2.3",
              "resolved": "https://registry.npmjs.org/deep-equal/-/deep-equal-2.2.3.tgz",
              "integrity": "sha512-ZIwpnevOurS8bpT4192sqAowWM76JDKSHYzMLty3BZGSswgq6pBaH3DhCSW5xVAZICZyKdOBPjwww5wfgT/6PA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "array-buffer-byte-length": "^1.0.0",
                "call-bind": "^1.0.5",
                "es-get-iterator": "^1.1.3",
                "get-intrinsic": "^1.2.2",
                "is-arguments": "^1.1.1",
                "is-array-buffer": "^3.0.2",
                "is-date-object": "^1.0.5",
                "is-regex": "^1.1.4",
                "is-shared-array-buffer": "^1.0.2",
                "isarray": "^2.0.5",
                "object-is": "^1.1.5",
                "object-keys": "^1.1.1",
                "object.assign": "^4.1.4",
                "regexp.prototype.flags": "^1.5.1",
                "side-channel": "^1.0.4",
                "which-boxed-primitive": "^1.0.2",
                "which-collection": "^1.0.1",
                "which-typed-array": "^1.1.13"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/deepmerge": {
              "version": "4.3.1",
              "resolved": "https://registry.npmjs.org/deepmerge/-/deepmerge-4.3.1.tgz",
              "integrity": "sha512-3sUqbMEc77XqpdNO7FRyRog+eW3ph+GYCbj+rK+uYyRMuwsVy0rMiVtPn+QJlKFvWP/1PYpapqYn0Me2knFn+A==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/define-data-property": {
              "version": "1.1.4",
              "resolved": "https://registry.npmjs.org/define-data-property/-/define-data-property-1.1.4.tgz",
              "integrity": "sha512-rBMvIzlpA8v6E+SJZoo++HAYqsLrkg7MSfIinMPFhmkorw7X+dOXVJQs+QT69zGkzMyfDnIMN2Wid1+NbL3T+A==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "es-define-property": "^1.0.0",
                "es-errors": "^1.3.0",
                "gopd": "^1.0.1"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/define-properties": {
              "version": "1.2.1",
              "resolved": "https://registry.npmjs.org/define-properties/-/define-properties-1.2.1.tgz",
              "integrity": "sha512-8QmQKqEASLd5nx0U1B1okLElbUuuttJ/AnYmRXbbbGDWh6uS208EjD4Xqq/I9wK7u0v6O08XhTWnt5XtEbR6Dg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "define-data-property": "^1.0.1",
                "has-property-descriptors": "^1.0.0",
                "object-keys": "^1.1.1"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/delayed-stream": {
              "version": "1.0.0",
              "resolved": "https://registry.npmjs.org/delayed-stream/-/delayed-stream-1.0.0.tgz",
              "integrity": "sha512-ZySD7Nf91aLB0RxL4KGrKHBXl7Eds1DAmEdcoVawXnLD7SDhpNgtuII2aAkg7a7QS41jxPSZ17p4VdGnMHk3MQ==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=0.4.0"
              }
            },
            "node_modules/dequal": {
              "version": "2.0.3",
              "resolved": "https://registry.npmjs.org/dequal/-/dequal-2.0.3.tgz",
              "integrity": "sha512-0je+qPKHEMohvfRTCEo3CrPG6cAzAYgmzKyxRiYSSDkS6eGJdyVJm7WaYA5ECaAD9wLB2T4EEeymA5aFVcYXCA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/detect-newline": {
              "version": "3.1.0",
              "resolved": "https://registry.npmjs.org/detect-newline/-/detect-newline-3.1.0.tgz",
              "integrity": "sha512-TLz+x/vEXm/Y7P7wn1EJFNLxYpUD4TgMosxY6fAVJUnJMbupHBOncxyWUG9OpTaH9EBD7uFI5LfEgmMOc54DsA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/didyoumean": {
              "version": "1.2.2",
              "resolved": "https://registry.npmjs.org/didyoumean/-/didyoumean-1.2.2.tgz",
              "integrity": "sha512-gxtyfqMg7GKyhQmb056K7M3xszy/myH8w+B4RT+QXBQsvAOdc3XymqDDPHx1BgPgsdAA5SIifona89YtRATDzw==",
              "dev": true,
              "license": "Apache-2.0"
            },
            "node_modules/diff-sequences": {
              "version": "29.6.3",
              "resolved": "https://registry.npmjs.org/diff-sequences/-/diff-sequences-29.6.3.tgz",
              "integrity": "sha512-EjePK1srD3P08o2j4f0ExnylqRs5B9tJjcp9t1krH2qRi8CCdsYfwe9JgSLurFBWwq4uOlipzfk5fHNvwFKr8Q==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/dlv": {
              "version": "1.1.3",
              "resolved": "https://registry.npmjs.org/dlv/-/dlv-1.1.3.tgz",
              "integrity": "sha512-+HlytyjlPKnIG8XuRG8WvmBP8xs8P71y+SKKS6ZXWoEgLuePxtDoUEiH7WkdePWrQ5JBpE6aoVqfZfJUQkjXwA==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/dom-accessibility-api": {
              "version": "0.5.16",
              "resolved": "https://registry.npmjs.org/dom-accessibility-api/-/dom-accessibility-api-0.5.16.tgz",
              "integrity": "sha512-X7BJ2yElsnOJ30pZF4uIIDfBEVgF4XEBxL9Bxhy6dnrm5hkzqmsWHGTiHqRiITNhMyFLyAiWndIJP7Z1NTteDg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/domexception": {
              "version": "4.0.0",
              "resolved": "https://registry.npmjs.org/domexception/-/domexception-4.0.0.tgz",
              "integrity": "sha512-A2is4PLG+eeSfoTMA95/s4pvAoSo2mKtiM5jlHkAVewmiO8ISFTFKZjH7UAM1Atli/OT/7JHOrJRJiMKUZKYBw==",
              "deprecated": "Use your platform's native DOMException instead",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "webidl-conversions": "^7.0.0"
              },
              "engines": {
                "node": ">=12"
              }
            },
            "node_modules/dompurify": {
              "version": "2.5.8",
              "resolved": "https://registry.npmjs.org/dompurify/-/dompurify-2.5.8.tgz",
              "integrity": "sha512-o1vSNgrmYMQObbSSvF/1brBYEQPHhV1+gsmrusO7/GXtp1T9rCS8cXFqVxK/9crT1jA6Ccv+5MTSjBNqr7Sovw==",
              "license": "(MPL-2.0 OR Apache-2.0)",
              "optional": true
            },
            "node_modules/dunder-proto": {
              "version": "1.0.1",
              "resolved": "https://registry.npmjs.org/dunder-proto/-/dunder-proto-1.0.1.tgz",
              "integrity": "sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==",
              "license": "MIT",
              "dependencies": {
                "call-bind-apply-helpers": "^1.0.1",
                "es-errors": "^1.3.0",
                "gopd": "^1.2.0"
              },
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/eastasianwidth": {
              "version": "0.2.0",
              "resolved": "https://registry.npmjs.org/eastasianwidth/-/eastasianwidth-0.2.0.tgz",
              "integrity": "sha512-I88TYZWc9XiYHRQ4/3c5rjjfgkjhLyW2luGIheGERbNQ6OY7yTybanSpDXZa8y7VUP9YmDcYa+eyq4ca7iLqWA==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/ecdsa-sig-formatter": {
              "version": "1.0.11",
              "resolved": "https://registry.npmjs.org/ecdsa-sig-formatter/-/ecdsa-sig-formatter-1.0.11.tgz",
              "integrity": "sha512-nagl3RYrbNv6kQkeJIpt6NJZy8twLB/2vtz6yN9Z4vRKHN4/QZJIEbqohALSgwKdnksuY3k5Addp5lg8sVoVcQ==",
              "license": "Apache-2.0",
              "dependencies": {
                "safe-buffer": "^5.0.1"
              }
            },
            "node_modules/electron-to-chromium": {
              "version": "1.5.192",
              "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.192.tgz",
              "integrity": "sha512-rP8Ez0w7UNw/9j5eSXCe10o1g/8B1P5SM90PCCMVkIRQn2R0LEHWz4Eh9RnxkniuDe1W0cTSOB3MLlkTGDcuCg==",
              "dev": true,
              "license": "ISC"
            },
            "node_modules/emittery": {
              "version": "0.13.1",
              "resolved": "https://registry.npmjs.org/emittery/-/emittery-0.13.1.tgz",
              "integrity": "sha512-DeWwawk6r5yR9jFgnDKYt4sLS0LmHJJi3ZOnb5/JdbYwj3nW+FxQnHIjhBKz8YLC7oRNPVM9NQ47I3CVx34eqQ==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=12"
              },
              "funding": {
                "url": "https://github.com/sindresorhus/emittery?sponsor=1"
              }
            },
            "node_modules/emoji-regex": {
              "version": "8.0.0",
              "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
              "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/entities": {
              "version": "6.0.1",
              "resolved": "https://registry.npmjs.org/entities/-/entities-6.0.1.tgz",
              "integrity": "sha512-aN97NXWF6AWBTahfVOIrB/NShkzi5H7F9r1s9mD3cDj4Ko5f2qhhVoYMibXF7GlLveb/D2ioWay8lxI97Ven3g==",
              "dev": true,
              "license": "BSD-2-Clause",
              "engines": {
                "node": ">=0.12"
              },
              "funding": {
                "url": "https://github.com/fb55/entities?sponsor=1"
              }
            },
            "node_modules/error-ex": {
              "version": "1.3.2",
              "resolved": "https://registry.npmjs.org/error-ex/-/error-ex-1.3.2.tgz",
              "integrity": "sha512-7dFHNmqeFSEt2ZBsCriorKnn3Z2pj+fd9kmI6QoWw4//DL+icEBfc0U7qJCisqrTsKTjw4fNFy2pW9OqStD84g==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "is-arrayish": "^0.2.1"
              }
            },
            "node_modules/es-define-property": {
              "version": "1.0.1",
              "resolved": "https://registry.npmjs.org/es-define-property/-/es-define-property-1.0.1.tgz",
              "integrity": "sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==",
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/es-errors": {
              "version": "1.3.0",
              "resolved": "https://registry.npmjs.org/es-errors/-/es-errors-1.3.0.tgz",
              "integrity": "sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==",
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/es-get-iterator": {
              "version": "1.1.3",
              "resolved": "https://registry.npmjs.org/es-get-iterator/-/es-get-iterator-1.1.3.tgz",
              "integrity": "sha512-sPZmqHBe6JIiTfN5q2pEi//TwxmAFHwj/XEuYjTuse78i8KxaqMTTzxPoFKuzRpDpTJ+0NAbpfenkmH2rePtuw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bind": "^1.0.2",
                "get-intrinsic": "^1.1.3",
                "has-symbols": "^1.0.3",
                "is-arguments": "^1.1.1",
                "is-map": "^2.0.2",
                "is-set": "^2.0.2",
                "is-string": "^1.0.7",
                "isarray": "^2.0.5",
                "stop-iteration-iterator": "^1.0.0"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/es-object-atoms": {
              "version": "1.1.1",
              "resolved": "https://registry.npmjs.org/es-object-atoms/-/es-object-atoms-1.1.1.tgz",
              "integrity": "sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==",
              "license": "MIT",
              "dependencies": {
                "es-errors": "^1.3.0"
              },
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/es-set-tostringtag": {
              "version": "2.1.0",
              "resolved": "https://registry.npmjs.org/es-set-tostringtag/-/es-set-tostringtag-2.1.0.tgz",
              "integrity": "sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "es-errors": "^1.3.0",
                "get-intrinsic": "^1.2.6",
                "has-tostringtag": "^1.0.2",
                "hasown": "^2.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/escalade": {
              "version": "3.2.0",
              "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
              "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/escape-string-regexp": {
              "version": "2.0.0",
              "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-2.0.0.tgz",
              "integrity": "sha512-UpzcLCXolUWcNu5HtVMHYdXJjArjsF9C0aNnquZYY4uW/Vu0miy5YoWvbV345HauVvcAUnpRuhMMcqTcGOY2+w==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/escodegen": {
              "version": "2.1.0",
              "resolved": "https://registry.npmjs.org/escodegen/-/escodegen-2.1.0.tgz",
              "integrity": "sha512-2NlIDTwUWJN0mRPQOdtQBzbUHvdGY2P1VXSyU83Q3xKxM7WHX2Ql8dKq782Q9TgQUNOLEzEYu9bzLNj1q88I5w==",
              "dev": true,
              "license": "BSD-2-Clause",
              "dependencies": {
                "esprima": "^4.0.1",
                "estraverse": "^5.2.0",
                "esutils": "^2.0.2"
              },
              "bin": {
                "escodegen": "bin/escodegen.js",
                "esgenerate": "bin/esgenerate.js"
              },
              "engines": {
                "node": ">=6.0"
              },
              "optionalDependencies": {
                "source-map": "~0.6.1"
              }
            },
            "node_modules/esprima": {
              "version": "4.0.1",
              "resolved": "https://registry.npmjs.org/esprima/-/esprima-4.0.1.tgz",
              "integrity": "sha512-eGuFFw7Upda+g4p+QHvnW0RyTX/SVeJBDM/gCtMARO0cLuT2HcEKnTPvhjV6aGeqrCB/sbNop0Kszm0jsaWU4A==",
              "dev": true,
              "license": "BSD-2-Clause",
              "bin": {
                "esparse": "bin/esparse.js",
                "esvalidate": "bin/esvalidate.js"
              },
              "engines": {
                "node": ">=4"
              }
            },
            "node_modules/estraverse": {
              "version": "5.3.0",
              "resolved": "https://registry.npmjs.org/estraverse/-/estraverse-5.3.0.tgz",
              "integrity": "sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==",
              "dev": true,
              "license": "BSD-2-Clause",
              "engines": {
                "node": ">=4.0"
              }
            },
            "node_modules/esutils": {
              "version": "2.0.3",
              "resolved": "https://registry.npmjs.org/esutils/-/esutils-2.0.3.tgz",
              "integrity": "sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==",
              "dev": true,
              "license": "BSD-2-Clause",
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/execa": {
              "version": "5.1.1",
              "resolved": "https://registry.npmjs.org/execa/-/execa-5.1.1.tgz",
              "integrity": "sha512-8uSpZZocAZRBAPIEINJj3Lo9HyGitllczc27Eh5YYojjMFMn8yHMDMaUHE2Jqfq05D/wucwI4JGURyXt1vchyg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "cross-spawn": "^7.0.3",
                "get-stream": "^6.0.0",
                "human-signals": "^2.1.0",
                "is-stream": "^2.0.0",
                "merge-stream": "^2.0.0",
                "npm-run-path": "^4.0.1",
                "onetime": "^5.1.2",
                "signal-exit": "^3.0.3",
                "strip-final-newline": "^2.0.0"
              },
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/sindresorhus/execa?sponsor=1"
              }
            },
            "node_modules/exit": {
              "version": "0.1.2",
              "resolved": "https://registry.npmjs.org/exit/-/exit-0.1.2.tgz",
              "integrity": "sha512-Zk/eNKV2zbjpKzrsQ+n1G6poVbErQxJ0LBOJXaKZ1EViLzH+hrLu9cdXI4zw9dBQJslwBEpbQ2P1oS7nDxs6jQ==",
              "dev": true,
              "engines": {
                "node": ">= 0.8.0"
              }
            },
            "node_modules/expect": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/expect/-/expect-29.7.0.tgz",
              "integrity": "sha512-2Zks0hf1VLFYI1kbh0I5jP3KHHyCHpkfyHBzsSXRFgl/Bg9mWYfMW8oD+PdMPlEwy5HNsR9JutYy6pMeOh61nw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/expect-utils": "^29.7.0",
                "jest-get-type": "^29.6.3",
                "jest-matcher-utils": "^29.7.0",
                "jest-message-util": "^29.7.0",
                "jest-util": "^29.7.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/extend": {
              "version": "3.0.2",
              "resolved": "https://registry.npmjs.org/extend/-/extend-3.0.2.tgz",
              "integrity": "sha512-fjquC59cD7CyW6urNXK0FBufkZcoiGG80wTuPujX590cB5Ttln20E2UB4S/WARVqhXffZl2LNgS+gQdPIIim/g==",
              "license": "MIT"
            },
            "node_modules/fast-glob": {
              "version": "3.3.3",
              "resolved": "https://registry.npmjs.org/fast-glob/-/fast-glob-3.3.3.tgz",
              "integrity": "sha512-7MptL8U0cqcFdzIzwOTHoilX9x5BrNqye7Z/LuC7kCMRio1EMSyqRK3BEAUD7sXRq4iT4AzTVuZdhgQ2TCvYLg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@nodelib/fs.stat": "^2.0.2",
                "@nodelib/fs.walk": "^1.2.3",
                "glob-parent": "^5.1.2",
                "merge2": "^1.3.0",
                "micromatch": "^4.0.8"
              },
              "engines": {
                "node": ">=8.6.0"
              }
            },
            "node_modules/fast-glob/node_modules/glob-parent": {
              "version": "5.1.2",
              "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
              "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "is-glob": "^4.0.1"
              },
              "engines": {
                "node": ">= 6"
              }
            },
            "node_modules/fast-json-stable-stringify": {
              "version": "2.1.0",
              "resolved": "https://registry.npmjs.org/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz",
              "integrity": "sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/fastq": {
              "version": "1.19.1",
              "resolved": "https://registry.npmjs.org/fastq/-/fastq-1.19.1.tgz",
              "integrity": "sha512-GwLTyxkCXjXbxqIhTsMI2Nui8huMPtnxg7krajPJAjnEG/iiOS7i+zCtWGZR9G0NBKbXKh6X9m9UIsYX/N6vvQ==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "reusify": "^1.0.4"
              }
            },
            "node_modules/fb-watchman": {
              "version": "2.0.2",
              "resolved": "https://registry.npmjs.org/fb-watchman/-/fb-watchman-2.0.2.tgz",
              "integrity": "sha512-p5161BqbuCaSnB8jIbzQHOlpgsPmK5rJVDfDKO91Axs5NC1uu3HRQm6wt9cd9/+GtQQIO53JdGXXoyDpTAsgYA==",
              "dev": true,
              "license": "Apache-2.0",
              "dependencies": {
                "bser": "2.1.1"
              }
            },
            "node_modules/fetch-blob": {
              "version": "3.2.0",
              "resolved": "https://registry.npmjs.org/fetch-blob/-/fetch-blob-3.2.0.tgz",
              "integrity": "sha512-7yAQpD2UMJzLi1Dqv7qFYnPbaPx7ZfFK6PiIxQ4PfkGPyNyl2Ugx+a/umUonmKqjhM4DnfbMvdX6otXq83soQQ==",
              "funding": [
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/jimmywarting"
                },
                {
                  "type": "paypal",
                  "url": "https://paypal.me/jimmywarting"
                }
              ],
              "license": "MIT",
              "dependencies": {
                "node-domexception": "^1.0.0",
                "web-streams-polyfill": "^3.0.3"
              },
              "engines": {
                "node": "^12.20 || >= 14.13"
              }
            },
            "node_modules/fflate": {
              "version": "0.8.2",
              "resolved": "https://registry.npmjs.org/fflate/-/fflate-0.8.2.tgz",
              "integrity": "sha512-cPJU47OaAoCbg0pBvzsgpTPhmhqI5eJjh/JIu8tPj5q+T7iLvW/JAYUqmE7KOB4R1ZyEhzBaIQpQpardBF5z8A==",
              "license": "MIT"
            },
            "node_modules/fill-range": {
              "version": "7.1.1",
              "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
              "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "to-regex-range": "^5.0.1"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/find-up": {
              "version": "4.1.0",
              "resolved": "https://registry.npmjs.org/find-up/-/find-up-4.1.0.tgz",
              "integrity": "sha512-PpOwAdQ/YlXQ2vj8a3h8IipDuYRi3wceVQQGYWxNINccq40Anw7BlsEXCMbt1Zt+OLA6Fq9suIpIWD0OsnISlw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "locate-path": "^5.0.0",
                "path-exists": "^4.0.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/for-each": {
              "version": "0.3.5",
              "resolved": "https://registry.npmjs.org/for-each/-/for-each-0.3.5.tgz",
              "integrity": "sha512-dKx12eRCVIzqCxFGplyFKJMPvLEWgmNtUrpTiJIR5u97zEhRG8ySrtboPHZXx7daLxQVrl643cTzbab2tkQjxg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "is-callable": "^1.2.7"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/foreground-child": {
              "version": "3.3.1",
              "resolved": "https://registry.npmjs.org/foreground-child/-/foreground-child-3.3.1.tgz",
              "integrity": "sha512-gIXjKqtFuWEgzFRJA9WCQeSJLZDjgJUOMCMzxtvFq/37KojM1BFGufqsCy0r4qSQmYLsZYMeyRqzIWOMup03sw==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "cross-spawn": "^7.0.6",
                "signal-exit": "^4.0.1"
              },
              "engines": {
                "node": ">=14"
              },
              "funding": {
                "url": "https://github.com/sponsors/isaacs"
              }
            },
            "node_modules/foreground-child/node_modules/signal-exit": {
              "version": "4.1.0",
              "resolved": "https://registry.npmjs.org/signal-exit/-/signal-exit-4.1.0.tgz",
              "integrity": "sha512-bzyZ1e88w9O1iNJbKnOlvYTrWPDl46O1bG0D3XInv+9tkPrxrN8jUUTiFlDkkmKWgn1M6CfIA13SuGqOa9Korw==",
              "dev": true,
              "license": "ISC",
              "engines": {
                "node": ">=14"
              },
              "funding": {
                "url": "https://github.com/sponsors/isaacs"
              }
            },
            "node_modules/form-data": {
              "version": "4.0.4",
              "resolved": "https://registry.npmjs.org/form-data/-/form-data-4.0.4.tgz",
              "integrity": "sha512-KrGhL9Q4zjj0kiUt5OO4Mr/A/jlI2jDYs5eHBpYHPcBEVSiipAvn2Ko2HnPe20rmcuuvMHNdZFp+4IlGTMF0Ow==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "asynckit": "^0.4.0",
                "combined-stream": "^1.0.8",
                "es-set-tostringtag": "^2.1.0",
                "hasown": "^2.0.2",
                "mime-types": "^2.1.12"
              },
              "engines": {
                "node": ">= 6"
              }
            },
            "node_modules/formdata-polyfill": {
              "version": "4.0.10",
              "resolved": "https://registry.npmjs.org/formdata-polyfill/-/formdata-polyfill-4.0.10.tgz",
              "integrity": "sha512-buewHzMvYL29jdeQTVILecSaZKnt/RJWjoZCF5OW60Z67/GmSLBkOFM7qh1PI3zFNtJbaZL5eQu1vLfazOwj4g==",
              "license": "MIT",
              "dependencies": {
                "fetch-blob": "^3.1.2"
              },
              "engines": {
                "node": ">=12.20.0"
              }
            },
            "node_modules/frac": {
              "version": "1.1.2",
              "resolved": "https://registry.npmjs.org/frac/-/frac-1.1.2.tgz",
              "integrity": "sha512-w/XBfkibaTl3YDqASwfDUqkna4Z2p9cFSr1aHDt0WoMTECnRfBOv2WArlZILlqgWlmdIlALXGpM2AOhEk5W3IA==",
              "license": "Apache-2.0",
              "engines": {
                "node": ">=0.8"
              }
            },
            "node_modules/fraction.js": {
              "version": "4.3.7",
              "resolved": "https://registry.npmjs.org/fraction.js/-/fraction.js-4.3.7.tgz",
              "integrity": "sha512-ZsDfxO51wGAXREY55a7la9LScWpwv9RxIrYABrlvOFBlH/ShPnrtsXeuUIfXKKOVicNxQ+o8JTbJvjS4M89yew==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": "*"
              },
              "funding": {
                "type": "patreon",
                "url": "https://github.com/sponsors/rawify"
              }
            },
            "node_modules/fs.realpath": {
              "version": "1.0.0",
              "resolved": "https://registry.npmjs.org/fs.realpath/-/fs.realpath-1.0.0.tgz",
              "integrity": "sha512-OO0pH2lK6a0hZnAdau5ItzHPI6pUlvI7jMVnxUQRtw4owF2wk8lOSabtGDCTP4Ggrg2MbGnWO9X8K1t4+fGMDw==",
              "dev": true,
              "license": "ISC"
            },
            "node_modules/fsevents": {
              "version": "2.3.3",
              "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz",
              "integrity": "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==",
              "dev": true,
              "hasInstallScript": true,
              "license": "MIT",
              "optional": true,
              "os": [
                "darwin"
              ],
              "engines": {
                "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
              }
            },
            "node_modules/function-bind": {
              "version": "1.1.2",
              "resolved": "https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz",
              "integrity": "sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==",
              "license": "MIT",
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/functions-have-names": {
              "version": "1.2.3",
              "resolved": "https://registry.npmjs.org/functions-have-names/-/functions-have-names-1.2.3.tgz",
              "integrity": "sha512-xckBUXyTIqT97tq2x2AMb+g163b5JFysYk0x4qxNFwbfQkmNZoiRHb6sPzI9/QV33WeuvVYBUIiD4NzNIyqaRQ==",
              "dev": true,
              "license": "MIT",
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/gaxios": {
              "version": "7.1.1",
              "resolved": "https://registry.npmjs.org/gaxios/-/gaxios-7.1.1.tgz",
              "integrity": "sha512-Odju3uBUJyVCkW64nLD4wKLhbh93bh6vIg/ZIXkWiLPBrdgtc65+tls/qml+un3pr6JqYVFDZbbmLDQT68rTOQ==",
              "license": "Apache-2.0",
              "dependencies": {
                "extend": "^3.0.2",
                "https-proxy-agent": "^7.0.1",
                "node-fetch": "^3.3.2"
              },
              "engines": {
                "node": ">=18"
              }
            },
            "node_modules/gcp-metadata": {
              "version": "7.0.1",
              "resolved": "https://registry.npmjs.org/gcp-metadata/-/gcp-metadata-7.0.1.tgz",
              "integrity": "sha512-UcO3kefx6dCcZkgcTGgVOTFb7b1LlQ02hY1omMjjrrBzkajRMCFgYOjs7J71WqnuG1k2b+9ppGL7FsOfhZMQKQ==",
              "license": "Apache-2.0",
              "dependencies": {
                "gaxios": "^7.0.0",
                "google-logging-utils": "^1.0.0",
                "json-bigint": "^1.0.0"
              },
              "engines": {
                "node": ">=18"
              }
            },
            "node_modules/gensync": {
              "version": "1.0.0-beta.2",
              "resolved": "https://registry.npmjs.org/gensync/-/gensync-1.0.0-beta.2.tgz",
              "integrity": "sha512-3hN7NaskYvMDLQY55gnW3NQ+mesEAepTqlg+VEbj7zzqEMBVNhzcGYYeqFo/TlYz6eQiFcp1HcsCZO+nGgS8zg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6.9.0"
              }
            },
            "node_modules/get-caller-file": {
              "version": "2.0.5",
              "resolved": "https://registry.npmjs.org/get-caller-file/-/get-caller-file-2.0.5.tgz",
              "integrity": "sha512-DyFP3BM/3YHTQOCUL/w0OZHR0lpKeGrxotcHWcqNEdnltqFwXVfhEBQ94eIo34AfQpo0rGki4cyIiftY06h2Fg==",
              "dev": true,
              "license": "ISC",
              "engines": {
                "node": "6.* || 8.* || >= 10.*"
              }
            },
            "node_modules/get-intrinsic": {
              "version": "1.3.0",
              "resolved": "https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.3.0.tgz",
              "integrity": "sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==",
              "license": "MIT",
              "dependencies": {
                "call-bind-apply-helpers": "^1.0.2",
                "es-define-property": "^1.0.1",
                "es-errors": "^1.3.0",
                "es-object-atoms": "^1.1.1",
                "function-bind": "^1.1.2",
                "get-proto": "^1.0.1",
                "gopd": "^1.2.0",
                "has-symbols": "^1.1.0",
                "hasown": "^2.0.2",
                "math-intrinsics": "^1.1.0"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/get-package-type": {
              "version": "0.1.0",
              "resolved": "https://registry.npmjs.org/get-package-type/-/get-package-type-0.1.0.tgz",
              "integrity": "sha512-pjzuKtY64GYfWizNAJ0fr9VqttZkNiK2iS430LtIHzjBEr6bX8Am2zm4sW4Ro5wjWW5cAlRL1qAMTcXbjNAO2Q==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8.0.0"
              }
            },
            "node_modules/get-proto": {
              "version": "1.0.1",
              "resolved": "https://registry.npmjs.org/get-proto/-/get-proto-1.0.1.tgz",
              "integrity": "sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==",
              "license": "MIT",
              "dependencies": {
                "dunder-proto": "^1.0.1",
                "es-object-atoms": "^1.0.0"
              },
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/get-stream": {
              "version": "6.0.1",
              "resolved": "https://registry.npmjs.org/get-stream/-/get-stream-6.0.1.tgz",
              "integrity": "sha512-ts6Wi+2j3jQjqi70w5AlN8DFnkSwC+MqmxEzdEALB2qXZYV3X/b1CTfgPLGJNMeAWxdPfU8FO1ms3NUfaHCPYg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/glob": {
              "version": "7.2.3",
              "resolved": "https://registry.npmjs.org/glob/-/glob-7.2.3.tgz",
              "integrity": "sha512-nFR0zLpU2YCaRxwoCJvL6UvCH2JFyFVIvwTLsIf21AuHlMskA1hhTdk+LlYJtOlYt9v6dvszD2BGRqBL+iQK9Q==",
              "deprecated": "Glob versions prior to v9 are no longer supported",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "fs.realpath": "^1.0.0",
                "inflight": "^1.0.4",
                "inherits": "2",
                "minimatch": "^3.1.1",
                "once": "^1.3.0",
                "path-is-absolute": "^1.0.0"
              },
              "engines": {
                "node": "*"
              },
              "funding": {
                "url": "https://github.com/sponsors/isaacs"
              }
            },
            "node_modules/glob-parent": {
              "version": "6.0.2",
              "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-6.0.2.tgz",
              "integrity": "sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "is-glob": "^4.0.3"
              },
              "engines": {
                "node": ">=10.13.0"
              }
            },
            "node_modules/google-auth-library": {
              "version": "10.2.0",
              "resolved": "https://registry.npmjs.org/google-auth-library/-/google-auth-library-10.2.0.tgz",
              "integrity": "sha512-gy/0hRx8+Ye0HlUm3GrfpR4lbmJQ6bJ7F44DmN7GtMxxzWSojLzx0Bhv/hj7Wlj7a2On0FcT8jrz8Y1c1nxCyg==",
              "license": "Apache-2.0",
              "dependencies": {
                "base64-js": "^1.3.0",
                "ecdsa-sig-formatter": "^1.0.11",
                "gaxios": "^7.0.0",
                "gcp-metadata": "^7.0.0",
                "google-logging-utils": "^1.0.0",
                "gtoken": "^8.0.0",
                "jws": "^4.0.0"
              },
              "engines": {
                "node": ">=18"
              }
            },
            "node_modules/google-logging-utils": {
              "version": "1.1.1",
              "resolved": "https://registry.npmjs.org/google-logging-utils/-/google-logging-utils-1.1.1.tgz",
              "integrity": "sha512-rcX58I7nqpu4mbKztFeOAObbomBbHU2oIb/d3tJfF3dizGSApqtSwYJigGCooHdnMyQBIw8BrWyK96w3YXgr6A==",
              "license": "Apache-2.0",
              "engines": {
                "node": ">=14"
              }
            },
            "node_modules/googleapis": {
              "version": "150.0.1",
              "resolved": "https://registry.npmjs.org/googleapis/-/googleapis-150.0.1.tgz",
              "integrity": "sha512-9Wa9vm3WtDpss0VFBHsbZWcoRccpOSWdpz7YIfb1LBXopZJEg/Zc8ymmaSgvDkP4FhN+pqPS9nZjO7REAJWSUg==",
              "license": "Apache-2.0",
              "dependencies": {
                "google-auth-library": "^10.0.0-rc.1",
                "googleapis-common": "^8.0.2-rc.0"
              },
              "engines": {
                "node": ">=18"
              }
            },
            "node_modules/googleapis-common": {
              "version": "8.0.2-rc.0",
              "resolved": "https://registry.npmjs.org/googleapis-common/-/googleapis-common-8.0.2-rc.0.tgz",
              "integrity": "sha512-JTcxRvmFa9Ec1uyfMEimEMeeKq1sHNZX3vn2qmoUMtnvixXXvcqTcbDZvEZXkEWpGlPlOf4joyep6/qs0BrLyg==",
              "license": "Apache-2.0",
              "dependencies": {
                "extend": "^3.0.2",
                "gaxios": "^7.0.0-rc.4",
                "google-auth-library": "^10.0.0-rc.1",
                "qs": "^6.7.0",
                "url-template": "^2.0.8"
              },
              "engines": {
                "node": ">=18.0.0"
              }
            },
            "node_modules/gopd": {
              "version": "1.2.0",
              "resolved": "https://registry.npmjs.org/gopd/-/gopd-1.2.0.tgz",
              "integrity": "sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==",
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/graceful-fs": {
              "version": "4.2.11",
              "resolved": "https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.11.tgz",
              "integrity": "sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==",
              "license": "ISC"
            },
            "node_modules/gtoken": {
              "version": "8.0.0",
              "resolved": "https://registry.npmjs.org/gtoken/-/gtoken-8.0.0.tgz",
              "integrity": "sha512-+CqsMbHPiSTdtSO14O51eMNlrp9N79gmeqmXeouJOhfucAedHw9noVe/n5uJk3tbKE6a+6ZCQg3RPhVhHByAIw==",
              "license": "MIT",
              "dependencies": {
                "gaxios": "^7.0.0",
                "jws": "^4.0.0"
              },
              "engines": {
                "node": ">=18"
              }
            },
            "node_modules/has-bigints": {
              "version": "1.1.0",
              "resolved": "https://registry.npmjs.org/has-bigints/-/has-bigints-1.1.0.tgz",
              "integrity": "sha512-R3pbpkcIqv2Pm3dUwgjclDRVmWpTJW2DcMzcIhEXEx1oh/CEMObMm3KLmRJOdvhM7o4uQBnwr8pzRK2sJWIqfg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/has-flag": {
              "version": "4.0.0",
              "resolved": "https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz",
              "integrity": "sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/has-property-descriptors": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/has-property-descriptors/-/has-property-descriptors-1.0.2.tgz",
              "integrity": "sha512-55JNKuIW+vq4Ke1BjOTjM2YctQIvCT7GFzHwmfZPGo5wnrgkid0YQtnAleFSqumZm4az3n2BS+erby5ipJdgrg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "es-define-property": "^1.0.0"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/has-symbols": {
              "version": "1.1.0",
              "resolved": "https://registry.npmjs.org/has-symbols/-/has-symbols-1.1.0.tgz",
              "integrity": "sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==",
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/has-tostringtag": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/has-tostringtag/-/has-tostringtag-1.0.2.tgz",
              "integrity": "sha512-NqADB8VjPFLM2V0VvHUewwwsw0ZWBaIdgo+ieHtK3hasLz4qeCRjYcqfB6AQrBggRKppKF8L52/VqdVsO47Dlw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "has-symbols": "^1.0.3"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/hasown": {
              "version": "2.0.2",
              "resolved": "https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz",
              "integrity": "sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==",
              "license": "MIT",
              "dependencies": {
                "function-bind": "^1.1.2"
              },
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/hoist-non-react-statics": {
              "version": "3.3.2",
              "resolved": "https://registry.npmjs.org/hoist-non-react-statics/-/hoist-non-react-statics-3.3.2.tgz",
              "integrity": "sha512-/gGivxi8JPKWNm/W0jSmzcMPpfpPLc3dY/6GxhX2hQ9iGj3aDfklV4ET7NjKpSinLpJ5vafa9iiGIEZg10SfBw==",
              "license": "BSD-3-Clause",
              "dependencies": {
                "react-is": "^16.7.0"
              }
            },
            "node_modules/hoist-non-react-statics/node_modules/react-is": {
              "version": "16.13.1",
              "resolved": "https://registry.npmjs.org/react-is/-/react-is-16.13.1.tgz",
              "integrity": "sha512-24e6ynE2H+OKt4kqsOvNd8kBpV65zoxbA4BVsEOB3ARVWQki/DHzaUoC5KuON/BiccDaCCTZBuOcfZs70kR8bQ==",
              "license": "MIT"
            },
            "node_modules/html-encoding-sniffer": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/html-encoding-sniffer/-/html-encoding-sniffer-3.0.0.tgz",
              "integrity": "sha512-oWv4T4yJ52iKrufjnyZPkrN0CH3QnrUqdB6In1g5Fe1mia8GmF36gnfNySxoZtxD5+NmYw1EElVXiBk93UeskA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "whatwg-encoding": "^2.0.0"
              },
              "engines": {
                "node": ">=12"
              }
            },
            "node_modules/html-escaper": {
              "version": "2.0.2",
              "resolved": "https://registry.npmjs.org/html-escaper/-/html-escaper-2.0.2.tgz",
              "integrity": "sha512-H2iMtd0I4Mt5eYiapRdIDjp+XzelXQ0tFE4JS7YFwFevXXMmOp9myNrUvCg0D6ws8iqkRPBfKHgbwig1SmlLfg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/html2canvas": {
              "version": "1.4.1",
              "resolved": "https://registry.npmjs.org/html2canvas/-/html2canvas-1.4.1.tgz",
              "integrity": "sha512-fPU6BHNpsyIhr8yyMpTLLxAbkaK8ArIBcmZIRiBLiDhjeqvXolaEmDGmELFuX9I4xDcaKKcJl+TKZLqruBbmWA==",
              "license": "MIT",
              "optional": true,
              "dependencies": {
                "css-line-break": "^2.1.0",
                "text-segmentation": "^1.0.3"
              },
              "engines": {
                "node": ">=8.0.0"
              }
            },
            "node_modules/http-proxy-agent": {
              "version": "5.0.0",
              "resolved": "https://registry.npmjs.org/http-proxy-agent/-/http-proxy-agent-5.0.0.tgz",
              "integrity": "sha512-n2hY8YdoRE1i7r6M0w9DIw5GgZN0G25P8zLCRQ8rjXtTU3vsNFBI/vWK/UIeE6g5MUUz6avwAPXmL6Fy9D/90w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@tootallnate/once": "2",
                "agent-base": "6",
                "debug": "4"
              },
              "engines": {
                "node": ">= 6"
              }
            },
            "node_modules/http-proxy-agent/node_modules/agent-base": {
              "version": "6.0.2",
              "resolved": "https://registry.npmjs.org/agent-base/-/agent-base-6.0.2.tgz",
              "integrity": "sha512-RZNwNclF7+MS/8bDg70amg32dyeZGZxiDuQmZxKLAlQjr3jGyLx+4Kkk58UO7D2QdgFIQCovuSuZESne6RG6XQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "debug": "4"
              },
              "engines": {
                "node": ">= 6.0.0"
              }
            },
            "node_modules/https-proxy-agent": {
              "version": "7.0.6",
              "resolved": "https://registry.npmjs.org/https-proxy-agent/-/https-proxy-agent-7.0.6.tgz",
              "integrity": "sha512-vK9P5/iUfdl95AI+JVyUuIcVtd4ofvtrOr3HNtM2yxC9bnMbEdp3x01OhQNnjb8IJYi38VlTE3mBXwcfvywuSw==",
              "license": "MIT",
              "dependencies": {
                "agent-base": "^7.1.2",
                "debug": "4"
              },
              "engines": {
                "node": ">= 14"
              }
            },
            "node_modules/human-signals": {
              "version": "2.1.0",
              "resolved": "https://registry.npmjs.org/human-signals/-/human-signals-2.1.0.tgz",
              "integrity": "sha512-B4FFZ6q/T2jhhksgkbEW3HBvWIfDW85snkQgawt07S7J5QXTk6BkNV+0yAeZrM5QpMAdYlocGoljn0sJ/WQkFw==",
              "dev": true,
              "license": "Apache-2.0",
              "engines": {
                "node": ">=10.17.0"
              }
            },
            "node_modules/iconv-lite": {
              "version": "0.6.3",
              "resolved": "https://registry.npmjs.org/iconv-lite/-/iconv-lite-0.6.3.tgz",
              "integrity": "sha512-4fCk79wshMdzMp2rH06qWrJE4iolqLhCUH+OiuIgU++RB0+94NlDL81atO7GX55uUKueo0txHNtvEyI6D7WdMw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "safer-buffer": ">= 2.1.2 < 3.0.0"
              },
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/import-local": {
              "version": "3.2.0",
              "resolved": "https://registry.npmjs.org/import-local/-/import-local-3.2.0.tgz",
              "integrity": "sha512-2SPlun1JUPWoM6t3F0dw0FkCF/jWY8kttcY4f599GLTSjh2OCuuhdTkJQsEcZzBqbXZGKMK2OqW1oZsjtf/gQA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "pkg-dir": "^4.2.0",
                "resolve-cwd": "^3.0.0"
              },
              "bin": {
                "import-local-fixture": "fixtures/cli.js"
              },
              "engines": {
                "node": ">=8"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/imurmurhash": {
              "version": "0.1.4",
              "resolved": "https://registry.npmjs.org/imurmurhash/-/imurmurhash-0.1.4.tgz",
              "integrity": "sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=0.8.19"
              }
            },
            "node_modules/indent-string": {
              "version": "4.0.0",
              "resolved": "https://registry.npmjs.org/indent-string/-/indent-string-4.0.0.tgz",
              "integrity": "sha512-EdDDZu4A2OyIK7Lr/2zG+w5jmbuk1DVBnEwREQvBzspBJkCEbRa8GxU1lghYcaGJCnRWibjDXlq779X1/y5xwg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/inflight": {
              "version": "1.0.6",
              "resolved": "https://registry.npmjs.org/inflight/-/inflight-1.0.6.tgz",
              "integrity": "sha512-k92I/b08q4wvFscXCLvqfsHCrjrF7yiXsQuIVvVE7N82W3+aqpzuUdBbfhWcy/FZR3/4IgflMgKLOsvPDrGCJA==",
              "deprecated": "This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "once": "^1.3.0",
                "wrappy": "1"
              }
            },
            "node_modules/inherits": {
              "version": "2.0.4",
              "resolved": "https://registry.npmjs.org/inherits/-/inherits-2.0.4.tgz",
              "integrity": "sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==",
              "dev": true,
              "license": "ISC"
            },
            "node_modules/internal-slot": {
              "version": "1.1.0",
              "resolved": "https://registry.npmjs.org/internal-slot/-/internal-slot-1.1.0.tgz",
              "integrity": "sha512-4gd7VpWNQNB4UKKCFFVcp1AVv+FMOgs9NKzjHKusc8jTMhd5eL1NqQqOpE0KzMds804/yHlglp3uxgluOqAPLw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "es-errors": "^1.3.0",
                "hasown": "^2.0.2",
                "side-channel": "^1.1.0"
              },
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/is-arguments": {
              "version": "1.2.0",
              "resolved": "https://registry.npmjs.org/is-arguments/-/is-arguments-1.2.0.tgz",
              "integrity": "sha512-7bVbi0huj/wrIAOzb8U1aszg9kdi3KN/CyU19CTI7tAoZYEZoL9yCDXpbXN+uPsuWnP02cyug1gleqq+TU+YCA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bound": "^1.0.2",
                "has-tostringtag": "^1.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-array-buffer": {
              "version": "3.0.5",
              "resolved": "https://registry.npmjs.org/is-array-buffer/-/is-array-buffer-3.0.5.tgz",
              "integrity": "sha512-DDfANUiiG2wC1qawP66qlTugJeL5HyzMpfr8lLK+jMQirGzNod0B12cFB/9q838Ru27sBwfw78/rdoU7RERz6A==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bind": "^1.0.8",
                "call-bound": "^1.0.3",
                "get-intrinsic": "^1.2.6"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-arrayish": {
              "version": "0.2.1",
              "resolved": "https://registry.npmjs.org/is-arrayish/-/is-arrayish-0.2.1.tgz",
              "integrity": "sha512-zz06S8t0ozoDXMG+ube26zeCTNXcKIPJZJi8hBrF4idCLms4CG9QtK7qBl1boi5ODzFpjswb5JPmHCbMpjaYzg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/is-bigint": {
              "version": "1.1.0",
              "resolved": "https://registry.npmjs.org/is-bigint/-/is-bigint-1.1.0.tgz",
              "integrity": "sha512-n4ZT37wG78iz03xPRKJrHTdZbe3IicyucEtdRsV5yglwc3GyUfbAfpSeD0FJ41NbUNSt5wbhqfp1fS+BgnvDFQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "has-bigints": "^1.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-binary-path": {
              "version": "2.1.0",
              "resolved": "https://registry.npmjs.org/is-binary-path/-/is-binary-path-2.1.0.tgz",
              "integrity": "sha512-ZMERYes6pDydyuGidse7OsHxtbI7WVeUEozgR/g7rd0xUimYNlvZRE/K2MgZTjWy725IfelLeVcEM97mmtRGXw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "binary-extensions": "^2.0.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/is-boolean-object": {
              "version": "1.2.2",
              "resolved": "https://registry.npmjs.org/is-boolean-object/-/is-boolean-object-1.2.2.tgz",
              "integrity": "sha512-wa56o2/ElJMYqjCjGkXri7it5FbebW5usLw/nPmCMs5DeZ7eziSYZhSmPRn0txqeW4LnAmQQU7FgqLpsEFKM4A==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bound": "^1.0.3",
                "has-tostringtag": "^1.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-callable": {
              "version": "1.2.7",
              "resolved": "https://registry.npmjs.org/is-callable/-/is-callable-1.2.7.tgz",
              "integrity": "sha512-1BC0BVFhS/p0qtw6enp8e+8OD0UrK0oFLztSjNzhcKA3WDuJxxAPXzPuPtKkjEY9UUoEWlX/8fgKeu2S8i9JTA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-core-module": {
              "version": "2.16.1",
              "resolved": "https://registry.npmjs.org/is-core-module/-/is-core-module-2.16.1.tgz",
              "integrity": "sha512-UfoeMA6fIJ8wTYFEUjelnaGI67v6+N7qXJEvQuIGa99l4xsCruSYOVSQ0uPANn4dAzm8lkYPaKLrrijLq7x23w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "hasown": "^2.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-date-object": {
              "version": "1.1.0",
              "resolved": "https://registry.npmjs.org/is-date-object/-/is-date-object-1.1.0.tgz",
              "integrity": "sha512-PwwhEakHVKTdRNVOw+/Gyh0+MzlCl4R6qKvkhuvLtPMggI1WAHt9sOwZxQLSGpUaDnrdyDsomoRgNnCfKNSXXg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bound": "^1.0.2",
                "has-tostringtag": "^1.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-docker": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/is-docker/-/is-docker-3.0.0.tgz",
              "integrity": "sha512-eljcgEDlEns/7AXFosB5K/2nCM4P7FQPkGc/DWLy5rmFEWvZayGrik1d9/QIY5nJ4f9YsVvBkA6kJpHn9rISdQ==",
              "license": "MIT",
              "bin": {
                "is-docker": "cli.js"
              },
              "engines": {
                "node": "^12.20.0 || ^14.13.1 || >=16.0.0"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/is-extglob": {
              "version": "2.1.1",
              "resolved": "https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz",
              "integrity": "sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/is-fullwidth-code-point": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz",
              "integrity": "sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/is-generator-fn": {
              "version": "2.1.0",
              "resolved": "https://registry.npmjs.org/is-generator-fn/-/is-generator-fn-2.1.0.tgz",
              "integrity": "sha512-cTIB4yPYL/Grw0EaSzASzg6bBy9gqCofvWN8okThAYIxKJZC+udlRAmGbM0XLeniEJSs8uEgHPGuHSe1XsOLSQ==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/is-glob": {
              "version": "4.0.3",
              "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz",
              "integrity": "sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "is-extglob": "^2.1.1"
              },
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/is-inside-container": {
              "version": "1.0.0",
              "resolved": "https://registry.npmjs.org/is-inside-container/-/is-inside-container-1.0.0.tgz",
              "integrity": "sha512-KIYLCCJghfHZxqjYBE7rEy0OBuTd5xCHS7tHVgvCLkx7StIoaxwNW3hCALgEUjFfeRk+MG/Qxmp/vtETEF3tRA==",
              "license": "MIT",
              "dependencies": {
                "is-docker": "^3.0.0"
              },
              "bin": {
                "is-inside-container": "cli.js"
              },
              "engines": {
                "node": ">=14.16"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/is-map": {
              "version": "2.0.3",
              "resolved": "https://registry.npmjs.org/is-map/-/is-map-2.0.3.tgz",
              "integrity": "sha512-1Qed0/Hr2m+YqxnM09CjA2d/i6YZNfF6R2oRAOj36eUdS6qIV/huPJNSEpKbupewFs+ZsJlxsjjPbc0/afW6Lw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-number": {
              "version": "7.0.0",
              "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
              "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=0.12.0"
              }
            },
            "node_modules/is-number-object": {
              "version": "1.1.1",
              "resolved": "https://registry.npmjs.org/is-number-object/-/is-number-object-1.1.1.tgz",
              "integrity": "sha512-lZhclumE1G6VYD8VHe35wFaIif+CTy5SJIi5+3y4psDgWu4wPDoBhF8NxUOinEc7pHgiTsT6MaBb92rKhhD+Xw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bound": "^1.0.3",
                "has-tostringtag": "^1.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-potential-custom-element-name": {
              "version": "1.0.1",
              "resolved": "https://registry.npmjs.org/is-potential-custom-element-name/-/is-potential-custom-element-name-1.0.1.tgz",
              "integrity": "sha512-bCYeRA2rVibKZd+s2625gGnGF/t7DSqDs4dP7CrLA1m7jKWz6pps0LpYLJN8Q64HtmPKJ1hrN3nzPNKFEKOUiQ==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/is-regex": {
              "version": "1.2.1",
              "resolved": "https://registry.npmjs.org/is-regex/-/is-regex-1.2.1.tgz",
              "integrity": "sha512-MjYsKHO5O7mCsmRGxWcLWheFqN9DJ/2TmngvjKXihe6efViPqc274+Fx/4fYj/r03+ESvBdTXK0V6tA3rgez1g==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bound": "^1.0.2",
                "gopd": "^1.2.0",
                "has-tostringtag": "^1.0.2",
                "hasown": "^2.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-set": {
              "version": "2.0.3",
              "resolved": "https://registry.npmjs.org/is-set/-/is-set-2.0.3.tgz",
              "integrity": "sha512-iPAjerrse27/ygGLxw+EBR9agv9Y6uLeYVJMu+QNCoouJ1/1ri0mGrcWpfCqFZuzzx3WjtwxG098X+n4OuRkPg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-shared-array-buffer": {
              "version": "1.0.4",
              "resolved": "https://registry.npmjs.org/is-shared-array-buffer/-/is-shared-array-buffer-1.0.4.tgz",
              "integrity": "sha512-ISWac8drv4ZGfwKl5slpHG9OwPNty4jOWPRIhBpxOoD+hqITiwuipOQ2bNthAzwA3B4fIjO4Nln74N0S9byq8A==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bound": "^1.0.3"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-stream": {
              "version": "2.0.1",
              "resolved": "https://registry.npmjs.org/is-stream/-/is-stream-2.0.1.tgz",
              "integrity": "sha512-hFoiJiTl63nn+kstHGBtewWSKnQLpyb155KHheA1l39uvtO9nWIop1p3udqPcUd/xbF1VLMO4n7OI6p7RbngDg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/is-string": {
              "version": "1.1.1",
              "resolved": "https://registry.npmjs.org/is-string/-/is-string-1.1.1.tgz",
              "integrity": "sha512-BtEeSsoaQjlSPBemMQIrY1MY0uM6vnS1g5fmufYOtnxLGUZM2178PKbhsk7Ffv58IX+ZtcvoGwccYsh0PglkAA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bound": "^1.0.3",
                "has-tostringtag": "^1.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-symbol": {
              "version": "1.1.1",
              "resolved": "https://registry.npmjs.org/is-symbol/-/is-symbol-1.1.1.tgz",
              "integrity": "sha512-9gGx6GTtCQM73BgmHQXfDmLtfjjTUDSyoxTCbp5WtoixAhfgsDirWIcVQ/IHpvI5Vgd5i/J5F7B9cN/WlVbC/w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bound": "^1.0.2",
                "has-symbols": "^1.1.0",
                "safe-regex-test": "^1.1.0"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-weakmap": {
              "version": "2.0.2",
              "resolved": "https://registry.npmjs.org/is-weakmap/-/is-weakmap-2.0.2.tgz",
              "integrity": "sha512-K5pXYOm9wqY1RgjpL3YTkF39tni1XajUIkawTLUo9EZEVUFga5gSQJF8nNS7ZwJQ02y+1YCNYcMh+HIf1ZqE+w==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-weakset": {
              "version": "2.0.4",
              "resolved": "https://registry.npmjs.org/is-weakset/-/is-weakset-2.0.4.tgz",
              "integrity": "sha512-mfcwb6IzQyOKTs84CQMrOwW4gQcaTOAWJ0zzJCl2WSPDrWk/OzDaImWFH3djXhb24g4eudZfLRozAvPGw4d9hQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bound": "^1.0.3",
                "get-intrinsic": "^1.2.6"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/is-wsl": {
              "version": "3.1.0",
              "resolved": "https://registry.npmjs.org/is-wsl/-/is-wsl-3.1.0.tgz",
              "integrity": "sha512-UcVfVfaK4Sc4m7X3dUSoHoozQGBEFeDC+zVo06t98xe8CzHSZZBekNXH+tu0NalHolcJ/QAGqS46Hef7QXBIMw==",
              "license": "MIT",
              "dependencies": {
                "is-inside-container": "^1.0.0"
              },
              "engines": {
                "node": ">=16"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/is64bit": {
              "version": "2.0.0",
              "resolved": "https://registry.npmjs.org/is64bit/-/is64bit-2.0.0.tgz",
              "integrity": "sha512-jv+8jaWCl0g2lSBkNSVXdzfBA0npK1HGC2KtWM9FumFRoGS94g3NbCCLVnCYHLjp4GrW2KZeeSTMo5ddtznmGw==",
              "license": "MIT",
              "dependencies": {
                "system-architecture": "^0.1.0"
              },
              "engines": {
                "node": ">=18"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/isarray": {
              "version": "2.0.5",
              "resolved": "https://registry.npmjs.org/isarray/-/isarray-2.0.5.tgz",
              "integrity": "sha512-xHjhDr3cNBK0BzdUJSPXZntQUx/mwMS5Rw4A7lPJ90XGAO6ISP/ePDNuo0vhqOZU+UD5JoodwCAAoZQd3FeAKw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/isexe": {
              "version": "2.0.0",
              "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
              "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
              "license": "ISC"
            },
            "node_modules/istanbul-lib-coverage": {
              "version": "3.2.2",
              "resolved": "https://registry.npmjs.org/istanbul-lib-coverage/-/istanbul-lib-coverage-3.2.2.tgz",
              "integrity": "sha512-O8dpsF+r0WV/8MNRKfnmrtCWhuKjxrq2w+jpzBL5UZKTi2LeVWnWOmWRxFlesJONmc+wLAGvKQZEOanko0LFTg==",
              "dev": true,
              "license": "BSD-3-Clause",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/istanbul-lib-instrument": {
              "version": "6.0.3",
              "resolved": "https://registry.npmjs.org/istanbul-lib-instrument/-/istanbul-lib-instrument-6.0.3.tgz",
              "integrity": "sha512-Vtgk7L/R2JHyyGW07spoFlB8/lpjiOLTjMdms6AFMraYt3BaJauod/NGrfnVG/y4Ix1JEuMRPDPEj2ua+zz1/Q==",
              "dev": true,
              "license": "BSD-3-Clause",
              "dependencies": {
                "@babel/core": "^7.23.9",
                "@babel/parser": "^7.23.9",
                "@istanbuljs/schema": "^0.1.3",
                "istanbul-lib-coverage": "^3.2.0",
                "semver": "^7.5.4"
              },
              "engines": {
                "node": ">=10"
              }
            },
            "node_modules/istanbul-lib-instrument/node_modules/semver": {
              "version": "7.7.2",
              "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.2.tgz",
              "integrity": "sha512-RF0Fw+rO5AMf9MAyaRXI4AV0Ulj5lMHqVxxdSgiVbixSCXoEmmX/jk0CuJw4+3SqroYO9VoUh+HcuJivvtJemA==",
              "dev": true,
              "license": "ISC",
              "bin": {
                "semver": "bin/semver.js"
              },
              "engines": {
                "node": ">=10"
              }
            },
            "node_modules/istanbul-lib-report": {
              "version": "3.0.1",
              "resolved": "https://registry.npmjs.org/istanbul-lib-report/-/istanbul-lib-report-3.0.1.tgz",
              "integrity": "sha512-GCfE1mtsHGOELCU8e/Z7YWzpmybrx/+dSTfLrvY8qRmaY6zXTKWn6WQIjaAFw069icm6GVMNkgu0NzI4iPZUNw==",
              "dev": true,
              "license": "BSD-3-Clause",
              "dependencies": {
                "istanbul-lib-coverage": "^3.0.0",
                "make-dir": "^4.0.0",
                "supports-color": "^7.1.0"
              },
              "engines": {
                "node": ">=10"
              }
            },
            "node_modules/istanbul-lib-source-maps": {
              "version": "4.0.1",
              "resolved": "https://registry.npmjs.org/istanbul-lib-source-maps/-/istanbul-lib-source-maps-4.0.1.tgz",
              "integrity": "sha512-n3s8EwkdFIJCG3BPKBYvskgXGoy88ARzvegkitk60NxRdwltLOTaH7CUiMRXvwYorl0Q712iEjcWB+fK/MrWVw==",
              "dev": true,
              "license": "BSD-3-Clause",
              "dependencies": {
                "debug": "^4.1.1",
                "istanbul-lib-coverage": "^3.0.0",
                "source-map": "^0.6.1"
              },
              "engines": {
                "node": ">=10"
              }
            },
            "node_modules/istanbul-reports": {
              "version": "3.1.7",
              "resolved": "https://registry.npmjs.org/istanbul-reports/-/istanbul-reports-3.1.7.tgz",
              "integrity": "sha512-BewmUXImeuRk2YY0PVbxgKAysvhRPUQE0h5QRM++nVWyubKGV0l8qQ5op8+B2DOmwSe63Jivj0BjkPQVf8fP5g==",
              "dev": true,
              "license": "BSD-3-Clause",
              "dependencies": {
                "html-escaper": "^2.0.0",
                "istanbul-lib-report": "^3.0.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/jackspeak": {
              "version": "3.4.3",
              "resolved": "https://registry.npmjs.org/jackspeak/-/jackspeak-3.4.3.tgz",
              "integrity": "sha512-OGlZQpz2yfahA/Rd1Y8Cd9SIEsqvXkLVoSw/cgwhnhFMDbsQFeZYoJJ7bIZBS9BcamUW96asq/npPWugM+RQBw==",
              "dev": true,
              "license": "BlueOak-1.0.0",
              "dependencies": {
                "@isaacs/cliui": "^8.0.2"
              },
              "funding": {
                "url": "https://github.com/sponsors/isaacs"
              },
              "optionalDependencies": {
                "@pkgjs/parseargs": "^0.11.0"
              }
            },
            "node_modules/jest": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest/-/jest-29.7.0.tgz",
              "integrity": "sha512-NIy3oAFp9shda19hy4HK0HRTWKtPJmGdnvywu01nOqNC2vZg+Z+fvJDxpMQA88eb2I9EcafcdjYgsDthnYTvGw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/core": "^29.7.0",
                "@jest/types": "^29.6.3",
                "import-local": "^3.0.2",
                "jest-cli": "^29.7.0"
              },
              "bin": {
                "jest": "bin/jest.js"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              },
              "peerDependencies": {
                "node-notifier": "^8.0.1 || ^9.0.0 || ^10.0.0"
              },
              "peerDependenciesMeta": {
                "node-notifier": {
                  "optional": true
                }
              }
            },
            "node_modules/jest-changed-files": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-changed-files/-/jest-changed-files-29.7.0.tgz",
              "integrity": "sha512-fEArFiwf1BpQ+4bXSprcDc3/x4HSzL4al2tozwVpDFpsxALjLYdyiIK4e5Vz66GQJIbXJ82+35PtysofptNX2w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "execa": "^5.0.0",
                "jest-util": "^29.7.0",
                "p-limit": "^3.1.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-circus": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-circus/-/jest-circus-29.7.0.tgz",
              "integrity": "sha512-3E1nCMgipcTkCocFwM90XXQab9bS+GMsjdpmPrlelaxwD93Ad8iVEjX/vvHPdLPnFf+L40u+5+iutRdA1N9myw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/environment": "^29.7.0",
                "@jest/expect": "^29.7.0",
                "@jest/test-result": "^29.7.0",
                "@jest/types": "^29.6.3",
                "@types/node": "*",
                "chalk": "^4.0.0",
                "co": "^4.6.0",
                "dedent": "^1.0.0",
                "is-generator-fn": "^2.0.0",
                "jest-each": "^29.7.0",
                "jest-matcher-utils": "^29.7.0",
                "jest-message-util": "^29.7.0",
                "jest-runtime": "^29.7.0",
                "jest-snapshot": "^29.7.0",
                "jest-util": "^29.7.0",
                "p-limit": "^3.1.0",
                "pretty-format": "^29.7.0",
                "pure-rand": "^6.0.0",
                "slash": "^3.0.0",
                "stack-utils": "^2.0.3"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-circus/node_modules/ansi-styles": {
              "version": "5.2.0",
              "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-5.2.0.tgz",
              "integrity": "sha512-Cxwpt2SfTzTtXcfOlzGEee8O+c+MmUgGrNiBcXnuWxuFJHe6a5Hz7qwhwe5OgaSYI0IJvkLqWX1ASG+cJOkEiA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
              }
            },
            "node_modules/jest-circus/node_modules/pretty-format": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/pretty-format/-/pretty-format-29.7.0.tgz",
              "integrity": "sha512-Pdlw/oPxN+aXdmM9R00JVC9WVFoCLTKJvDVLgmJ+qAffBMxsV85l/Lu7sNx4zSzPyoL2euImuEwHhOXdEgNFZQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/schemas": "^29.6.3",
                "ansi-styles": "^5.0.0",
                "react-is": "^18.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-circus/node_modules/react-is": {
              "version": "18.3.1",
              "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
              "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/jest-cli": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-cli/-/jest-cli-29.7.0.tgz",
              "integrity": "sha512-OVVobw2IubN/GSYsxETi+gOe7Ka59EFMR/twOU3Jb2GnKKeMGJB5SGUUrEz3SFVmJASUdZUzy83sLNNQ2gZslg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/core": "^29.7.0",
                "@jest/test-result": "^29.7.0",
                "@jest/types": "^29.6.3",
                "chalk": "^4.0.0",
                "create-jest": "^29.7.0",
                "exit": "^0.1.2",
                "import-local": "^3.0.2",
                "jest-config": "^29.7.0",
                "jest-util": "^29.7.0",
                "jest-validate": "^29.7.0",
                "yargs": "^17.3.1"
              },
              "bin": {
                "jest": "bin/jest.js"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              },
              "peerDependencies": {
                "node-notifier": "^8.0.1 || ^9.0.0 || ^10.0.0"
              },
              "peerDependenciesMeta": {
                "node-notifier": {
                  "optional": true
                }
              }
            },
            "node_modules/jest-config": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-config/-/jest-config-29.7.0.tgz",
              "integrity": "sha512-uXbpfeQ7R6TZBqI3/TxCU4q4ttk3u0PJeC+E0zbfSoSjq6bJ7buBPxzQPL0ifrkY4DNu4JUdk0ImlBUYi840eQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/core": "^7.11.6",
                "@jest/test-sequencer": "^29.7.0",
                "@jest/types": "^29.6.3",
                "babel-jest": "^29.7.0",
                "chalk": "^4.0.0",
                "ci-info": "^3.2.0",
                "deepmerge": "^4.2.2",
                "glob": "^7.1.3",
                "graceful-fs": "^4.2.9",
                "jest-circus": "^29.7.0",
                "jest-environment-node": "^29.7.0",
                "jest-get-type": "^29.6.3",
                "jest-regex-util": "^29.6.3",
                "jest-resolve": "^29.7.0",
                "jest-runner": "^29.7.0",
                "jest-util": "^29.7.0",
                "jest-validate": "^29.7.0",
                "micromatch": "^4.0.4",
                "parse-json": "^5.2.0",
                "pretty-format": "^29.7.0",
                "slash": "^3.0.0",
                "strip-json-comments": "^3.1.1"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              },
              "peerDependencies": {
                "@types/node": "*",
                "ts-node": ">=9.0.0"
              },
              "peerDependenciesMeta": {
                "@types/node": {
                  "optional": true
                },
                "ts-node": {
                  "optional": true
                }
              }
            },
            "node_modules/jest-config/node_modules/ansi-styles": {
              "version": "5.2.0",
              "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-5.2.0.tgz",
              "integrity": "sha512-Cxwpt2SfTzTtXcfOlzGEee8O+c+MmUgGrNiBcXnuWxuFJHe6a5Hz7qwhwe5OgaSYI0IJvkLqWX1ASG+cJOkEiA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
              }
            },
            "node_modules/jest-config/node_modules/pretty-format": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/pretty-format/-/pretty-format-29.7.0.tgz",
              "integrity": "sha512-Pdlw/oPxN+aXdmM9R00JVC9WVFoCLTKJvDVLgmJ+qAffBMxsV85l/Lu7sNx4zSzPyoL2euImuEwHhOXdEgNFZQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/schemas": "^29.6.3",
                "ansi-styles": "^5.0.0",
                "react-is": "^18.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-config/node_modules/react-is": {
              "version": "18.3.1",
              "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
              "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/jest-diff": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-diff/-/jest-diff-29.7.0.tgz",
              "integrity": "sha512-LMIgiIrhigmPrs03JHpxUh2yISK3vLFPkAodPeo0+BuF7wA2FoQbkEg1u8gBYBThncu7e1oEDUfIXVuTqLRUjw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "chalk": "^4.0.0",
                "diff-sequences": "^29.6.3",
                "jest-get-type": "^29.6.3",
                "pretty-format": "^29.7.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-diff/node_modules/ansi-styles": {
              "version": "5.2.0",
              "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-5.2.0.tgz",
              "integrity": "sha512-Cxwpt2SfTzTtXcfOlzGEee8O+c+MmUgGrNiBcXnuWxuFJHe6a5Hz7qwhwe5OgaSYI0IJvkLqWX1ASG+cJOkEiA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
              }
            },
            "node_modules/jest-diff/node_modules/pretty-format": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/pretty-format/-/pretty-format-29.7.0.tgz",
              "integrity": "sha512-Pdlw/oPxN+aXdmM9R00JVC9WVFoCLTKJvDVLgmJ+qAffBMxsV85l/Lu7sNx4zSzPyoL2euImuEwHhOXdEgNFZQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/schemas": "^29.6.3",
                "ansi-styles": "^5.0.0",
                "react-is": "^18.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-diff/node_modules/react-is": {
              "version": "18.3.1",
              "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
              "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/jest-docblock": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-docblock/-/jest-docblock-29.7.0.tgz",
              "integrity": "sha512-q617Auw3A612guyaFgsbFeYpNP5t2aoUNLwBUbc/0kD1R4t9ixDbyFTHd1nok4epoVFpr7PmeWHrhvuV3XaJ4g==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "detect-newline": "^3.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-each": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-each/-/jest-each-29.7.0.tgz",
              "integrity": "sha512-gns+Er14+ZrEoC5fhOfYCY1LOHHr0TI+rQUHZS8Ttw2l7gl+80eHc/gFf2Ktkw0+SIACDTeWvpFcv3B04VembQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/types": "^29.6.3",
                "chalk": "^4.0.0",
                "jest-get-type": "^29.6.3",
                "jest-util": "^29.7.0",
                "pretty-format": "^29.7.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-each/node_modules/ansi-styles": {
              "version": "5.2.0",
              "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-5.2.0.tgz",
              "integrity": "sha512-Cxwpt2SfTzTtXcfOlzGEee8O+c+MmUgGrNiBcXnuWxuFJHe6a5Hz7qwhwe5OgaSYI0IJvkLqWX1ASG+cJOkEiA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
              }
            },
            "node_modules/jest-each/node_modules/pretty-format": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/pretty-format/-/pretty-format-29.7.0.tgz",
              "integrity": "sha512-Pdlw/oPxN+aXdmM9R00JVC9WVFoCLTKJvDVLgmJ+qAffBMxsV85l/Lu7sNx4zSzPyoL2euImuEwHhOXdEgNFZQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/schemas": "^29.6.3",
                "ansi-styles": "^5.0.0",
                "react-is": "^18.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-each/node_modules/react-is": {
              "version": "18.3.1",
              "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
              "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/jest-environment-jsdom": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-environment-jsdom/-/jest-environment-jsdom-29.7.0.tgz",
              "integrity": "sha512-k9iQbsf9OyOfdzWH8HDmrRT0gSIcX+FLNW7IQq94tFX0gynPwqDTW0Ho6iMVNjGz/nb+l/vW3dWM2bbLLpkbXA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/environment": "^29.7.0",
                "@jest/fake-timers": "^29.7.0",
                "@jest/types": "^29.6.3",
                "@types/jsdom": "^20.0.0",
                "@types/node": "*",
                "jest-mock": "^29.7.0",
                "jest-util": "^29.7.0",
                "jsdom": "^20.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              },
              "peerDependencies": {
                "canvas": "^2.5.0"
              },
              "peerDependenciesMeta": {
                "canvas": {
                  "optional": true
                }
              }
            },
            "node_modules/jest-environment-node": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-environment-node/-/jest-environment-node-29.7.0.tgz",
              "integrity": "sha512-DOSwCRqXirTOyheM+4d5YZOrWcdu0LNZ87ewUoywbcb2XR4wKgqiG8vNeYwhjFMbEkfju7wx2GYH0P2gevGvFw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/environment": "^29.7.0",
                "@jest/fake-timers": "^29.7.0",
                "@jest/types": "^29.6.3",
                "@types/node": "*",
                "jest-mock": "^29.7.0",
                "jest-util": "^29.7.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-get-type": {
              "version": "29.6.3",
              "resolved": "https://registry.npmjs.org/jest-get-type/-/jest-get-type-29.6.3.tgz",
              "integrity": "sha512-zrteXnqYxfQh7l5FHyL38jL39di8H8rHoecLH3JNxH3BwOrBsNeabdap5e0I23lD4HHI8W5VFBZqG4Eaq5LNcw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-haste-map": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-haste-map/-/jest-haste-map-29.7.0.tgz",
              "integrity": "sha512-fP8u2pyfqx0K1rGn1R9pyE0/KTn+G7PxktWidOBTqFPLYX0b9ksaMFkhK5vrS3DVun09pckLdlx90QthlW7AmA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/types": "^29.6.3",
                "@types/graceful-fs": "^4.1.3",
                "@types/node": "*",
                "anymatch": "^3.0.3",
                "fb-watchman": "^2.0.0",
                "graceful-fs": "^4.2.9",
                "jest-regex-util": "^29.6.3",
                "jest-util": "^29.7.0",
                "jest-worker": "^29.7.0",
                "micromatch": "^4.0.4",
                "walker": "^1.0.8"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              },
              "optionalDependencies": {
                "fsevents": "^2.3.2"
              }
            },
            "node_modules/jest-leak-detector": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-leak-detector/-/jest-leak-detector-29.7.0.tgz",
              "integrity": "sha512-kYA8IJcSYtST2BY9I+SMC32nDpBT3J2NvWJx8+JCuCdl/CR1I4EKUJROiP8XtCcxqgTTBGJNdbB1A8XRKbTetw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "jest-get-type": "^29.6.3",
                "pretty-format": "^29.7.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-leak-detector/node_modules/ansi-styles": {
              "version": "5.2.0",
              "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-5.2.0.tgz",
              "integrity": "sha512-Cxwpt2SfTzTtXcfOlzGEee8O+c+MmUgGrNiBcXnuWxuFJHe6a5Hz7qwhwe5OgaSYI0IJvkLqWX1ASG+cJOkEiA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
              }
            },
            "node_modules/jest-leak-detector/node_modules/pretty-format": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/pretty-format/-/pretty-format-29.7.0.tgz",
              "integrity": "sha512-Pdlw/oPxN+aXdmM9R00JVC9WVFoCLTKJvDVLgmJ+qAffBMxsV85l/Lu7sNx4zSzPyoL2euImuEwHhOXdEgNFZQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/schemas": "^29.6.3",
                "ansi-styles": "^5.0.0",
                "react-is": "^18.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-leak-detector/node_modules/react-is": {
              "version": "18.3.1",
              "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
              "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/jest-matcher-utils": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-matcher-utils/-/jest-matcher-utils-29.7.0.tgz",
              "integrity": "sha512-sBkD+Xi9DtcChsI3L3u0+N0opgPYnCRPtGcQYrgXmR+hmt/fYfWAL0xRXYU8eWOdfuLgBe0YCW3AFtnRLagq/g==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "chalk": "^4.0.0",
                "jest-diff": "^29.7.0",
                "jest-get-type": "^29.6.3",
                "pretty-format": "^29.7.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-matcher-utils/node_modules/ansi-styles": {
              "version": "5.2.0",
              "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-5.2.0.tgz",
              "integrity": "sha512-Cxwpt2SfTzTtXcfOlzGEee8O+c+MmUgGrNiBcXnuWxuFJHe6a5Hz7qwhwe5OgaSYI0IJvkLqWX1ASG+cJOkEiA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
              }
            },
            "node_modules/jest-matcher-utils/node_modules/pretty-format": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/pretty-format/-/pretty-format-29.7.0.tgz",
              "integrity": "sha512-Pdlw/oPxN+aXdmM9R00JVC9WVFoCLTKJvDVLgmJ+qAffBMxsV85l/Lu7sNx4zSzPyoL2euImuEwHhOXdEgNFZQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/schemas": "^29.6.3",
                "ansi-styles": "^5.0.0",
                "react-is": "^18.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-matcher-utils/node_modules/react-is": {
              "version": "18.3.1",
              "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
              "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/jest-message-util": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-message-util/-/jest-message-util-29.7.0.tgz",
              "integrity": "sha512-GBEV4GRADeP+qtB2+6u61stea8mGcOT4mCtrYISZwfu9/ISHFJ/5zOMXYbpBE9RsS5+Gb63DW4FgmnKJ79Kf6w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/code-frame": "^7.12.13",
                "@jest/types": "^29.6.3",
                "@types/stack-utils": "^2.0.0",
                "chalk": "^4.0.0",
                "graceful-fs": "^4.2.9",
                "micromatch": "^4.0.4",
                "pretty-format": "^29.7.0",
                "slash": "^3.0.0",
                "stack-utils": "^2.0.3"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-message-util/node_modules/ansi-styles": {
              "version": "5.2.0",
              "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-5.2.0.tgz",
              "integrity": "sha512-Cxwpt2SfTzTtXcfOlzGEee8O+c+MmUgGrNiBcXnuWxuFJHe6a5Hz7qwhwe5OgaSYI0IJvkLqWX1ASG+cJOkEiA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
              }
            },
            "node_modules/jest-message-util/node_modules/pretty-format": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/pretty-format/-/pretty-format-29.7.0.tgz",
              "integrity": "sha512-Pdlw/oPxN+aXdmM9R00JVC9WVFoCLTKJvDVLgmJ+qAffBMxsV85l/Lu7sNx4zSzPyoL2euImuEwHhOXdEgNFZQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/schemas": "^29.6.3",
                "ansi-styles": "^5.0.0",
                "react-is": "^18.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-message-util/node_modules/react-is": {
              "version": "18.3.1",
              "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
              "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/jest-mock": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-mock/-/jest-mock-29.7.0.tgz",
              "integrity": "sha512-ITOMZn+UkYS4ZFh83xYAOzWStloNzJFO2s8DWrE4lhtGD+AorgnbkiKERe4wQVBydIGPx059g6riW5Btp6Llnw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/types": "^29.6.3",
                "@types/node": "*",
                "jest-util": "^29.7.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-pnp-resolver": {
              "version": "1.2.3",
              "resolved": "https://registry.npmjs.org/jest-pnp-resolver/-/jest-pnp-resolver-1.2.3.tgz",
              "integrity": "sha512-+3NpwQEnRoIBtx4fyhblQDPgJI0H1IEIkX7ShLUjPGA7TtUTvI1oiKi3SR4oBR0hQhQR80l4WAe5RrXBwWMA8w==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6"
              },
              "peerDependencies": {
                "jest-resolve": "*"
              },
              "peerDependenciesMeta": {
                "jest-resolve": {
                  "optional": true
                }
              }
            },
            "node_modules/jest-regex-util": {
              "version": "29.6.3",
              "resolved": "https://registry.npmjs.org/jest-regex-util/-/jest-regex-util-29.6.3.tgz",
              "integrity": "sha512-KJJBsRCyyLNWCNBOvZyRDnAIfUiRJ8v+hOBQYGn8gDyF3UegwiP4gwRR3/SDa42g1YbVycTidUF3rKjyLFDWbg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-resolve": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-resolve/-/jest-resolve-29.7.0.tgz",
              "integrity": "sha512-IOVhZSrg+UvVAshDSDtHyFCCBUl/Q3AAJv8iZ6ZjnZ74xzvwuzLXid9IIIPgTnY62SJjfuupMKZsZQRsCvxEgA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "chalk": "^4.0.0",
                "graceful-fs": "^4.2.9",
                "jest-haste-map": "^29.7.0",
                "jest-pnp-resolver": "^1.2.2",
                "jest-util": "^29.7.0",
                "jest-validate": "^29.7.0",
                "resolve": "^1.20.0",
                "resolve.exports": "^2.0.0",
                "slash": "^3.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-resolve-dependencies": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-resolve-dependencies/-/jest-resolve-dependencies-29.7.0.tgz",
              "integrity": "sha512-un0zD/6qxJ+S0et7WxeI3H5XSe9lTBBR7bOHCHXkKR6luG5mwDDlIzVQ0V5cZCuoTgEdcdwzTghYkTWfubi+nA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "jest-regex-util": "^29.6.3",
                "jest-snapshot": "^29.7.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-runner": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-runner/-/jest-runner-29.7.0.tgz",
              "integrity": "sha512-fsc4N6cPCAahybGBfTRcq5wFR6fpLznMg47sY5aDpsoejOcVYFb07AHuSnR0liMcPTgBsA3ZJL6kFOjPdoNipQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/console": "^29.7.0",
                "@jest/environment": "^29.7.0",
                "@jest/test-result": "^29.7.0",
                "@jest/transform": "^29.7.0",
                "@jest/types": "^29.6.3",
                "@types/node": "*",
                "chalk": "^4.0.0",
                "emittery": "^0.13.1",
                "graceful-fs": "^4.2.9",
                "jest-docblock": "^29.7.0",
                "jest-environment-node": "^29.7.0",
                "jest-haste-map": "^29.7.0",
                "jest-leak-detector": "^29.7.0",
                "jest-message-util": "^29.7.0",
                "jest-resolve": "^29.7.0",
                "jest-runtime": "^29.7.0",
                "jest-util": "^29.7.0",
                "jest-watcher": "^29.7.0",
                "jest-worker": "^29.7.0",
                "p-limit": "^3.1.0",
                "source-map-support": "0.5.13"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-runtime": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-runtime/-/jest-runtime-29.7.0.tgz",
              "integrity": "sha512-gUnLjgwdGqW7B4LvOIkbKs9WGbn+QLqRQQ9juC6HndeDiezIwhDP+mhMwHWCEcfQ5RUXa6OPnFF8BJh5xegwwQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/environment": "^29.7.0",
                "@jest/fake-timers": "^29.7.0",
                "@jest/globals": "^29.7.0",
                "@jest/source-map": "^29.6.3",
                "@jest/test-result": "^29.7.0",
                "@jest/transform": "^29.7.0",
                "@jest/types": "^29.6.3",
                "@types/node": "*",
                "chalk": "^4.0.0",
                "cjs-module-lexer": "^1.0.0",
                "collect-v8-coverage": "^1.0.0",
                "glob": "^7.1.3",
                "graceful-fs": "^4.2.9",
                "jest-haste-map": "^29.7.0",
                "jest-message-util": "^29.7.0",
                "jest-mock": "^29.7.0",
                "jest-regex-util": "^29.6.3",
                "jest-resolve": "^29.7.0",
                "jest-snapshot": "^29.7.0",
                "jest-util": "^29.7.0",
                "slash": "^3.0.0",
                "strip-bom": "^4.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-snapshot": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-snapshot/-/jest-snapshot-29.7.0.tgz",
              "integrity": "sha512-Rm0BMWtxBcioHr1/OX5YCP8Uov4riHvKPknOGs804Zg9JGZgmIBkbtlxJC/7Z4msKYVbIJtfU+tKb8xlYNfdkw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/core": "^7.11.6",
                "@babel/generator": "^7.7.2",
                "@babel/plugin-syntax-jsx": "^7.7.2",
                "@babel/plugin-syntax-typescript": "^7.7.2",
                "@babel/types": "^7.3.3",
                "@jest/expect-utils": "^29.7.0",
                "@jest/transform": "^29.7.0",
                "@jest/types": "^29.6.3",
                "babel-preset-current-node-syntax": "^1.0.0",
                "chalk": "^4.0.0",
                "expect": "^29.7.0",
                "graceful-fs": "^4.2.9",
                "jest-diff": "^29.7.0",
                "jest-get-type": "^29.6.3",
                "jest-matcher-utils": "^29.7.0",
                "jest-message-util": "^29.7.0",
                "jest-util": "^29.7.0",
                "natural-compare": "^1.4.0",
                "pretty-format": "^29.7.0",
                "semver": "^7.5.3"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-snapshot/node_modules/ansi-styles": {
              "version": "5.2.0",
              "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-5.2.0.tgz",
              "integrity": "sha512-Cxwpt2SfTzTtXcfOlzGEee8O+c+MmUgGrNiBcXnuWxuFJHe6a5Hz7qwhwe5OgaSYI0IJvkLqWX1ASG+cJOkEiA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
              }
            },
            "node_modules/jest-snapshot/node_modules/pretty-format": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/pretty-format/-/pretty-format-29.7.0.tgz",
              "integrity": "sha512-Pdlw/oPxN+aXdmM9R00JVC9WVFoCLTKJvDVLgmJ+qAffBMxsV85l/Lu7sNx4zSzPyoL2euImuEwHhOXdEgNFZQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/schemas": "^29.6.3",
                "ansi-styles": "^5.0.0",
                "react-is": "^18.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-snapshot/node_modules/react-is": {
              "version": "18.3.1",
              "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
              "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/jest-snapshot/node_modules/semver": {
              "version": "7.7.2",
              "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.2.tgz",
              "integrity": "sha512-RF0Fw+rO5AMf9MAyaRXI4AV0Ulj5lMHqVxxdSgiVbixSCXoEmmX/jk0CuJw4+3SqroYO9VoUh+HcuJivvtJemA==",
              "dev": true,
              "license": "ISC",
              "bin": {
                "semver": "bin/semver.js"
              },
              "engines": {
                "node": ">=10"
              }
            },
            "node_modules/jest-util": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-util/-/jest-util-29.7.0.tgz",
              "integrity": "sha512-z6EbKajIpqGKU56y5KBUgy1dt1ihhQJgWzUlZHArA/+X2ad7Cb5iF+AK1EWVL/Bo7Rz9uurpqw6SiBCefUbCGA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/types": "^29.6.3",
                "@types/node": "*",
                "chalk": "^4.0.0",
                "ci-info": "^3.2.0",
                "graceful-fs": "^4.2.9",
                "picomatch": "^2.2.3"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-validate": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-validate/-/jest-validate-29.7.0.tgz",
              "integrity": "sha512-ZB7wHqaRGVw/9hST/OuFUReG7M8vKeq0/J2egIGLdvjHCmYqGARhzXmtgi+gVeZ5uXFF219aOc3Ls2yLg27tkw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/types": "^29.6.3",
                "camelcase": "^6.2.0",
                "chalk": "^4.0.0",
                "jest-get-type": "^29.6.3",
                "leven": "^3.1.0",
                "pretty-format": "^29.7.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-validate/node_modules/ansi-styles": {
              "version": "5.2.0",
              "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-5.2.0.tgz",
              "integrity": "sha512-Cxwpt2SfTzTtXcfOlzGEee8O+c+MmUgGrNiBcXnuWxuFJHe6a5Hz7qwhwe5OgaSYI0IJvkLqWX1ASG+cJOkEiA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
              }
            },
            "node_modules/jest-validate/node_modules/camelcase": {
              "version": "6.3.0",
              "resolved": "https://registry.npmjs.org/camelcase/-/camelcase-6.3.0.tgz",
              "integrity": "sha512-Gmy6FhYlCY7uOElZUSbxo2UCDH8owEk996gkbrpsgGtrJLM3J7jGxl9Ic7Qwwj4ivOE5AWZWRMecDdF7hqGjFA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/jest-validate/node_modules/pretty-format": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/pretty-format/-/pretty-format-29.7.0.tgz",
              "integrity": "sha512-Pdlw/oPxN+aXdmM9R00JVC9WVFoCLTKJvDVLgmJ+qAffBMxsV85l/Lu7sNx4zSzPyoL2euImuEwHhOXdEgNFZQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/schemas": "^29.6.3",
                "ansi-styles": "^5.0.0",
                "react-is": "^18.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-validate/node_modules/react-is": {
              "version": "18.3.1",
              "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
              "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/jest-watcher": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-watcher/-/jest-watcher-29.7.0.tgz",
              "integrity": "sha512-49Fg7WXkU3Vl2h6LbLtMQ/HyB6rXSIX7SqvBLQmssRBGN9I0PNvPmAmCWSOY6SOvrjhI/F7/bGAv9RtnsPA03g==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jest/test-result": "^29.7.0",
                "@jest/types": "^29.6.3",
                "@types/node": "*",
                "ansi-escapes": "^4.2.1",
                "chalk": "^4.0.0",
                "emittery": "^0.13.1",
                "jest-util": "^29.7.0",
                "string-length": "^4.0.1"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-worker": {
              "version": "29.7.0",
              "resolved": "https://registry.npmjs.org/jest-worker/-/jest-worker-29.7.0.tgz",
              "integrity": "sha512-eIz2msL/EzL9UFTFFx7jBTkeZfku0yUAyZZZmJ93H2TYEiroIx2PQjEXcwYtYl8zXCxb+PAmA2hLIt/6ZEkPHw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@types/node": "*",
                "jest-util": "^29.7.0",
                "merge-stream": "^2.0.0",
                "supports-color": "^8.0.0"
              },
              "engines": {
                "node": "^14.15.0 || ^16.10.0 || >=18.0.0"
              }
            },
            "node_modules/jest-worker/node_modules/supports-color": {
              "version": "8.1.1",
              "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-8.1.1.tgz",
              "integrity": "sha512-MpUEN2OodtUzxvKQl72cUF7RQ5EiHsGvSsVG0ia9c5RbWGL2CI4C7EpPS8UTBIplnlzZiNuV56w+FuNxy3ty2Q==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "has-flag": "^4.0.0"
              },
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/supports-color?sponsor=1"
              }
            },
            "node_modules/jiti": {
              "version": "1.21.7",
              "resolved": "https://registry.npmjs.org/jiti/-/jiti-1.21.7.tgz",
              "integrity": "sha512-/imKNG4EbWNrVjoNC/1H5/9GFy+tqjGBHCaSsN+P2RnPqjsLmv6UD3Ej+Kj8nBWaRAwyk7kK5ZUc+OEatnTR3A==",
              "dev": true,
              "license": "MIT",
              "bin": {
                "jiti": "bin/jiti.js"
              }
            },
            "node_modules/js-tokens": {
              "version": "4.0.0",
              "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
              "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
              "license": "MIT"
            },
            "node_modules/js-yaml": {
              "version": "3.14.1",
              "resolved": "https://registry.npmjs.org/js-yaml/-/js-yaml-3.14.1.tgz",
              "integrity": "sha512-okMH7OXXJ7YrN9Ok3/SXrnu4iX9yOk+25nqX4imS2npuvTYDmo/QEZoqwZkYaIDk3jVvBOTOIEgEhaLOynBS9g==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "argparse": "^1.0.7",
                "esprima": "^4.0.0"
              },
              "bin": {
                "js-yaml": "bin/js-yaml.js"
              }
            },
            "node_modules/jsdom": {
              "version": "20.0.3",
              "resolved": "https://registry.npmjs.org/jsdom/-/jsdom-20.0.3.tgz",
              "integrity": "sha512-SYhBvTh89tTfCD/CRdSOm13mOBa42iTaTyfyEWBdKcGdPxPtLFBXuHR8XHb33YNYaP+lLbmSvBTsnoesCNJEsQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "abab": "^2.0.6",
                "acorn": "^8.8.1",
                "acorn-globals": "^7.0.0",
                "cssom": "^0.5.0",
                "cssstyle": "^2.3.0",
                "data-urls": "^3.0.2",
                "decimal.js": "^10.4.2",
                "domexception": "^4.0.0",
                "escodegen": "^2.0.0",
                "form-data": "^4.0.0",
                "html-encoding-sniffer": "^3.0.0",
                "http-proxy-agent": "^5.0.0",
                "https-proxy-agent": "^5.0.1",
                "is-potential-custom-element-name": "^1.0.1",
                "nwsapi": "^2.2.2",
                "parse5": "^7.1.1",
                "saxes": "^6.0.0",
                "symbol-tree": "^3.2.4",
                "tough-cookie": "^4.1.2",
                "w3c-xmlserializer": "^4.0.0",
                "webidl-conversions": "^7.0.0",
                "whatwg-encoding": "^2.0.0",
                "whatwg-mimetype": "^3.0.0",
                "whatwg-url": "^11.0.0",
                "ws": "^8.11.0",
                "xml-name-validator": "^4.0.0"
              },
              "engines": {
                "node": ">=14"
              },
              "peerDependencies": {
                "canvas": "^2.5.0"
              },
              "peerDependenciesMeta": {
                "canvas": {
                  "optional": true
                }
              }
            },
            "node_modules/jsdom/node_modules/agent-base": {
              "version": "6.0.2",
              "resolved": "https://registry.npmjs.org/agent-base/-/agent-base-6.0.2.tgz",
              "integrity": "sha512-RZNwNclF7+MS/8bDg70amg32dyeZGZxiDuQmZxKLAlQjr3jGyLx+4Kkk58UO7D2QdgFIQCovuSuZESne6RG6XQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "debug": "4"
              },
              "engines": {
                "node": ">= 6.0.0"
              }
            },
            "node_modules/jsdom/node_modules/https-proxy-agent": {
              "version": "5.0.1",
              "resolved": "https://registry.npmjs.org/https-proxy-agent/-/https-proxy-agent-5.0.1.tgz",
              "integrity": "sha512-dFcAjpTQFgoLMzC2VwU+C/CbS7uRL0lWmxDITmqm7C+7F0Odmj6s9l6alZc6AELXhrnggM2CeWSXHGOdX2YtwA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "agent-base": "6",
                "debug": "4"
              },
              "engines": {
                "node": ">= 6"
              }
            },
            "node_modules/jsesc": {
              "version": "3.1.0",
              "resolved": "https://registry.npmjs.org/jsesc/-/jsesc-3.1.0.tgz",
              "integrity": "sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA==",
              "dev": true,
              "license": "MIT",
              "bin": {
                "jsesc": "bin/jsesc"
              },
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/json-bigint": {
              "version": "1.0.0",
              "resolved": "https://registry.npmjs.org/json-bigint/-/json-bigint-1.0.0.tgz",
              "integrity": "sha512-SiPv/8VpZuWbvLSMtTDU8hEfrZWg/mH/nV/b4o0CYbSxu1UIQPLdwKOCIyLQX+VIPO5vrLX3i8qtqFyhdPSUSQ==",
              "license": "MIT",
              "dependencies": {
                "bignumber.js": "^9.0.0"
              }
            },
            "node_modules/json-parse-even-better-errors": {
              "version": "2.3.1",
              "resolved": "https://registry.npmjs.org/json-parse-even-better-errors/-/json-parse-even-better-errors-2.3.1.tgz",
              "integrity": "sha512-xyFwyhro/JEof6Ghe2iz2NcXoj2sloNsWr/XsERDK/oiPCfaNhl5ONfp+jQdAZRQQ0IJWNzH9zIZF7li91kh2w==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/json5": {
              "version": "2.2.3",
              "resolved": "https://registry.npmjs.org/json5/-/json5-2.2.3.tgz",
              "integrity": "sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==",
              "dev": true,
              "license": "MIT",
              "bin": {
                "json5": "lib/cli.js"
              },
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/jspdf": {
              "version": "2.5.2",
              "resolved": "https://registry.npmjs.org/jspdf/-/jspdf-2.5.2.tgz",
              "integrity": "sha512-myeX9c+p7znDWPk0eTrujCzNjT+CXdXyk7YmJq5nD5V7uLLKmSXnlQ/Jn/kuo3X09Op70Apm0rQSnFWyGK8uEQ==",
              "license": "MIT",
              "dependencies": {
                "@babel/runtime": "^7.23.2",
                "atob": "^2.1.2",
                "btoa": "^1.2.1",
                "fflate": "^0.8.1"
              },
              "optionalDependencies": {
                "canvg": "^3.0.6",
                "core-js": "^3.6.0",
                "dompurify": "^2.5.4",
                "html2canvas": "^1.0.0-rc.5"
              }
            },
            "node_modules/jspdf-autotable": {
              "version": "3.8.4",
              "resolved": "https://registry.npmjs.org/jspdf-autotable/-/jspdf-autotable-3.8.4.tgz",
              "integrity": "sha512-rSffGoBsJYX83iTRv8Ft7FhqfgEL2nLpGAIiqruEQQ3e4r0qdLFbPUB7N9HAle0I3XgpisvyW751VHCqKUVOgQ==",
              "license": "MIT",
              "peerDependencies": {
                "jspdf": "^2.5.1"
              }
            },
            "node_modules/jwa": {
              "version": "2.0.1",
              "resolved": "https://registry.npmjs.org/jwa/-/jwa-2.0.1.tgz",
              "integrity": "sha512-hRF04fqJIP8Abbkq5NKGN0Bbr3JxlQ+qhZufXVr0DvujKy93ZCbXZMHDL4EOtodSbCWxOqR8MS1tXA5hwqCXDg==",
              "license": "MIT",
              "dependencies": {
                "buffer-equal-constant-time": "^1.0.1",
                "ecdsa-sig-formatter": "1.0.11",
                "safe-buffer": "^5.0.1"
              }
            },
            "node_modules/jws": {
              "version": "4.0.0",
              "resolved": "https://registry.npmjs.org/jws/-/jws-4.0.0.tgz",
              "integrity": "sha512-KDncfTmOZoOMTFG4mBlG0qUIOlc03fmzH+ru6RgYVZhPkyiy/92Owlt/8UEN+a4TXR1FQetfIpJE8ApdvdVxTg==",
              "license": "MIT",
              "dependencies": {
                "jwa": "^2.0.0",
                "safe-buffer": "^5.0.1"
              }
            },
            "node_modules/kleur": {
              "version": "3.0.3",
              "resolved": "https://registry.npmjs.org/kleur/-/kleur-3.0.3.tgz",
              "integrity": "sha512-eTIzlVOSUR+JxdDFepEYcBMtZ9Qqdef+rnzWdRZuMbOywu5tO2w2N7rqjoANZ5k9vywhL6Br1VRjUIgTQx4E8w==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/leven": {
              "version": "3.1.0",
              "resolved": "https://registry.npmjs.org/leven/-/leven-3.1.0.tgz",
              "integrity": "sha512-qsda+H8jTaUaN/x5vzW2rzc+8Rw4TAQ/4KjB46IwK5VH+IlVeeeje/EoZRpiXvIqjFgK84QffqPztGI3VBLG1A==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/lilconfig": {
              "version": "3.1.3",
              "resolved": "https://registry.npmjs.org/lilconfig/-/lilconfig-3.1.3.tgz",
              "integrity": "sha512-/vlFKAoH5Cgt3Ie+JLhRbwOsCQePABiU3tJ1egGvyQ+33R/vcwM2Zl2QR/LzjsBeItPt3oSVXapn+m4nQDvpzw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=14"
              },
              "funding": {
                "url": "https://github.com/sponsors/antonk52"
              }
            },
            "node_modules/lines-and-columns": {
              "version": "1.2.4",
              "resolved": "https://registry.npmjs.org/lines-and-columns/-/lines-and-columns-1.2.4.tgz",
              "integrity": "sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/locate-path": {
              "version": "5.0.0",
              "resolved": "https://registry.npmjs.org/locate-path/-/locate-path-5.0.0.tgz",
              "integrity": "sha512-t7hw9pI+WvuwNJXwk5zVHpyhIqzg2qTlklJOf0mVxGSbe3Fp2VieZcduNYjaLDoy6p9uGpQEGWG87WpMKlNq8g==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "p-locate": "^4.1.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/lodash": {
              "version": "4.17.21",
              "resolved": "https://registry.npmjs.org/lodash/-/lodash-4.17.21.tgz",
              "integrity": "sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/loose-envify": {
              "version": "1.4.0",
              "resolved": "https://registry.npmjs.org/loose-envify/-/loose-envify-1.4.0.tgz",
              "integrity": "sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==",
              "license": "MIT",
              "dependencies": {
                "js-tokens": "^3.0.0 || ^4.0.0"
              },
              "bin": {
                "loose-envify": "cli.js"
              }
            },
            "node_modules/lru-cache": {
              "version": "5.1.1",
              "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-5.1.1.tgz",
              "integrity": "sha512-KpNARQA3Iwv+jTA0utUVVbrh+Jlrr1Fv0e56GGzAFOXN7dk/FviaDW8LHmK52DlcH4WP2n6gI8vN1aesBFgo9w==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "yallist": "^3.0.2"
              }
            },
            "node_modules/lz-string": {
              "version": "1.5.0",
              "resolved": "https://registry.npmjs.org/lz-string/-/lz-string-1.5.0.tgz",
              "integrity": "sha512-h5bgJWpxJNswbU7qCrV0tIKQCaS3blPDrqKWx+QxzuzL1zGUzij9XCWLrSLsJPu5t+eWA/ycetzYAO5IOMcWAQ==",
              "dev": true,
              "license": "MIT",
              "bin": {
                "lz-string": "bin/bin.js"
              }
            },
            "node_modules/make-dir": {
              "version": "4.0.0",
              "resolved": "https://registry.npmjs.org/make-dir/-/make-dir-4.0.0.tgz",
              "integrity": "sha512-hXdUTZYIVOt1Ex//jAQi+wTZZpUpwBj/0QsOzqegb3rGMMeJiSEu5xLHnYfBrRV4RH2+OCSOO95Is/7x1WJ4bw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "semver": "^7.5.3"
              },
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/make-dir/node_modules/semver": {
              "version": "7.7.2",
              "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.2.tgz",
              "integrity": "sha512-RF0Fw+rO5AMf9MAyaRXI4AV0Ulj5lMHqVxxdSgiVbixSCXoEmmX/jk0CuJw4+3SqroYO9VoUh+HcuJivvtJemA==",
              "dev": true,
              "license": "ISC",
              "bin": {
                "semver": "bin/semver.js"
              },
              "engines": {
                "node": ">=10"
              }
            },
            "node_modules/makeerror": {
              "version": "1.0.12",
              "resolved": "https://registry.npmjs.org/makeerror/-/makeerror-1.0.12.tgz",
              "integrity": "sha512-JmqCvUhmt43madlpFzG4BQzG2Z3m6tvQDNKdClZnO3VbIudJYmxsT0FNJMeiB2+JTSlTQTSbU8QdesVmwJcmLg==",
              "dev": true,
              "license": "BSD-3-Clause",
              "dependencies": {
                "tmpl": "1.0.5"
              }
            },
            "node_modules/math-intrinsics": {
              "version": "1.1.0",
              "resolved": "https://registry.npmjs.org/math-intrinsics/-/math-intrinsics-1.1.0.tgz",
              "integrity": "sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==",
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/memoize-one": {
              "version": "6.0.0",
              "resolved": "https://registry.npmjs.org/memoize-one/-/memoize-one-6.0.0.tgz",
              "integrity": "sha512-rkpe71W0N0c0Xz6QD0eJETuWAJGnJ9afsl1srmwPrI+yBCkge5EycXXbYRyvL29zZVUWQCY7InPRCv3GDXuZNw==",
              "license": "MIT"
            },
            "node_modules/merge-stream": {
              "version": "2.0.0",
              "resolved": "https://registry.npmjs.org/merge-stream/-/merge-stream-2.0.0.tgz",
              "integrity": "sha512-abv/qOcuPfk3URPfDzmZU1LKmuw8kT+0nIHvKrKgFrwifol/doWcdA4ZqsWQ8ENrFKkd67Mfpo/LovbIUsbt3w==",
              "license": "MIT"
            },
            "node_modules/merge2": {
              "version": "1.4.1",
              "resolved": "https://registry.npmjs.org/merge2/-/merge2-1.4.1.tgz",
              "integrity": "sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 8"
              }
            },
            "node_modules/micromatch": {
              "version": "4.0.8",
              "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
              "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "braces": "^3.0.3",
                "picomatch": "^2.3.1"
              },
              "engines": {
                "node": ">=8.6"
              }
            },
            "node_modules/mime-db": {
              "version": "1.52.0",
              "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz",
              "integrity": "sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 0.6"
              }
            },
            "node_modules/mime-types": {
              "version": "2.1.35",
              "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz",
              "integrity": "sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "mime-db": "1.52.0"
              },
              "engines": {
                "node": ">= 0.6"
              }
            },
            "node_modules/mimic-fn": {
              "version": "2.1.0",
              "resolved": "https://registry.npmjs.org/mimic-fn/-/mimic-fn-2.1.0.tgz",
              "integrity": "sha512-OqbOk5oEQeAZ8WXWydlu9HJjz9WVdEIvamMCcXmuqUYjTknH/sqsWvhQ3vgwKFRR1HpjvNBKQ37nbJgYzGqGcg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/min-indent": {
              "version": "1.0.1",
              "resolved": "https://registry.npmjs.org/min-indent/-/min-indent-1.0.1.tgz",
              "integrity": "sha512-I9jwMn07Sy/IwOj3zVkVik2JTvgpaykDZEigL6Rx6N9LbMywwUSMtxET+7lVoDLLd3O3IXwJwvuuns8UB/HeAg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=4"
              }
            },
            "node_modules/minimatch": {
              "version": "3.1.2",
              "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz",
              "integrity": "sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "brace-expansion": "^1.1.7"
              },
              "engines": {
                "node": "*"
              }
            },
            "node_modules/minipass": {
              "version": "7.1.2",
              "resolved": "https://registry.npmjs.org/minipass/-/minipass-7.1.2.tgz",
              "integrity": "sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==",
              "dev": true,
              "license": "ISC",
              "engines": {
                "node": ">=16 || 14 >=14.17"
              }
            },
            "node_modules/ms": {
              "version": "2.1.3",
              "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
              "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
              "license": "MIT"
            },
            "node_modules/mz": {
              "version": "2.7.0",
              "resolved": "https://registry.npmjs.org/mz/-/mz-2.7.0.tgz",
              "integrity": "sha512-z81GNO7nnYMEhrGh9LeymoE4+Yr0Wn5McHIZMK5cfQCl+NDX08sCZgUc9/6MHni9IWuFLm1Z3HTCXu2z9fN62Q==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "any-promise": "^1.0.0",
                "object-assign": "^4.0.1",
                "thenify-all": "^1.0.0"
              }
            },
            "node_modules/nanoid": {
              "version": "3.3.11",
              "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.11.tgz",
              "integrity": "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==",
              "funding": [
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/ai"
                }
              ],
              "license": "MIT",
              "bin": {
                "nanoid": "bin/nanoid.cjs"
              },
              "engines": {
                "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
              }
            },
            "node_modules/natural-compare": {
              "version": "1.4.0",
              "resolved": "https://registry.npmjs.org/natural-compare/-/natural-compare-1.4.0.tgz",
              "integrity": "sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/next": {
              "version": "14.2.30",
              "resolved": "https://registry.npmjs.org/next/-/next-14.2.30.tgz",
              "integrity": "sha512-+COdu6HQrHHFQ1S/8BBsCag61jZacmvbuL2avHvQFbWa2Ox7bE+d8FyNgxRLjXQ5wtPyQwEmk85js/AuaG2Sbg==",
              "license": "MIT",
              "dependencies": {
                "@next/env": "14.2.30",
                "@swc/helpers": "0.5.5",
                "busboy": "1.6.0",
                "caniuse-lite": "^1.0.30001579",
                "graceful-fs": "^4.2.11",
                "postcss": "8.4.31",
                "styled-jsx": "5.1.1"
              },
              "bin": {
                "next": "dist/bin/next"
              },
              "engines": {
                "node": ">=18.17.0"
              },
              "optionalDependencies": {
                "@next/swc-darwin-arm64": "14.2.30",
                "@next/swc-darwin-x64": "14.2.30",
                "@next/swc-linux-arm64-gnu": "14.2.30",
                "@next/swc-linux-arm64-musl": "14.2.30",
                "@next/swc-linux-x64-gnu": "14.2.30",
                "@next/swc-linux-x64-musl": "14.2.30",
                "@next/swc-win32-arm64-msvc": "14.2.30",
                "@next/swc-win32-ia32-msvc": "14.2.30",
                "@next/swc-win32-x64-msvc": "14.2.30"
              },
              "peerDependencies": {
                "@opentelemetry/api": "^1.1.0",
                "@playwright/test": "^1.41.2",
                "react": "^18.2.0",
                "react-dom": "^18.2.0",
                "sass": "^1.3.0"
              },
              "peerDependenciesMeta": {
                "@opentelemetry/api": {
                  "optional": true
                },
                "@playwright/test": {
                  "optional": true
                },
                "sass": {
                  "optional": true
                }
              }
            },
            "node_modules/next/node_modules/postcss": {
              "version": "8.4.31",
              "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.4.31.tgz",
              "integrity": "sha512-PS08Iboia9mts/2ygV3eLpY5ghnUcfLV/EXTOW1E2qYxJKGGBUtNjN76FYHnMs36RmARn41bC0AZmn+rR0OVpQ==",
              "funding": [
                {
                  "type": "opencollective",
                  "url": "https://opencollective.com/postcss/"
                },
                {
                  "type": "tidelift",
                  "url": "https://tidelift.com/funding/github/npm/postcss"
                },
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/ai"
                }
              ],
              "license": "MIT",
              "dependencies": {
                "nanoid": "^3.3.6",
                "picocolors": "^1.0.0",
                "source-map-js": "^1.0.2"
              },
              "engines": {
                "node": "^10 || ^12 || >=14"
              }
            },
            "node_modules/node-domexception": {
              "version": "1.0.0",
              "resolved": "https://registry.npmjs.org/node-domexception/-/node-domexception-1.0.0.tgz",
              "integrity": "sha512-/jKZoMpw0F8GRwl4/eLROPA3cfcXtLApP0QzLmUT/HuPCZWyB7IY9ZrMeKw2O/nFIqPQB3PVM9aYm0F312AXDQ==",
              "deprecated": "Use your platform's native DOMException instead",
              "funding": [
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/jimmywarting"
                },
                {
                  "type": "github",
                  "url": "https://paypal.me/jimmywarting"
                }
              ],
              "license": "MIT",
              "engines": {
                "node": ">=10.5.0"
              }
            },
            "node_modules/node-fetch": {
              "version": "3.3.2",
              "resolved": "https://registry.npmjs.org/node-fetch/-/node-fetch-3.3.2.tgz",
              "integrity": "sha512-dRB78srN/l6gqWulah9SrxeYnxeddIG30+GOqK/9OlLVyLg3HPnr6SqOWTWOXKRwC2eGYCkZ59NNuSgvSrpgOA==",
              "license": "MIT",
              "dependencies": {
                "data-uri-to-buffer": "^4.0.0",
                "fetch-blob": "^3.1.4",
                "formdata-polyfill": "^4.0.10"
              },
              "engines": {
                "node": "^12.20.0 || ^14.13.1 || >=16.0.0"
              },
              "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/node-fetch"
              }
            },
            "node_modules/node-int64": {
              "version": "0.4.0",
              "resolved": "https://registry.npmjs.org/node-int64/-/node-int64-0.4.0.tgz",
              "integrity": "sha512-O5lz91xSOeoXP6DulyHfllpq+Eg00MWitZIbtPfoSEvqIHdl5gfcY6hYzDWnj0qD5tz52PI08u9qUvSVeUBeHw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/node-releases": {
              "version": "2.0.19",
              "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.19.tgz",
              "integrity": "sha512-xxOWJsBKtzAq7DY0J+DTzuz58K8e7sJbdgwkbMWQe8UYB6ekmsQ45q0M/tJDsGaZmbC+l7n57UV8Hl5tHxO9uw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/normalize-path": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/normalize-path/-/normalize-path-3.0.0.tgz",
              "integrity": "sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/normalize-range": {
              "version": "0.1.2",
              "resolved": "https://registry.npmjs.org/normalize-range/-/normalize-range-0.1.2.tgz",
              "integrity": "sha512-bdok/XvKII3nUpklnV6P2hxtMNrCboOjAcyBuQnWEhO665FwrSNRxU+AqpsyvO6LgGYPspN+lu5CLtw4jPRKNA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/npm-run-path": {
              "version": "4.0.1",
              "resolved": "https://registry.npmjs.org/npm-run-path/-/npm-run-path-4.0.1.tgz",
              "integrity": "sha512-S48WzZW777zhNIrn7gxOlISNAqi9ZC/uQFnRdbeIHhZhCA6UqpkOT8T1G7BvfdgP4Er8gF4sUbaS0i7QvIfCWw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "path-key": "^3.0.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/nwsapi": {
              "version": "2.2.21",
              "resolved": "https://registry.npmjs.org/nwsapi/-/nwsapi-2.2.21.tgz",
              "integrity": "sha512-o6nIY3qwiSXl7/LuOU0Dmuctd34Yay0yeuZRLFmDPrrdHpXKFndPj3hM+YEPVHYC5fx2otBx4Ilc/gyYSAUaIA==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/object-assign": {
              "version": "4.1.1",
              "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
              "integrity": "sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/object-hash": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/object-hash/-/object-hash-3.0.0.tgz",
              "integrity": "sha512-RSn9F68PjH9HqtltsSnqYC1XXoWe9Bju5+213R98cNGttag9q9yAOTzdbsqvIa7aNm5WffBZFpWYr2aWrklWAw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 6"
              }
            },
            "node_modules/object-inspect": {
              "version": "1.13.4",
              "resolved": "https://registry.npmjs.org/object-inspect/-/object-inspect-1.13.4.tgz",
              "integrity": "sha512-W67iLl4J2EXEGTbfeHCffrjDfitvLANg0UlX3wFUUSTx92KXRFegMHUVgSqE+wvhAbi4WqjGg9czysTV2Epbew==",
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/object-is": {
              "version": "1.1.6",
              "resolved": "https://registry.npmjs.org/object-is/-/object-is-1.1.6.tgz",
              "integrity": "sha512-F8cZ+KfGlSGi09lJT7/Nd6KJZ9ygtvYC0/UYYLI9nmQKLMnydpB9yvbv9K1uSkEu7FU9vYPmVwLg328tX+ot3Q==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bind": "^1.0.7",
                "define-properties": "^1.2.1"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/object-keys": {
              "version": "1.1.1",
              "resolved": "https://registry.npmjs.org/object-keys/-/object-keys-1.1.1.tgz",
              "integrity": "sha512-NuAESUOUMrlIXOfHKzD6bpPu3tYt3xvjNdRIQ+FeT0lNb4K8WR70CaDxhuNguS2XG+GjkyMwOzsN5ZktImfhLA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/object.assign": {
              "version": "4.1.7",
              "resolved": "https://registry.npmjs.org/object.assign/-/object.assign-4.1.7.tgz",
              "integrity": "sha512-nK28WOo+QIjBkDduTINE4JkF/UJJKyf2EJxvJKfblDpyg0Q+pkOHNTL0Qwy6NP6FhE/EnzV73BxxqcJaXY9anw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bind": "^1.0.8",
                "call-bound": "^1.0.3",
                "define-properties": "^1.2.1",
                "es-object-atoms": "^1.0.0",
                "has-symbols": "^1.1.0",
                "object-keys": "^1.1.1"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/once": {
              "version": "1.4.0",
              "resolved": "https://registry.npmjs.org/once/-/once-1.4.0.tgz",
              "integrity": "sha512-lNaJgI+2Q5URQBkccEKHTQOPaXdUxnZZElQTZY0MFUAuaEqe1E+Nyvgdz/aIyNi6Z9MzO5dv1H8n58/GELp3+w==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "wrappy": "1"
              }
            },
            "node_modules/onetime": {
              "version": "5.1.2",
              "resolved": "https://registry.npmjs.org/onetime/-/onetime-5.1.2.tgz",
              "integrity": "sha512-kbpaSSGJTWdAY5KPVeMOKXSrPtr8C8C7wodJbcsd51jRnmD+GZu8Y0VoU6Dm5Z4vWr0Ig/1NKuWRKf7j5aaYSg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "mimic-fn": "^2.1.0"
              },
              "engines": {
                "node": ">=6"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/p-limit": {
              "version": "3.1.0",
              "resolved": "https://registry.npmjs.org/p-limit/-/p-limit-3.1.0.tgz",
              "integrity": "sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "yocto-queue": "^0.1.0"
              },
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/p-locate": {
              "version": "4.1.0",
              "resolved": "https://registry.npmjs.org/p-locate/-/p-locate-4.1.0.tgz",
              "integrity": "sha512-R79ZZ/0wAxKGu3oYMlz8jy/kbhsNrS7SKZ7PxEHBgJ5+F2mtFW2fK2cOtBh1cHYkQsbzFV7I+EoRKe6Yt0oK7A==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "p-limit": "^2.2.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/p-locate/node_modules/p-limit": {
              "version": "2.3.0",
              "resolved": "https://registry.npmjs.org/p-limit/-/p-limit-2.3.0.tgz",
              "integrity": "sha512-//88mFWSJx8lxCzwdAABTJL2MyWB12+eIY7MDL2SqLmAkeKU9qxRvWuSyTjm3FUmpBEMuFfckAIqEaVGUDxb6w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "p-try": "^2.0.0"
              },
              "engines": {
                "node": ">=6"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/p-try": {
              "version": "2.2.0",
              "resolved": "https://registry.npmjs.org/p-try/-/p-try-2.2.0.tgz",
              "integrity": "sha512-R4nPAVTAU0B9D35/Gk3uJf/7XYbQcyohSKdvAxIRSNghFl4e71hVoGnBNQz9cWaXxO2I10KTC+3jMdvvoKw6dQ==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/package-json-from-dist": {
              "version": "1.0.1",
              "resolved": "https://registry.npmjs.org/package-json-from-dist/-/package-json-from-dist-1.0.1.tgz",
              "integrity": "sha512-UEZIS3/by4OC8vL3P2dTXRETpebLI2NiI5vIrjaD/5UtrkFX/tNbwjTSRAGC/+7CAo2pIcBaRgWmcBBHcsaCIw==",
              "dev": true,
              "license": "BlueOak-1.0.0"
            },
            "node_modules/parse-json": {
              "version": "5.2.0",
              "resolved": "https://registry.npmjs.org/parse-json/-/parse-json-5.2.0.tgz",
              "integrity": "sha512-ayCKvm/phCGxOkYRSCM82iDwct8/EonSEgCSxWxD7ve6jHggsFl4fZVQBPRNgQoKiuV/odhFrGzQXZwbifC8Rg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@babel/code-frame": "^7.0.0",
                "error-ex": "^1.3.1",
                "json-parse-even-better-errors": "^2.3.0",
                "lines-and-columns": "^1.1.6"
              },
              "engines": {
                "node": ">=8"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/parse5": {
              "version": "7.3.0",
              "resolved": "https://registry.npmjs.org/parse5/-/parse5-7.3.0.tgz",
              "integrity": "sha512-IInvU7fabl34qmi9gY8XOVxhYyMyuH2xUNpb2q8/Y+7552KlejkRvqvD19nMoUW/uQGGbqNpA6Tufu5FL5BZgw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "entities": "^6.0.0"
              },
              "funding": {
                "url": "https://github.com/inikulin/parse5?sponsor=1"
              }
            },
            "node_modules/path-exists": {
              "version": "4.0.0",
              "resolved": "https://registry.npmjs.org/path-exists/-/path-exists-4.0.0.tgz",
              "integrity": "sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/path-is-absolute": {
              "version": "1.0.1",
              "resolved": "https://registry.npmjs.org/path-is-absolute/-/path-is-absolute-1.0.1.tgz",
              "integrity": "sha512-AVbw3UJ2e9bq64vSaS9Am0fje1Pa8pbGqTTsmXfaIiMpnr5DlDhfJOuLj9Sf95ZPVDAUerDfEk88MPmPe7UCQg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/path-key": {
              "version": "3.1.1",
              "resolved": "https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz",
              "integrity": "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==",
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/path-parse": {
              "version": "1.0.7",
              "resolved": "https://registry.npmjs.org/path-parse/-/path-parse-1.0.7.tgz",
              "integrity": "sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/path-scurry": {
              "version": "1.11.1",
              "resolved": "https://registry.npmjs.org/path-scurry/-/path-scurry-1.11.1.tgz",
              "integrity": "sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==",
              "dev": true,
              "license": "BlueOak-1.0.0",
              "dependencies": {
                "lru-cache": "^10.2.0",
                "minipass": "^5.0.0 || ^6.0.2 || ^7.0.0"
              },
              "engines": {
                "node": ">=16 || 14 >=14.18"
              },
              "funding": {
                "url": "https://github.com/sponsors/isaacs"
              }
            },
            "node_modules/path-scurry/node_modules/lru-cache": {
              "version": "10.4.3",
              "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
              "integrity": "sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==",
              "dev": true,
              "license": "ISC"
            },
            "node_modules/performance-now": {
              "version": "2.1.0",
              "resolved": "https://registry.npmjs.org/performance-now/-/performance-now-2.1.0.tgz",
              "integrity": "sha512-7EAHlyLHI56VEIdK57uwHdHKIaAGbnXPiw0yWbarQZOKaKpvUIgW0jWRVLiatnM+XXlSwsanIBH/hzGMJulMow==",
              "license": "MIT",
              "optional": true
            },
            "node_modules/picocolors": {
              "version": "1.1.1",
              "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
              "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==",
              "license": "ISC"
            },
            "node_modules/picomatch": {
              "version": "2.3.1",
              "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
              "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8.6"
              },
              "funding": {
                "url": "https://github.com/sponsors/jonschlinkert"
              }
            },
            "node_modules/pify": {
              "version": "2.3.0",
              "resolved": "https://registry.npmjs.org/pify/-/pify-2.3.0.tgz",
              "integrity": "sha512-udgsAY+fTnvv7kI7aaxbqwWNb0AHiB0qBO89PZKPkoTmGOgdbrHDKD+0B2X4uTfJ/FT1R09r9gTsjUjNJotuog==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/pirates": {
              "version": "4.0.7",
              "resolved": "https://registry.npmjs.org/pirates/-/pirates-4.0.7.tgz",
              "integrity": "sha512-TfySrs/5nm8fQJDcBDuUng3VOUKsd7S+zqvbOTiGXHfxX4wK31ard+hoNuvkicM/2YFzlpDgABOevKSsB4G/FA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 6"
              }
            },
            "node_modules/pkg-dir": {
              "version": "4.2.0",
              "resolved": "https://registry.npmjs.org/pkg-dir/-/pkg-dir-4.2.0.tgz",
              "integrity": "sha512-HRDzbaKjC+AOWVXxAU/x54COGeIv9eb+6CkDSQoNTt4XyWoIJvuPsXizxu/Fr23EiekbtZwmh1IcIG/l/a10GQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "find-up": "^4.0.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/possible-typed-array-names": {
              "version": "1.1.0",
              "resolved": "https://registry.npmjs.org/possible-typed-array-names/-/possible-typed-array-names-1.1.0.tgz",
              "integrity": "sha512-/+5VFTchJDoVj3bhoqi6UeymcD00DAwb1nJwamzPvHEszJ4FpF6SNNbUbOS8yI56qHzdV8eK0qEfOSiodkTdxg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/postcss": {
              "version": "8.5.6",
              "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.5.6.tgz",
              "integrity": "sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==",
              "dev": true,
              "funding": [
                {
                  "type": "opencollective",
                  "url": "https://opencollective.com/postcss/"
                },
                {
                  "type": "tidelift",
                  "url": "https://tidelift.com/funding/github/npm/postcss"
                },
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/ai"
                }
              ],
              "license": "MIT",
              "dependencies": {
                "nanoid": "^3.3.11",
                "picocolors": "^1.1.1",
                "source-map-js": "^1.2.1"
              },
              "engines": {
                "node": "^10 || ^12 || >=14"
              }
            },
            "node_modules/postcss-import": {
              "version": "15.1.0",
              "resolved": "https://registry.npmjs.org/postcss-import/-/postcss-import-15.1.0.tgz",
              "integrity": "sha512-hpr+J05B2FVYUAXHeK1YyI267J/dDDhMU6B6civm8hSY1jYJnBXxzKDKDswzJmtLHryrjhnDjqqp/49t8FALew==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "postcss-value-parser": "^4.0.0",
                "read-cache": "^1.0.0",
                "resolve": "^1.1.7"
              },
              "engines": {
                "node": ">=14.0.0"
              },
              "peerDependencies": {
                "postcss": "^8.0.0"
              }
            },
            "node_modules/postcss-js": {
              "version": "4.0.1",
              "resolved": "https://registry.npmjs.org/postcss-js/-/postcss-js-4.0.1.tgz",
              "integrity": "sha512-dDLF8pEO191hJMtlHFPRa8xsizHaM82MLfNkUHdUtVEV3tgTp5oj+8qbEqYM57SLfc74KSbw//4SeJma2LRVIw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "camelcase-css": "^2.0.1"
              },
              "engines": {
                "node": "^12 || ^14 || >= 16"
              },
              "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/postcss/"
              },
              "peerDependencies": {
                "postcss": "^8.4.21"
              }
            },
            "node_modules/postcss-nested": {
              "version": "6.2.0",
              "resolved": "https://registry.npmjs.org/postcss-nested/-/postcss-nested-6.2.0.tgz",
              "integrity": "sha512-HQbt28KulC5AJzG+cZtj9kvKB93CFCdLvog1WFLf1D+xmMvPGlBstkpTEZfK5+AN9hfJocyBFCNiqyS48bpgzQ==",
              "dev": true,
              "funding": [
                {
                  "type": "opencollective",
                  "url": "https://opencollective.com/postcss/"
                },
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/ai"
                }
              ],
              "license": "MIT",
              "dependencies": {
                "postcss-selector-parser": "^6.1.1"
              },
              "engines": {
                "node": ">=12.0"
              },
              "peerDependencies": {
                "postcss": "^8.2.14"
              }
            },
            "node_modules/postcss-selector-parser": {
              "version": "6.1.2",
              "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.1.2.tgz",
              "integrity": "sha512-Q8qQfPiZ+THO/3ZrOrO0cJJKfpYCagtMUkXbnEfmgUjwXg6z/WBeOyS9APBBPCTSiDV+s4SwQGu8yFsiMRIudg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "cssesc": "^3.0.0",
                "util-deprecate": "^1.0.2"
              },
              "engines": {
                "node": ">=4"
              }
            },
            "node_modules/postcss-value-parser": {
              "version": "4.2.0",
              "resolved": "https://registry.npmjs.org/postcss-value-parser/-/postcss-value-parser-4.2.0.tgz",
              "integrity": "sha512-1NNCs6uurfkVbeXG4S8JFT9t19m45ICnif8zWLd5oPSZ50QnwMfK+H3jv408d4jw/7Bttv5axS5IiHoLaVNHeQ==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/pretty-format": {
              "version": "27.5.1",
              "resolved": "https://registry.npmjs.org/pretty-format/-/pretty-format-27.5.1.tgz",
              "integrity": "sha512-Qb1gy5OrP5+zDf2Bvnzdl3jsTf1qXVMazbvCoKhtKqVs4/YK4ozX4gKQJJVyNe+cajNPn0KoC0MC3FUmaHWEmQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "ansi-regex": "^5.0.1",
                "ansi-styles": "^5.0.0",
                "react-is": "^17.0.1"
              },
              "engines": {
                "node": "^10.13.0 || ^12.13.0 || ^14.15.0 || >=15.0.0"
              }
            },
            "node_modules/pretty-format/node_modules/ansi-styles": {
              "version": "5.2.0",
              "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-5.2.0.tgz",
              "integrity": "sha512-Cxwpt2SfTzTtXcfOlzGEee8O+c+MmUgGrNiBcXnuWxuFJHe6a5Hz7qwhwe5OgaSYI0IJvkLqWX1ASG+cJOkEiA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
              }
            },
            "node_modules/prompts": {
              "version": "2.4.2",
              "resolved": "https://registry.npmjs.org/prompts/-/prompts-2.4.2.tgz",
              "integrity": "sha512-NxNv/kLguCA7p3jE8oL2aEBsrJWgAakBpgmgK6lpPWV+WuOmY6r2/zbAVnP+T8bQlA0nzHXSJSJW0Hq7ylaD2Q==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "kleur": "^3.0.3",
                "sisteransi": "^1.0.5"
              },
              "engines": {
                "node": ">= 6"
              }
            },
            "node_modules/psl": {
              "version": "1.15.0",
              "resolved": "https://registry.npmjs.org/psl/-/psl-1.15.0.tgz",
              "integrity": "sha512-JZd3gMVBAVQkSs6HdNZo9Sdo0LNcQeMNP3CozBJb3JYC/QUYZTnKxP+f8oWRX4rHP5EurWxqAHTSwUCjlNKa1w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "punycode": "^2.3.1"
              },
              "funding": {
                "url": "https://github.com/sponsors/lupomontero"
              }
            },
            "node_modules/punycode": {
              "version": "2.3.1",
              "resolved": "https://registry.npmjs.org/punycode/-/punycode-2.3.1.tgz",
              "integrity": "sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/pure-rand": {
              "version": "6.1.0",
              "resolved": "https://registry.npmjs.org/pure-rand/-/pure-rand-6.1.0.tgz",
              "integrity": "sha512-bVWawvoZoBYpp6yIoQtQXHZjmz35RSVHnUOTefl8Vcjr8snTPY1wnpSPMWekcFwbxI6gtmT7rSYPFvz71ldiOA==",
              "dev": true,
              "funding": [
                {
                  "type": "individual",
                  "url": "https://github.com/sponsors/dubzzz"
                },
                {
                  "type": "opencollective",
                  "url": "https://opencollective.com/fast-check"
                }
              ],
              "license": "MIT"
            },
            "node_modules/qs": {
              "version": "6.14.0",
              "resolved": "https://registry.npmjs.org/qs/-/qs-6.14.0.tgz",
              "integrity": "sha512-YWWTjgABSKcvs/nWBi9PycY/JiPJqOD4JA6o9Sej2AtvSGarXxKC3OQSk4pAarbdQlKAh5D4FCQkJNkW+GAn3w==",
              "license": "BSD-3-Clause",
              "dependencies": {
                "side-channel": "^1.1.0"
              },
              "engines": {
                "node": ">=0.6"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/querystringify": {
              "version": "2.2.0",
              "resolved": "https://registry.npmjs.org/querystringify/-/querystringify-2.2.0.tgz",
              "integrity": "sha512-FIqgj2EUvTa7R50u0rGsyTftzjYmv/a3hO345bZNrqabNqjtgiDMgmo4mkUjd+nzU5oF3dClKqFIPUKybUyqoQ==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/queue-microtask": {
              "version": "1.2.3",
              "resolved": "https://registry.npmjs.org/queue-microtask/-/queue-microtask-1.2.3.tgz",
              "integrity": "sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==",
              "dev": true,
              "funding": [
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/feross"
                },
                {
                  "type": "patreon",
                  "url": "https://www.patreon.com/feross"
                },
                {
                  "type": "consulting",
                  "url": "https://feross.org/support"
                }
              ],
              "license": "MIT"
            },
            "node_modules/raf": {
              "version": "3.4.1",
              "resolved": "https://registry.npmjs.org/raf/-/raf-3.4.1.tgz",
              "integrity": "sha512-Sq4CW4QhwOHE8ucn6J34MqtZCeWFP2aQSmrlroYgqAV1PjStIhJXxYuTgUIfkEk7zTLjmIjLmU5q+fbD1NnOJA==",
              "license": "MIT",
              "optional": true,
              "dependencies": {
                "performance-now": "^2.1.0"
              }
            },
            "node_modules/raf-schd": {
              "version": "4.0.3",
              "resolved": "https://registry.npmjs.org/raf-schd/-/raf-schd-4.0.3.tgz",
              "integrity": "sha512-tQkJl2GRWh83ui2DiPTJz9wEiMN20syf+5oKfB03yYP7ioZcJwsIK8FjrtLwH1m7C7e+Tt2yYBlrOpdT+dyeIQ==",
              "license": "MIT"
            },
            "node_modules/react": {
              "version": "18.3.1",
              "resolved": "https://registry.npmjs.org/react/-/react-18.3.1.tgz",
              "integrity": "sha512-wS+hAgJShR0KhEvPJArfuPVN1+Hz1t0Y6n5jLrGQbkb4urgPE/0Rve+1kMB1v/oWgHgm4WIcV+i7F2pTVj+2iQ==",
              "license": "MIT",
              "dependencies": {
                "loose-envify": "^1.1.0"
              },
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/react-chartjs-2": {
              "version": "5.3.0",
              "resolved": "https://registry.npmjs.org/react-chartjs-2/-/react-chartjs-2-5.3.0.tgz",
              "integrity": "sha512-UfZZFnDsERI3c3CZGxzvNJd02SHjaSJ8kgW1djn65H1KK8rehwTjyrRKOG3VTMG8wtHZ5rgAO5oTHtHi9GCCmw==",
              "license": "MIT",
              "peerDependencies": {
                "chart.js": "^4.1.1",
                "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0"
              }
            },
            "node_modules/react-dom": {
              "version": "18.3.1",
              "resolved": "https://registry.npmjs.org/react-dom/-/react-dom-18.3.1.tgz",
              "integrity": "sha512-5m4nQKp+rZRb09LNH59GM4BxTh9251/ylbKIbpe7TpGxfJ+9kv6BLkLBXIjjspbgbnIBNqlI23tRnTWT0snUIw==",
              "license": "MIT",
              "dependencies": {
                "loose-envify": "^1.1.0",
                "scheduler": "^0.23.2"
              },
              "peerDependencies": {
                "react": "^18.3.1"
              }
            },
            "node_modules/react-icons": {
              "version": "5.5.0",
              "resolved": "https://registry.npmjs.org/react-icons/-/react-icons-5.5.0.tgz",
              "integrity": "sha512-MEFcXdkP3dLo8uumGI5xN3lDFNsRtrjbOEKDLD7yv76v4wpnEq2Lt2qeHaQOr34I/wPN3s3+N08WkQ+CW37Xiw==",
              "license": "MIT",
              "peerDependencies": {
                "react": "*"
              }
            },
            "node_modules/react-is": {
              "version": "17.0.2",
              "resolved": "https://registry.npmjs.org/react-is/-/react-is-17.0.2.tgz",
              "integrity": "sha512-w2GsyukL62IJnlaff/nRegPQR94C/XXamvMWmSHRJ4y7Ts/4ocGRmTHvOs8PSE6pB3dWOrD/nueuU5sduBsQ4w==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/react-redux": {
              "version": "8.1.3",
              "resolved": "https://registry.npmjs.org/react-redux/-/react-redux-8.1.3.tgz",
              "integrity": "sha512-n0ZrutD7DaX/j9VscF+uTALI3oUPa/pO4Z3soOBIjuRn/FzVu6aehhysxZCLi6y7duMf52WNZGMl7CtuK5EnRw==",
              "license": "MIT",
              "dependencies": {
                "@babel/runtime": "^7.12.1",
                "@types/hoist-non-react-statics": "^3.3.1",
                "@types/use-sync-external-store": "^0.0.3",
                "hoist-non-react-statics": "^3.3.2",
                "react-is": "^18.0.0",
                "use-sync-external-store": "^1.0.0"
              },
              "peerDependencies": {
                "@types/react": "^16.8 || ^17.0 || ^18.0",
                "@types/react-dom": "^16.8 || ^17.0 || ^18.0",
                "react": "^16.8 || ^17.0 || ^18.0",
                "react-dom": "^16.8 || ^17.0 || ^18.0",
                "react-native": ">=0.59",
                "redux": "^4 || ^5.0.0-beta.0"
              },
              "peerDependenciesMeta": {
                "@types/react": {
                  "optional": true
                },
                "@types/react-dom": {
                  "optional": true
                },
                "react-dom": {
                  "optional": true
                },
                "react-native": {
                  "optional": true
                },
                "redux": {
                  "optional": true
                }
              }
            },
            "node_modules/react-redux/node_modules/react-is": {
              "version": "18.3.1",
              "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
              "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
              "license": "MIT"
            },
            "node_modules/read-cache": {
              "version": "1.0.0",
              "resolved": "https://registry.npmjs.org/read-cache/-/read-cache-1.0.0.tgz",
              "integrity": "sha512-Owdv/Ft7IjOgm/i0xvNDZ1LrRANRfew4b2prF3OWMQLxLfu3bS8FVhCsrSCMK4lR56Y9ya+AThoTpDCTxCmpRA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "pify": "^2.3.0"
              }
            },
            "node_modules/readdirp": {
              "version": "3.6.0",
              "resolved": "https://registry.npmjs.org/readdirp/-/readdirp-3.6.0.tgz",
              "integrity": "sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "picomatch": "^2.2.1"
              },
              "engines": {
                "node": ">=8.10.0"
              }
            },
            "node_modules/redent": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/redent/-/redent-3.0.0.tgz",
              "integrity": "sha512-6tDA8g98We0zd0GvVeMT9arEOnTw9qM03L9cJXaCjrip1OO764RDBLBfrB4cwzNGDj5OA5ioymC9GkizgWJDUg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "indent-string": "^4.0.0",
                "strip-indent": "^3.0.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/redux": {
              "version": "4.2.1",
              "resolved": "https://registry.npmjs.org/redux/-/redux-4.2.1.tgz",
              "integrity": "sha512-LAUYz4lc+Do8/g7aeRa8JkyDErK6ekstQaqWQrNRW//MY1TvCEpMtpTWvlQ+FPbWCx+Xixu/6SHt5N0HR+SB4w==",
              "license": "MIT",
              "dependencies": {
                "@babel/runtime": "^7.9.2"
              }
            },
            "node_modules/regenerator-runtime": {
              "version": "0.13.11",
              "resolved": "https://registry.npmjs.org/regenerator-runtime/-/regenerator-runtime-0.13.11.tgz",
              "integrity": "sha512-kY1AZVr2Ra+t+piVaJ4gxaFaReZVH40AKNo7UCX6W+dEwBo/2oZJzqfuN1qLq1oL45o56cPaTXELwrTh8Fpggg==",
              "license": "MIT",
              "optional": true
            },
            "node_modules/regexp.prototype.flags": {
              "version": "1.5.4",
              "resolved": "https://registry.npmjs.org/regexp.prototype.flags/-/regexp.prototype.flags-1.5.4.tgz",
              "integrity": "sha512-dYqgNSZbDwkaJ2ceRd9ojCGjBq+mOm9LmtXnAnEGyHhN/5R7iDW2TRw3h+o/jCFxus3P2LfWIIiwowAjANm7IA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bind": "^1.0.8",
                "define-properties": "^1.2.1",
                "es-errors": "^1.3.0",
                "get-proto": "^1.0.1",
                "gopd": "^1.2.0",
                "set-function-name": "^2.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/require-directory": {
              "version": "2.1.1",
              "resolved": "https://registry.npmjs.org/require-directory/-/require-directory-2.1.1.tgz",
              "integrity": "sha512-fGxEI7+wsG9xrvdjsrlmL22OMTTiHRwAMroiEeMgq8gzoLC/PQr7RsRDSTLUg/bZAZtF+TVIkHc6/4RIKrui+Q==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/requires-port": {
              "version": "1.0.0",
              "resolved": "https://registry.npmjs.org/requires-port/-/requires-port-1.0.0.tgz",
              "integrity": "sha512-KigOCHcocU3XODJxsu8i/j8T9tzT4adHiecwORRQ0ZZFcp7ahwXuRU1m+yuO90C5ZUyGeGfocHDI14M3L3yDAQ==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/resolve": {
              "version": "1.22.10",
              "resolved": "https://registry.npmjs.org/resolve/-/resolve-1.22.10.tgz",
              "integrity": "sha512-NPRy+/ncIMeDlTAsuqwKIiferiawhefFJtkNSW0qZJEqMEb+qBt/77B/jGeeek+F0uOeN05CDa6HXbbIgtVX4w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "is-core-module": "^2.16.0",
                "path-parse": "^1.0.7",
                "supports-preserve-symlinks-flag": "^1.0.0"
              },
              "bin": {
                "resolve": "bin/resolve"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/resolve-cwd": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/resolve-cwd/-/resolve-cwd-3.0.0.tgz",
              "integrity": "sha512-OrZaX2Mb+rJCpH/6CpSqt9xFVpN++x01XnN2ie9g6P5/3xelLAkXWVADpdz1IHD/KFfEXyE6V0U01OQ3UO2rEg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "resolve-from": "^5.0.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/resolve-from": {
              "version": "5.0.0",
              "resolved": "https://registry.npmjs.org/resolve-from/-/resolve-from-5.0.0.tgz",
              "integrity": "sha512-qYg9KP24dD5qka9J47d0aVky0N+b4fTU89LN9iDnjB5waksiC49rvMB0PrUJQGoTmH50XPiqOvAjDfaijGxYZw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/resolve.exports": {
              "version": "2.0.3",
              "resolved": "https://registry.npmjs.org/resolve.exports/-/resolve.exports-2.0.3.tgz",
              "integrity": "sha512-OcXjMsGdhL4XnbShKpAcSqPMzQoYkYyhbEaeSko47MjRP9NfEQMhZkXL1DoFlt9LWQn4YttrdnV6X2OiyzBi+A==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              }
            },
            "node_modules/reusify": {
              "version": "1.1.0",
              "resolved": "https://registry.npmjs.org/reusify/-/reusify-1.1.0.tgz",
              "integrity": "sha512-g6QUff04oZpHs0eG5p83rFLhHeV00ug/Yf9nZM6fLeUrPguBTkTQOdpAWWspMh55TZfVQDPaN3NQJfbVRAxdIw==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "iojs": ">=1.0.0",
                "node": ">=0.10.0"
              }
            },
            "node_modules/rgbcolor": {
              "version": "1.0.1",
              "resolved": "https://registry.npmjs.org/rgbcolor/-/rgbcolor-1.0.1.tgz",
              "integrity": "sha512-9aZLIrhRaD97sgVhtJOW6ckOEh6/GnvQtdVNfdZ6s67+3/XwLS9lBcQYzEEhYVeUowN7pRzMLsyGhK2i/xvWbw==",
              "license": "MIT OR SEE LICENSE IN FEEL-FREE.md",
              "optional": true,
              "engines": {
                "node": ">= 0.8.15"
              }
            },
            "node_modules/run-parallel": {
              "version": "1.2.0",
              "resolved": "https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz",
              "integrity": "sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==",
              "dev": true,
              "funding": [
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/feross"
                },
                {
                  "type": "patreon",
                  "url": "https://www.patreon.com/feross"
                },
                {
                  "type": "consulting",
                  "url": "https://feross.org/support"
                }
              ],
              "license": "MIT",
              "dependencies": {
                "queue-microtask": "^1.2.2"
              }
            },
            "node_modules/safe-buffer": {
              "version": "5.2.1",
              "resolved": "https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.2.1.tgz",
              "integrity": "sha512-rp3So07KcdmmKbGvgaNxQSJr7bGVSVk5S9Eq1F+ppbRo70+YeaDxkw5Dd8NPN+GD6bjnYm2VuPuCXmpuYvmCXQ==",
              "funding": [
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/feross"
                },
                {
                  "type": "patreon",
                  "url": "https://www.patreon.com/feross"
                },
                {
                  "type": "consulting",
                  "url": "https://feross.org/support"
                }
              ],
              "license": "MIT"
            },
            "node_modules/safe-regex-test": {
              "version": "1.1.0",
              "resolved": "https://registry.npmjs.org/safe-regex-test/-/safe-regex-test-1.1.0.tgz",
              "integrity": "sha512-x/+Cz4YrimQxQccJf5mKEbIa1NzeCRNI5Ecl/ekmlYaampdNLPalVyIcCZNNH3MvmqBugV5TMYZXv0ljslUlaw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "call-bound": "^1.0.2",
                "es-errors": "^1.3.0",
                "is-regex": "^1.2.1"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/safer-buffer": {
              "version": "2.1.2",
              "resolved": "https://registry.npmjs.org/safer-buffer/-/safer-buffer-2.1.2.tgz",
              "integrity": "sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/saxes": {
              "version": "6.0.0",
              "resolved": "https://registry.npmjs.org/saxes/-/saxes-6.0.0.tgz",
              "integrity": "sha512-xAg7SOnEhrm5zI3puOOKyy1OMcMlIJZYNJY7xLBwSze0UjhPLnWfj2GF2EpT0jmzaJKIWKHLsaSSajf35bcYnA==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "xmlchars": "^2.2.0"
              },
              "engines": {
                "node": ">=v12.22.7"
              }
            },
            "node_modules/scheduler": {
              "version": "0.23.2",
              "resolved": "https://registry.npmjs.org/scheduler/-/scheduler-0.23.2.tgz",
              "integrity": "sha512-UOShsPwz7NrMUqhR6t0hWjFduvOzbtv7toDH1/hIrfRNIDBnnBWd0CwJTGvTpngVlmwGCdP9/Zl/tVrDqcuYzQ==",
              "license": "MIT",
              "dependencies": {
                "loose-envify": "^1.1.0"
              }
            },
            "node_modules/semver": {
              "version": "6.3.1",
              "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
              "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
              "dev": true,
              "license": "ISC",
              "bin": {
                "semver": "bin/semver.js"
              }
            },
            "node_modules/set-function-length": {
              "version": "1.2.2",
              "resolved": "https://registry.npmjs.org/set-function-length/-/set-function-length-1.2.2.tgz",
              "integrity": "sha512-pgRc4hJ4/sNjWCSS9AmnS40x3bNMDTknHgL5UaMBTMyJnU90EgWh1Rz+MC9eFu4BuN/UwZjKQuY/1v3rM7HMfg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "define-data-property": "^1.1.4",
                "es-errors": "^1.3.0",
                "function-bind": "^1.1.2",
                "get-intrinsic": "^1.2.4",
                "gopd": "^1.0.1",
                "has-property-descriptors": "^1.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/set-function-name": {
              "version": "2.0.2",
              "resolved": "https://registry.npmjs.org/set-function-name/-/set-function-name-2.0.2.tgz",
              "integrity": "sha512-7PGFlmtwsEADb0WYyvCMa1t+yke6daIG4Wirafur5kcf+MhUnPms1UeR0CKQdTZD81yESwMHbtn+TR+dMviakQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "define-data-property": "^1.1.4",
                "es-errors": "^1.3.0",
                "functions-have-names": "^1.2.3",
                "has-property-descriptors": "^1.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/shebang-command": {
              "version": "2.0.0",
              "resolved": "https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz",
              "integrity": "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==",
              "license": "MIT",
              "dependencies": {
                "shebang-regex": "^3.0.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/shebang-regex": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz",
              "integrity": "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==",
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/side-channel": {
              "version": "1.1.0",
              "resolved": "https://registry.npmjs.org/side-channel/-/side-channel-1.1.0.tgz",
              "integrity": "sha512-ZX99e6tRweoUXqR+VBrslhda51Nh5MTQwou5tnUDgbtyM0dBgmhEDtWGP/xbKn6hqfPRHujUNwz5fy/wbbhnpw==",
              "license": "MIT",
              "dependencies": {
                "es-errors": "^1.3.0",
                "object-inspect": "^1.13.3",
                "side-channel-list": "^1.0.0",
                "side-channel-map": "^1.0.1",
                "side-channel-weakmap": "^1.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/side-channel-list": {
              "version": "1.0.0",
              "resolved": "https://registry.npmjs.org/side-channel-list/-/side-channel-list-1.0.0.tgz",
              "integrity": "sha512-FCLHtRD/gnpCiCHEiJLOwdmFP+wzCmDEkc9y7NsYxeF4u7Btsn1ZuwgwJGxImImHicJArLP4R0yX4c2KCrMrTA==",
              "license": "MIT",
              "dependencies": {
                "es-errors": "^1.3.0",
                "object-inspect": "^1.13.3"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/side-channel-map": {
              "version": "1.0.1",
              "resolved": "https://registry.npmjs.org/side-channel-map/-/side-channel-map-1.0.1.tgz",
              "integrity": "sha512-VCjCNfgMsby3tTdo02nbjtM/ewra6jPHmpThenkTYh8pG9ucZ/1P8So4u4FGBek/BjpOVsDCMoLA/iuBKIFXRA==",
              "license": "MIT",
              "dependencies": {
                "call-bound": "^1.0.2",
                "es-errors": "^1.3.0",
                "get-intrinsic": "^1.2.5",
                "object-inspect": "^1.13.3"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/side-channel-weakmap": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/side-channel-weakmap/-/side-channel-weakmap-1.0.2.tgz",
              "integrity": "sha512-WPS/HvHQTYnHisLo9McqBHOJk2FkHO/tlpvldyrnem4aeQp4hai3gythswg6p01oSoTl58rcpiFAjF2br2Ak2A==",
              "license": "MIT",
              "dependencies": {
                "call-bound": "^1.0.2",
                "es-errors": "^1.3.0",
                "get-intrinsic": "^1.2.5",
                "object-inspect": "^1.13.3",
                "side-channel-map": "^1.0.1"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/signal-exit": {
              "version": "3.0.7",
              "resolved": "https://registry.npmjs.org/signal-exit/-/signal-exit-3.0.7.tgz",
              "integrity": "sha512-wnD2ZE+l+SPC/uoS0vXeE9L1+0wuaMqKlfz9AMUo38JsyLSBWSFcHR1Rri62LZc12vLr1gb3jl7iwQhgwpAbGQ==",
              "dev": true,
              "license": "ISC"
            },
            "node_modules/sisteransi": {
              "version": "1.0.5",
              "resolved": "https://registry.npmjs.org/sisteransi/-/sisteransi-1.0.5.tgz",
              "integrity": "sha512-bLGGlR1QxBcynn2d5YmDX4MGjlZvy2MRBDRNHLJ8VI6l6+9FUiyTFNJ0IveOSP0bcXgVDPRcfGqA0pjaqUpfVg==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/slash": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/slash/-/slash-3.0.0.tgz",
              "integrity": "sha512-g9Q1haeby36OSStwb4ntCGGGaKsaVSjQ68fBxoQcutl5fS1vuY18H3wSt3jFyFtrkx+Kz0V1G85A4MyAdDMi2Q==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/source-map": {
              "version": "0.6.1",
              "resolved": "https://registry.npmjs.org/source-map/-/source-map-0.6.1.tgz",
              "integrity": "sha512-UjgapumWlbMhkBgzT7Ykc5YXUT46F0iKu8SGXq0bcwP5dz/h0Plj6enJqjz1Zbq2l5WaqYnrVbwWOWMyF3F47g==",
              "dev": true,
              "license": "BSD-3-Clause",
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/source-map-js": {
              "version": "1.2.1",
              "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
              "integrity": "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==",
              "license": "BSD-3-Clause",
              "engines": {
                "node": ">=0.10.0"
              }
            },
            "node_modules/source-map-support": {
              "version": "0.5.13",
              "resolved": "https://registry.npmjs.org/source-map-support/-/source-map-support-0.5.13.tgz",
              "integrity": "sha512-SHSKFHadjVA5oR4PPqhtAVdcBWwRYVd6g6cAXnIbRiIwc2EhPrTuKUBdSLvlEKyIP3GCf89fltvcZiP9MMFA1w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "buffer-from": "^1.0.0",
                "source-map": "^0.6.0"
              }
            },
            "node_modules/sprintf-js": {
              "version": "1.0.3",
              "resolved": "https://registry.npmjs.org/sprintf-js/-/sprintf-js-1.0.3.tgz",
              "integrity": "sha512-D9cPgkvLlV3t3IzL0D0YLvGA9Ahk4PcvVwUbN0dSGr1aP0Nrt4AEnTUbuGvquEC0mA64Gqt1fzirlRs5ibXx8g==",
              "dev": true,
              "license": "BSD-3-Clause"
            },
            "node_modules/ssf": {
              "version": "0.11.2",
              "resolved": "https://registry.npmjs.org/ssf/-/ssf-0.11.2.tgz",
              "integrity": "sha512-+idbmIXoYET47hH+d7dfm2epdOMUDjqcB4648sTZ+t2JwoyBFL/insLfB/racrDmsKB3diwsDA696pZMieAC5g==",
              "license": "Apache-2.0",
              "dependencies": {
                "frac": "~1.1.2"
              },
              "engines": {
                "node": ">=0.8"
              }
            },
            "node_modules/stack-utils": {
              "version": "2.0.6",
              "resolved": "https://registry.npmjs.org/stack-utils/-/stack-utils-2.0.6.tgz",
              "integrity": "sha512-XlkWvfIm6RmsWtNJx+uqtKLS8eqFbxUg0ZzLXqY0caEy9l7hruX8IpiDnjsLavoBgqCCR71TqWO8MaXYheJ3RQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "escape-string-regexp": "^2.0.0"
              },
              "engines": {
                "node": ">=10"
              }
            },
            "node_modules/stackblur-canvas": {
              "version": "2.7.0",
              "resolved": "https://registry.npmjs.org/stackblur-canvas/-/stackblur-canvas-2.7.0.tgz",
              "integrity": "sha512-yf7OENo23AGJhBriGx0QivY5JP6Y1HbrrDI6WLt6C5auYZXlQrheoY8hD4ibekFKz1HOfE48Ww8kMWMnJD/zcQ==",
              "license": "MIT",
              "optional": true,
              "engines": {
                "node": ">=0.1.14"
              }
            },
            "node_modules/stop-iteration-iterator": {
              "version": "1.1.0",
              "resolved": "https://registry.npmjs.org/stop-iteration-iterator/-/stop-iteration-iterator-1.1.0.tgz",
              "integrity": "sha512-eLoXW/DHyl62zxY4SCaIgnRhuMr6ri4juEYARS8E6sCEqzKpOiE521Ucofdx+KnDZl5xmvGYaaKCk5FEOxJCoQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "es-errors": "^1.3.0",
                "internal-slot": "^1.1.0"
              },
              "engines": {
                "node": ">= 0.4"
              }
            },
            "node_modules/streamsearch": {
              "version": "1.1.0",
              "resolved": "https://registry.npmjs.org/streamsearch/-/streamsearch-1.1.0.tgz",
              "integrity": "sha512-Mcc5wHehp9aXz1ax6bZUyY5afg9u2rv5cqQI3mRrYkGC8rW2hM02jWuwjtL++LS5qinSyhj2QfLyNsuc+VsExg==",
              "engines": {
                "node": ">=10.0.0"
              }
            },
            "node_modules/string-length": {
              "version": "4.0.2",
              "resolved": "https://registry.npmjs.org/string-length/-/string-length-4.0.2.tgz",
              "integrity": "sha512-+l6rNN5fYHNhZZy41RXsYptCjA2Igmq4EG7kZAYFQI1E1VTXarr6ZPXBg6eq7Y6eK4FEhY6AJlyuFIb/v/S0VQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "char-regex": "^1.0.2",
                "strip-ansi": "^6.0.0"
              },
              "engines": {
                "node": ">=10"
              }
            },
            "node_modules/string-width": {
              "version": "4.2.3",
              "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
              "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "emoji-regex": "^8.0.0",
                "is-fullwidth-code-point": "^3.0.0",
                "strip-ansi": "^6.0.1"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/string-width-cjs": {
              "name": "string-width",
              "version": "4.2.3",
              "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
              "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "emoji-regex": "^8.0.0",
                "is-fullwidth-code-point": "^3.0.0",
                "strip-ansi": "^6.0.1"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/strip-ansi": {
              "version": "6.0.1",
              "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
              "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "ansi-regex": "^5.0.1"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/strip-ansi-cjs": {
              "name": "strip-ansi",
              "version": "6.0.1",
              "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
              "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "ansi-regex": "^5.0.1"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/strip-bom": {
              "version": "4.0.0",
              "resolved": "https://registry.npmjs.org/strip-bom/-/strip-bom-4.0.0.tgz",
              "integrity": "sha512-3xurFv5tEgii33Zi8Jtp55wEIILR9eh34FAW00PZf+JnSsTmV/ioewSgQl97JHvgjoRGwPShsWm+IdrxB35d0w==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/strip-final-newline": {
              "version": "2.0.0",
              "resolved": "https://registry.npmjs.org/strip-final-newline/-/strip-final-newline-2.0.0.tgz",
              "integrity": "sha512-BrpvfNAE3dcvq7ll3xVumzjKjZQ5tI1sEUIKr3Uoks0XUl45St3FlatVqef9prk4jRDzhW6WZg+3bk93y6pLjA==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/strip-indent": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/strip-indent/-/strip-indent-3.0.0.tgz",
              "integrity": "sha512-laJTa3Jb+VQpaC6DseHhF7dXVqHTfJPCRDaEbid/drOhgitgYku/letMUqOXFoWV0zIIUbjpdH2t+tYj4bQMRQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "min-indent": "^1.0.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/strip-json-comments": {
              "version": "3.1.1",
              "resolved": "https://registry.npmjs.org/strip-json-comments/-/strip-json-comments-3.1.1.tgz",
              "integrity": "sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=8"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/styled-jsx": {
              "version": "5.1.1",
              "resolved": "https://registry.npmjs.org/styled-jsx/-/styled-jsx-5.1.1.tgz",
              "integrity": "sha512-pW7uC1l4mBZ8ugbiZrcIsiIvVx1UmTfw7UkC3Um2tmfUq9Bhk8IiyEIPl6F8agHgjzku6j0xQEZbfA5uSgSaCw==",
              "license": "MIT",
              "dependencies": {
                "client-only": "0.0.1"
              },
              "engines": {
                "node": ">= 12.0.0"
              },
              "peerDependencies": {
                "react": ">= 16.8.0 || 17.x.x || ^18.0.0-0"
              },
              "peerDependenciesMeta": {
                "@babel/core": {
                  "optional": true
                },
                "babel-plugin-macros": {
                  "optional": true
                }
              }
            },
            "node_modules/sucrase": {
              "version": "3.35.0",
              "resolved": "https://registry.npmjs.org/sucrase/-/sucrase-3.35.0.tgz",
              "integrity": "sha512-8EbVDiu9iN/nESwxeSxDKe0dunta1GOlHufmSSXxMD2z2/tMZpDMpvXQGsc+ajGo8y2uYUmixaSRUc/QPoQ0GA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@jridgewell/gen-mapping": "^0.3.2",
                "commander": "^4.0.0",
                "glob": "^10.3.10",
                "lines-and-columns": "^1.1.6",
                "mz": "^2.7.0",
                "pirates": "^4.0.1",
                "ts-interface-checker": "^0.1.9"
              },
              "bin": {
                "sucrase": "bin/sucrase",
                "sucrase-node": "bin/sucrase-node"
              },
              "engines": {
                "node": ">=16 || 14 >=14.17"
              }
            },
            "node_modules/sucrase/node_modules/brace-expansion": {
              "version": "2.0.2",
              "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
              "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "balanced-match": "^1.0.0"
              }
            },
            "node_modules/sucrase/node_modules/glob": {
              "version": "10.4.5",
              "resolved": "https://registry.npmjs.org/glob/-/glob-10.4.5.tgz",
              "integrity": "sha512-7Bv8RF0k6xjo7d4A/PxYLbUCfb6c+Vpd2/mB2yRDlew7Jb5hEXiCD9ibfO7wpk8i4sevK6DFny9h7EYbM3/sHg==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "foreground-child": "^3.1.0",
                "jackspeak": "^3.1.2",
                "minimatch": "^9.0.4",
                "minipass": "^7.1.2",
                "package-json-from-dist": "^1.0.0",
                "path-scurry": "^1.11.1"
              },
              "bin": {
                "glob": "dist/esm/bin.mjs"
              },
              "funding": {
                "url": "https://github.com/sponsors/isaacs"
              }
            },
            "node_modules/sucrase/node_modules/minimatch": {
              "version": "9.0.5",
              "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz",
              "integrity": "sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "brace-expansion": "^2.0.1"
              },
              "engines": {
                "node": ">=16 || 14 >=14.17"
              },
              "funding": {
                "url": "https://github.com/sponsors/isaacs"
              }
            },
            "node_modules/supports-color": {
              "version": "7.2.0",
              "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz",
              "integrity": "sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "has-flag": "^4.0.0"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/supports-preserve-symlinks-flag": {
              "version": "1.0.0",
              "resolved": "https://registry.npmjs.org/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz",
              "integrity": "sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/svg-pathdata": {
              "version": "6.0.3",
              "resolved": "https://registry.npmjs.org/svg-pathdata/-/svg-pathdata-6.0.3.tgz",
              "integrity": "sha512-qsjeeq5YjBZ5eMdFuUa4ZosMLxgr5RZ+F+Y1OrDhuOCEInRMA3x74XdBtggJcj9kOeInz0WE+LgCPDkZFlBYJw==",
              "license": "MIT",
              "optional": true,
              "engines": {
                "node": ">=12.0.0"
              }
            },
            "node_modules/symbol-tree": {
              "version": "3.2.4",
              "resolved": "https://registry.npmjs.org/symbol-tree/-/symbol-tree-3.2.4.tgz",
              "integrity": "sha512-9QNk5KwDF+Bvz+PyObkmSYjI5ksVUYtjW7AU22r2NKcfLJcXp96hkDWU3+XndOsUb+AQ9QhfzfCT2O+CNWT5Tw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/system-architecture": {
              "version": "0.1.0",
              "resolved": "https://registry.npmjs.org/system-architecture/-/system-architecture-0.1.0.tgz",
              "integrity": "sha512-ulAk51I9UVUyJgxlv9M6lFot2WP3e7t8Kz9+IS6D4rVba1tR9kON+Ey69f+1R4Q8cd45Lod6a4IcJIxnzGc/zA==",
              "license": "MIT",
              "engines": {
                "node": ">=18"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/tailwindcss": {
              "version": "3.4.17",
              "resolved": "https://registry.npmjs.org/tailwindcss/-/tailwindcss-3.4.17.tgz",
              "integrity": "sha512-w33E2aCvSDP0tW9RZuNXadXlkHXqFzSkQew/aIa2i/Sj8fThxwovwlXHSPXTbAHwEIhBFXAedUhP2tueAKP8Og==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "@alloc/quick-lru": "^5.2.0",
                "arg": "^5.0.2",
                "chokidar": "^3.6.0",
                "didyoumean": "^1.2.2",
                "dlv": "^1.1.3",
                "fast-glob": "^3.3.2",
                "glob-parent": "^6.0.2",
                "is-glob": "^4.0.3",
                "jiti": "^1.21.6",
                "lilconfig": "^3.1.3",
                "micromatch": "^4.0.8",
                "normalize-path": "^3.0.0",
                "object-hash": "^3.0.0",
                "picocolors": "^1.1.1",
                "postcss": "^8.4.47",
                "postcss-import": "^15.1.0",
                "postcss-js": "^4.0.1",
                "postcss-load-config": "^4.0.2",
                "postcss-nested": "^6.2.0",
                "postcss-selector-parser": "^6.1.2",
                "resolve": "^1.22.8",
                "sucrase": "^3.35.0"
              },
              "bin": {
                "tailwind": "lib/cli.js",
                "tailwindcss": "lib/cli.js"
              },
              "engines": {
                "node": ">=14.0.0"
              }
            },
            "node_modules/tailwindcss/node_modules/postcss-load-config": {
              "version": "4.0.2",
              "resolved": "https://registry.npmjs.org/postcss-load-config/-/postcss-load-config-4.0.2.tgz",
              "integrity": "sha512-bSVhyJGL00wMVoPUzAVAnbEoWyqRxkjv64tUl427SKnPrENtq6hJwUojroMz2VB+Q1edmi4IfrAPpami5VVgMQ==",
              "dev": true,
              "funding": [
                {
                  "type": "opencollective",
                  "url": "https://opencollective.com/postcss/"
                },
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/ai"
                }
              ],
              "license": "MIT",
              "dependencies": {
                "lilconfig": "^3.0.0",
                "yaml": "^2.3.4"
              },
              "engines": {
                "node": ">= 14"
              },
              "peerDependencies": {
                "postcss": ">=8.0.9",
                "ts-node": ">=9.0.0"
              },
              "peerDependenciesMeta": {
                "postcss": {
                  "optional": true
                },
                "ts-node": {
                  "optional": true
                }
              }
            },
            "node_modules/test-exclude": {
              "version": "6.0.0",
              "resolved": "https://registry.npmjs.org/test-exclude/-/test-exclude-6.0.0.tgz",
              "integrity": "sha512-cAGWPIyOHU6zlmg88jwm7VRyXnMN7iV68OGAbYDk/Mh/xC/pzVPlQtY6ngoIH/5/tciuhGfvESU8GrHrcxD56w==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "@istanbuljs/schema": "^0.1.2",
                "glob": "^7.1.4",
                "minimatch": "^3.0.4"
              },
              "engines": {
                "node": ">=8"
              }
            },
            "node_modules/text-segmentation": {
              "version": "1.0.3",
              "resolved": "https://registry.npmjs.org/text-segmentation/-/text-segmentation-1.0.3.tgz",
              "integrity": "sha512-iOiPUo/BGnZ6+54OsWxZidGCsdU8YbE4PSpdPinp7DeMtUJNJBoJ/ouUSTJjHkh1KntHaltHl/gDs2FC4i5+Nw==",
              "license": "MIT",
              "optional": true,
              "dependencies": {
                "utrie": "^1.0.2"
              }
            },
            "node_modules/thenify": {
              "version": "3.3.1",
              "resolved": "https://registry.npmjs.org/thenify/-/thenify-3.3.1.tgz",
              "integrity": "sha512-RVZSIV5IG10Hk3enotrhvz0T9em6cyHBLkH/YAZuKqd8hRkKhSfCGIcP2KUY0EPxndzANBmNllzWPwak+bheSw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "any-promise": "^1.0.0"
              }
            },
            "node_modules/thenify-all": {
              "version": "1.6.0",
              "resolved": "https://registry.npmjs.org/thenify-all/-/thenify-all-1.6.0.tgz",
              "integrity": "sha512-RNxQH/qI8/t3thXJDwcstUO4zeqo64+Uy/+sNVRBx4Xn2OX+OZ9oP+iJnNFqplFra2ZUVeKCSa2oVWi3T4uVmA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "thenify": ">= 3.1.0 < 4"
              },
              "engines": {
                "node": ">=0.8"
              }
            },
            "node_modules/tiny-invariant": {
              "version": "1.3.3",
              "resolved": "https://registry.npmjs.org/tiny-invariant/-/tiny-invariant-1.3.3.tgz",
              "integrity": "sha512-+FbBPE1o9QAYvviau/qC5SE3caw21q3xkvWKBtja5vgqOWIHHJ3ioaq1VPfn/Szqctz2bU/oYeKd9/z5BL+PVg==",
              "license": "MIT"
            },
            "node_modules/tmpl": {
              "version": "1.0.5",
              "resolved": "https://registry.npmjs.org/tmpl/-/tmpl-1.0.5.tgz",
              "integrity": "sha512-3f0uOEAQwIqGuWW2MVzYg8fV/QNnc/IpuJNG837rLuczAaLVHslWHZQj4IGiEl5Hs3kkbhwL9Ab7Hrsmuj+Smw==",
              "dev": true,
              "license": "BSD-3-Clause"
            },
            "node_modules/to-regex-range": {
              "version": "5.0.1",
              "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
              "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "is-number": "^7.0.0"
              },
              "engines": {
                "node": ">=8.0"
              }
            },
            "node_modules/tough-cookie": {
              "version": "4.1.4",
              "resolved": "https://registry.npmjs.org/tough-cookie/-/tough-cookie-4.1.4.tgz",
              "integrity": "sha512-Loo5UUvLD9ScZ6jh8beX1T6sO1w2/MpCRpEP7V280GKMVUQ0Jzar2U3UJPsrdbziLEMMhu3Ujnq//rhiFuIeag==",
              "dev": true,
              "license": "BSD-3-Clause",
              "dependencies": {
                "psl": "^1.1.33",
                "punycode": "^2.1.1",
                "universalify": "^0.2.0",
                "url-parse": "^1.5.3"
              },
              "engines": {
                "node": ">=6"
              }
            },
            "node_modules/tr46": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/tr46/-/tr46-3.0.0.tgz",
              "integrity": "sha512-l7FvfAHlcmulp8kr+flpQZmVwtu7nfRV7NZujtN0OqES8EL4O4e0qqzL0DC5gAvx/ZC/9lk6rhcUwYvkBnBnYA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "punycode": "^2.1.1"
              },
              "engines": {
                "node": ">=12"
              }
            },
            "node_modules/ts-interface-checker": {
              "version": "0.1.13",
              "resolved": "https://registry.npmjs.org/ts-interface-checker/-/ts-interface-checker-0.1.13.tgz",
              "integrity": "sha512-Y/arvbn+rrz3JCKl9C4kVNfTfSm2/mEp5FSz5EsZSANGPSlQrpRI5M4PKF+mJnE52jOO90PnPSc3Ur3bTQw0gA==",
              "dev": true,
              "license": "Apache-2.0"
            },
            "node_modules/tslib": {
              "version": "2.8.1",
              "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.8.1.tgz",
              "integrity": "sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w==",
              "license": "0BSD"
            },
            "node_modules/type-detect": {
              "version": "4.0.8",
              "resolved": "https://registry.npmjs.org/type-detect/-/type-detect-4.0.8.tgz",
              "integrity": "sha512-0fr/mIH1dlO+x7TlcMy+bIDqKPsw/70tVyeHW787goQjhmqaZe10uwLujubK9q9Lg6Fiho1KUKDYz0Z7k7g5/g==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=4"
              }
            },
            "node_modules/type-fest": {
              "version": "0.21.3",
              "resolved": "https://registry.npmjs.org/type-fest/-/type-fest-0.21.3.tgz",
              "integrity": "sha512-t0rzBq87m3fVcduHDUFhKmyyX+9eo6WQjZvf51Ea/M0Q7+T374Jp1aUiyUl0GKxp8M/OETVHSDvmkyPgvX+X2w==",
              "dev": true,
              "license": "(MIT OR CC0-1.0)",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            },
            "node_modules/typescript": {
              "version": "5.9.2",
              "resolved": "https://registry.npmjs.org/typescript/-/typescript-5.9.2.tgz",
              "integrity": "sha512-CWBzXQrc/qOkhidw1OzBTQuYRbfyxDXJMVJ1XNwUHGROVmuaeiEm3OslpZ1RV96d7SKKjZKrSJu3+t/xlw3R9A==",
              "dev": true,
              "license": "Apache-2.0",
              "bin": {
                "tsc": "bin/tsc",
                "tsserver": "bin/tsserver"
              },
              "engines": {
                "node": ">=14.17"
              }
            },
            "node_modules/undici-types": {
              "version": "7.8.0",
              "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-7.8.0.tgz",
              "integrity": "sha512-9UJ2xGDvQ43tYyVMpuHlsgApydB8ZKfVYTsLDhXkFL/6gfkp+U8xTGdh8pMJv1SpZna0zxG1DwsKZsreLbXBxw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/universalify": {
              "version": "0.2.0",
              "resolved": "https://registry.npmjs.org/universalify/-/universalify-0.2.0.tgz",
              "integrity": "sha512-CJ1QgKmNg3CwvAv/kOFmtnEN05f0D/cn9QntgNOQlQF9dgvVTHj3t+8JPdjqawCHk7V/KA+fbUqzZ9XWhcqPUg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">= 4.0.0"
              }
            },
            "node_modules/update-browserslist-db": {
              "version": "1.1.3",
              "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.1.3.tgz",
              "integrity": "sha512-UxhIZQ+QInVdunkDAaiazvvT/+fXL5Osr0JZlJulepYu6Jd7qJtDZjlur0emRlT71EN3ScPoE7gvsuIKKNavKw==",
              "dev": true,
              "funding": [
                {
                  "type": "opencollective",
                  "url": "https://opencollective.com/browserslist"
                },
                {
                  "type": "tidelift",
                  "url": "https://tidelift.com/funding/github/npm/browserslist"
                },
                {
                  "type": "github",
                  "url": "https://github.com/sponsors/ai"
                }
              ],
              "license": "MIT",
              "dependencies": {
                "escalade": "^3.2.0",
                "picocolors": "^1.1.1"
              },
              "bin": {
                "update-browserslist-db": "cli.js"
              },
              "peerDependencies": {
                "browserslist": ">= 4.21.0"
              }
            },
            "node_modules/url-parse": {
              "version": "1.5.10",
              "resolved": "https://registry.npmjs.org/url-parse/-/url-parse-1.5.10.tgz",
              "integrity": "sha512-WypcfiRhfeUP9vvF0j6rw0J3hrWrw6iZv3+22h6iRMJ/8z1Tj6XfLP4DsUix5MhMPnXpiHDoKyoZ/bdCkwBCiQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "querystringify": "^2.1.1",
                "requires-port": "^1.0.0"
              }
            },
            "node_modules/url-template": {
              "version": "2.0.8",
              "resolved": "https://registry.npmjs.org/url-template/-/url-template-2.0.8.tgz",
              "integrity": "sha512-XdVKMF4SJ0nP/O7XIPB0JwAEuT9lDIYnNsK8yGVe43y0AWoKeJNdv3ZNWh7ksJ6KqQFjOO6ox/VEitLnaVNufw==",
              "license": "BSD"
            },
            "node_modules/use-memo-one": {
              "version": "1.1.3",
              "resolved": "https://registry.npmjs.org/use-memo-one/-/use-memo-one-1.1.3.tgz",
              "integrity": "sha512-g66/K7ZQGYrI6dy8GLpVcMsBp4s17xNkYJVSMvTEevGy3nDxHOfE6z8BVE22+5G5x7t3+bhzrlTDB7ObrEE0cQ==",
              "license": "MIT",
              "peerDependencies": {
                "react": "^16.8.0 || ^17.0.0 || ^18.0.0"
              }
            },
            "node_modules/use-sync-external-store": {
              "version": "1.5.0",
              "resolved": "https://registry.npmjs.org/use-sync-external-store/-/use-sync-external-store-1.5.0.tgz",
              "integrity": "sha512-Rb46I4cGGVBmjamjphe8L/UnvJD+uPPtTkNvX5mZgqdbavhI4EbgIWJiIHXJ8bc/i9EQGPRh4DwEURJ552Do0A==",
              "license": "MIT",
              "peerDependencies": {
                "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0"
              }
            },
            "node_modules/util-deprecate": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/util-deprecate/-/util-deprecate-1.0.2.tgz",
              "integrity": "sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/utrie": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/utrie/-/utrie-1.0.2.tgz",
              "integrity": "sha512-1MLa5ouZiOmQzUbjbu9VmjLzn1QLXBhwpUa7kdLUQK+KQ5KA9I1vk5U4YHe/X2Ch7PYnJfWuWT+VbuxbGwljhw==",
              "license": "MIT",
              "optional": true,
              "dependencies": {
                "base64-arraybuffer": "^1.0.2"
              }
            },
            "node_modules/v8-to-istanbul": {
              "version": "9.3.0",
              "resolved": "https://registry.npmjs.org/v8-to-istanbul/-/v8-to-istanbul-9.3.0.tgz",
              "integrity": "sha512-kiGUalWN+rgBJ/1OHZsBtU4rXZOfj/7rKQxULKlIzwzQSvMJUUNgPwJEEh7gU6xEVxC0ahoOBvN2YI8GH6FNgA==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "@jridgewell/trace-mapping": "^0.3.12",
                "@types/istanbul-lib-coverage": "^2.0.1",
                "convert-source-map": "^2.0.0"
              },
              "engines": {
                "node": ">=10.12.0"
              }
            },
            "node_modules/w3c-xmlserializer": {
              "version": "4.0.0",
              "resolved": "https://registry.npmjs.org/w3c-xmlserializer/-/w3c-xmlserializer-4.0.0.tgz",
              "integrity": "sha512-d+BFHzbiCx6zGfz0HyQ6Rg69w9k19nviJspaj4yNscGjrHu94sVP+aRm75yEbCh+r2/yR+7q6hux9LVtbuTGBw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "xml-name-validator": "^4.0.0"
              },
              "engines": {
                "node": ">=14"
              }
            },
            "node_modules/walker": {
              "version": "1.0.8",
              "resolved": "https://registry.npmjs.org/walker/-/walker-1.0.8.tgz",
              "integrity": "sha512-ts/8E8l5b7kY0vlWLewOkDXMmPdLcVV4GmOQLyxuSswIJsweeFZtAsMF7k1Nszz+TYBQrlYRmzOnr398y1JemQ==",
              "dev": true,
              "license": "Apache-2.0",
              "dependencies": {
                "makeerror": "1.0.12"
              }
            },
            "node_modules/web-streams-polyfill": {
              "version": "3.3.3",
              "resolved": "https://registry.npmjs.org/web-streams-polyfill/-/web-streams-polyfill-3.3.3.tgz",
              "integrity": "sha512-d2JWLCivmZYTSIoge9MsgFCZrt571BikcWGYkjC1khllbTeDlGqZ2D8vD8E/lJa8WGWbb7Plm8/XJYV7IJHZZw==",
              "license": "MIT",
              "engines": {
                "node": ">= 8"
              }
            },
            "node_modules/webidl-conversions": {
              "version": "7.0.0",
              "resolved": "https://registry.npmjs.org/webidl-conversions/-/webidl-conversions-7.0.0.tgz",
              "integrity": "sha512-VwddBukDzu71offAQR975unBIGqfKZpM+8ZX6ySk8nYhVoo5CYaZyzt3YBvYtRtO+aoGlqxPg/B87NGVZ/fu6g==",
              "dev": true,
              "license": "BSD-2-Clause",
              "engines": {
                "node": ">=12"
              }
            },
            "node_modules/whatwg-encoding": {
              "version": "2.0.0",
              "resolved": "https://registry.npmjs.org/whatwg-encoding/-/whatwg-encoding-2.0.0.tgz",
              "integrity": "sha512-p41ogyeMUrw3jWclHWTQg1k05DSVXPLcVxRTYsXUk+ZooOCZLcoYgPZ/HL/D/N+uQPOtcp1me1WhBEaX02mhWg==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "iconv-lite": "0.6.3"
              },
              "engines": {
                "node": ">=12"
              }
            },
            "node_modules/whatwg-mimetype": {
              "version": "3.0.0",
              "resolved": "https://registry.npmjs.org/whatwg-mimetype/-/whatwg-mimetype-3.0.0.tgz",
              "integrity": "sha512-nt+N2dzIutVRxARx1nghPKGv1xHikU7HKdfafKkLNLindmPU/ch3U31NOCGGA/dmPcmb1VlofO0vnKAcsm0o/Q==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=12"
              }
            },
            "node_modules/whatwg-url": {
              "version": "11.0.0",
              "resolved": "https://registry.npmjs.org/whatwg-url/-/whatwg-url-11.0.0.tgz",
              "integrity": "sha512-RKT8HExMpoYx4igMiVMY83lN6UeITKJlBQ+vR/8ZJ8OCdSiN3RwCq+9gH0+Xzj0+5IrM6i4j/6LuvzbZIQgEcQ==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "tr46": "^3.0.0",
                "webidl-conversions": "^7.0.0"
              },
              "engines": {
                "node": ">=12"
              }
            },
            "node_modules/which": {
              "version": "2.0.2",
              "resolved": "https://registry.npmjs.org/which/-/which-2.0.2.tgz",
              "integrity": "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==",
              "license": "ISC",
              "dependencies": {
                "isexe": "^2.0.0"
              },
              "bin": {
                "node-which": "bin/node-which"
              },
              "engines": {
                "node": ">= 8"
              }
            },
            "node_modules/which-boxed-primitive": {
              "version": "1.1.1",
              "resolved": "https://registry.npmjs.org/which-boxed-primitive/-/which-boxed-primitive-1.1.1.tgz",
              "integrity": "sha512-TbX3mj8n0odCBFVlY8AxkqcHASw3L60jIuF8jFP78az3C2YhmGvqbHBpAjTRH2/xqYunrJ9g1jSyjCjpoWzIAA==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "is-bigint": "^1.1.0",
                "is-boolean-object": "^1.2.1",
                "is-number-object": "^1.1.1",
                "is-string": "^1.1.1",
                "is-symbol": "^1.1.1"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/which-collection": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/which-collection/-/which-collection-1.0.2.tgz",
              "integrity": "sha512-K4jVyjnBdgvc86Y6BkaLZEN933SwYOuBFkdmBu9ZfkcAbdVbpITnDmjvZ/aQjRXQrv5EPkTnD1s39GiiqbngCw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "is-map": "^2.0.3",
                "is-set": "^2.0.3",
                "is-weakmap": "^2.0.2",
                "is-weakset": "^2.0.3"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/which-typed-array": {
              "version": "1.1.19",
              "resolved": "https://registry.npmjs.org/which-typed-array/-/which-typed-array-1.1.19.tgz",
              "integrity": "sha512-rEvr90Bck4WZt9HHFC4DJMsjvu7x+r6bImz0/BrbWb7A2djJ8hnZMrWnHo9F8ssv0OMErasDhftrfROTyqSDrw==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "available-typed-arrays": "^1.0.7",
                "call-bind": "^1.0.8",
                "call-bound": "^1.0.4",
                "for-each": "^0.3.5",
                "get-proto": "^1.0.1",
                "gopd": "^1.2.0",
                "has-tostringtag": "^1.0.2"
              },
              "engines": {
                "node": ">= 0.4"
              },
              "funding": {
                "url": "https://github.com/sponsors/ljharb"
              }
            },
            "node_modules/wmf": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/wmf/-/wmf-1.0.2.tgz",
              "integrity": "sha512-/p9K7bEh0Dj6WbXg4JG0xvLQmIadrner1bi45VMJTfnbVHsc7yIajZyoSoK60/dtVBs12Fm6WkUI5/3WAVsNMw==",
              "license": "Apache-2.0",
              "engines": {
                "node": ">=0.8"
              }
            },
            "node_modules/word": {
              "version": "0.3.0",
              "resolved": "https://registry.npmjs.org/word/-/word-0.3.0.tgz",
              "integrity": "sha512-OELeY0Q61OXpdUfTp+oweA/vtLVg5VDOXh+3he3PNzLGG/y0oylSOC1xRVj0+l4vQ3tj/bB1HVHv1ocXkQceFA==",
              "license": "Apache-2.0",
              "engines": {
                "node": ">=0.8"
              }
            },
            "node_modules/wrap-ansi": {
              "version": "7.0.0",
              "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
              "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "ansi-styles": "^4.0.0",
                "string-width": "^4.1.0",
                "strip-ansi": "^6.0.0"
              },
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
              }
            },
            "node_modules/wrap-ansi-cjs": {
              "name": "wrap-ansi",
              "version": "7.0.0",
              "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
              "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "ansi-styles": "^4.0.0",
                "string-width": "^4.1.0",
                "strip-ansi": "^6.0.0"
              },
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
              }
            },
            "node_modules/wrappy": {
              "version": "1.0.2",
              "resolved": "https://registry.npmjs.org/wrappy/-/wrappy-1.0.2.tgz",
              "integrity": "sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ==",
              "dev": true,
              "license": "ISC"
            },
            "node_modules/write-file-atomic": {
              "version": "4.0.2",
              "resolved": "https://registry.npmjs.org/write-file-atomic/-/write-file-atomic-4.0.2.tgz",
              "integrity": "sha512-7KxauUdBmSdWnmpaGFg+ppNjKF8uNLry8LyzjauQDOVONfFLNKrKvQOxZ/VuTIcS/gge/YNahf5RIIQWTSarlg==",
              "dev": true,
              "license": "ISC",
              "dependencies": {
                "imurmurhash": "^0.1.4",
                "signal-exit": "^3.0.7"
              },
              "engines": {
                "node": "^12.13.0 || ^14.15.0 || >=16.0.0"
              }
            },
            "node_modules/ws": {
              "version": "8.18.3",
              "resolved": "https://registry.npmjs.org/ws/-/ws-8.18.3.tgz",
              "integrity": "sha512-PEIGCY5tSlUt50cqyMXfCzX+oOPqN0vuGqWzbcJ2xvnkzkq46oOpz7dQaTDBdfICb4N14+GARUDw2XV2N4tvzg==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10.0.0"
              },
              "peerDependencies": {
                "bufferutil": "^4.0.1",
                "utf-8-validate": ">=5.0.2"
              },
              "peerDependenciesMeta": {
                "bufferutil": {
                  "optional": true
                },
                "utf-8-validate": {
                  "optional": true
                }
              }
            },
            "node_modules/xlsx": {
              "version": "0.18.5",
              "resolved": "https://registry.npmjs.org/xlsx/-/xlsx-0.18.5.tgz",
              "integrity": "sha512-dmg3LCjBPHZnQp5/F/+nnTa+miPJxUXB6vtk42YjBBKayDNagxGEeIdWApkYPOf3Z3pm3k62Knjzp7lMeTEtFQ==",
              "license": "Apache-2.0",
              "dependencies": {
                "adler-32": "~1.3.0",
                "cfb": "~1.2.1",
                "codepage": "~1.15.0",
                "crc-32": "~1.2.1",
                "ssf": "~0.11.2",
                "wmf": "~1.0.1",
                "word": "~0.3.0"
              },
              "bin": {
                "xlsx": "bin/xlsx.njs"
              },
              "engines": {
                "node": ">=0.8"
              }
            },
            "node_modules/xml-name-validator": {
              "version": "4.0.0",
              "resolved": "https://registry.npmjs.org/xml-name-validator/-/xml-name-validator-4.0.0.tgz",
              "integrity": "sha512-ICP2e+jsHvAj2E2lIHxa5tjXRlKDJo4IdvPvCXbXQGdzSfmSpNVyIKMvoZHjDY9DP0zV17iI85o90vRFXNccRw==",
              "dev": true,
              "license": "Apache-2.0",
              "engines": {
                "node": ">=12"
              }
            },
            "node_modules/xmlchars": {
              "version": "2.2.0",
              "resolved": "https://registry.npmjs.org/xmlchars/-/xmlchars-2.2.0.tgz",
              "integrity": "sha512-JZnDKK8B0RCDw84FNdDAIpZK+JuJw+s7Lz8nksI7SIuU3UXJJslUthsi+uWBUYOwPFwW7W7PRLRfUKpxjtjFCw==",
              "dev": true,
              "license": "MIT"
            },
            "node_modules/y18n": {
              "version": "5.0.8",
              "resolved": "https://registry.npmjs.org/y18n/-/y18n-5.0.8.tgz",
              "integrity": "sha512-0pfFzegeDWJHJIAmTLRP2DwHjdF5s7jo9tuztdQxAhINCdvS+3nGINqPd00AphqJR/0LhANUS6/+7SCb98YOfA==",
              "dev": true,
              "license": "ISC",
              "engines": {
                "node": ">=10"
              }
            },
            "node_modules/yallist": {
              "version": "3.1.1",
              "resolved": "https://registry.npmjs.org/yallist/-/yallist-3.1.1.tgz",
              "integrity": "sha512-a4UGQaWPH59mOXUYnAG2ewncQS4i4F43Tv3JoAM+s2VDAmS9NsK8GpDMLrCHPksFT7h3K6TOoUNn2pb7RoXx4g==",
              "dev": true,
              "license": "ISC"
            },
            "node_modules/yaml": {
              "version": "2.8.0",
              "resolved": "https://registry.npmjs.org/yaml/-/yaml-2.8.0.tgz",
              "integrity": "sha512-4lLa/EcQCB0cJkyts+FpIRx5G/llPxfP6VQU5KByHEhLxY3IJCH0f0Hy1MHI8sClTvsIb8qwRJ6R/ZdlDJ/leQ==",
              "dev": true,
              "license": "ISC",
              "bin": {
                "yaml": "bin.mjs"
              },
              "engines": {
                "node": ">= 14.6"
              }
            },
            "node_modules/yargs": {
              "version": "17.7.2",
              "resolved": "https://registry.npmjs.org/yargs/-/yargs-17.7.2.tgz",
              "integrity": "sha512-7dSzzRQ++CKnNI/krKnYRV7JKKPUXMEh61soaHKg9mrWEhzFWhFnxPxGl+69cD1Ou63C13NUPCnmIcrvqCuM6w==",
              "dev": true,
              "license": "MIT",
              "dependencies": {
                "cliui": "^8.0.1",
                "escalade": "^3.1.1",
                "get-caller-file": "^2.0.5",
                "require-directory": "^2.1.1",
                "string-width": "^4.2.3",
                "y18n": "^5.0.5",
                "yargs-parser": "^21.1.1"
              },
              "engines": {
                "node": ">=12"
              }
            },
            "node_modules/yargs-parser": {
              "version": "21.1.1",
              "resolved": "https://registry.npmjs.org/yargs-parser/-/yargs-parser-21.1.1.tgz",
              "integrity": "sha512-tVpsJW7DdjecAiFpbIB1e3qxIQsE6NoPc5/eTdrbbIC4h0LVsWhnoa3g+m2HclBIujHzsxZ4VJVA+GUuc2/LBw==",
              "dev": true,
              "license": "ISC",
              "engines": {
                "node": ">=12"
              }
            },
            "node_modules/yocto-queue": {
              "version": "0.1.0",
              "resolved": "https://registry.npmjs.org/yocto-queue/-/yocto-queue-0.1.0.tgz",
              "integrity": "sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q==",
              "dev": true,
              "license": "MIT",
              "engines": {
                "node": ">=10"
              },
              "funding": {
                "url": "https://github.com/sponsors/sindresorhus"
              }
            }
          }
        }

    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ package.json
    ‚îî‚îÄ‚îÄ Conte√∫do:
        {
          "name": "client-kanban-system",
          "version": "1.0.0",
          "private": true,
          "scripts": {
            "dev": "next dev",
            "build": "next build",
            "start": "next start",
            "test": "jest --coverage",
            "inventario": "node scripts/inventario.js"
          },
          "dependencies": {
            "@hello-pangea/dnd": "16.5.0",
            "chart.js": "^4.5.0",
            "clipboardy": "^4.0.0",
            "clsx": "^2.1.1",
            "googleapis": "^150.0.1",
            "jspdf": "^2.5.2",
            "jspdf-autotable": "^3.8.4",
            "next": "^14.2.0",
            "react": "^18.2.0",
            "react-chartjs-2": "^5.3.0",
            "react-dom": "^18.2.0",
            "react-icons": "^5.5.0",
            "xlsx": "^0.18.5"
          },
          "devDependencies": {
            "@testing-library/jest-dom": "^6.0.0",
            "@testing-library/react": "^14.0.0",
            "@testing-library/user-event": "^14.4.3",
            "autoprefixer": "^10.4.17",
            "jest": "^29.7.0",
            "jest-environment-jsdom": "^29.7.0",
            "postcss": "^8.4.35",
            "tailwindcss": "^3.4.1",
            "typescript": "^5.9.2"
          }
        }

    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÅ pages
        üìÅ api
            üìÑ cep.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                import { lookupCep } from '../../lib/cep.js';

                export default async function handler(req, res) {
                  const cep = req.method === 'GET' ? req.query.cep : req.body?.cep;
                  if (!cep) {
                    return res.status(400).json({ ok: false, error: 'CEP √© obrigat√≥rio' });
                  }
                  try {
                    const data = await lookupCep(cep);
                    return res.status(200).json({ ok: true, data });
                  } catch (err) {
                    return res.status(500).json({ ok: false, error: String(err?.message || err) });
                  }
                }

            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ clientes.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                import { getSheetCached, appendRow, updateRow } from '../../lib/googleSheets';
                import { normalizePhones } from '../../lib/report';

                // ‚úÖ Protege n√∫meros de telefone para salvar como texto no Sheets
                function protectPhoneValue(value) {
                  if (!value) return '';
                  const str = String(value).trim();
                  if (/^\+?\d{8,}$/.test(str)) {
                    return str.startsWith("'") ? str : `'${str}`;
                  }
                  return str;
                }

                // ‚úÖ Junta os 3 tipos de e-mail e remove duplicados
                function collectEmails(row, idx) {
                  const emails = [
                    row[idx.emailWork] || '',
                    row[idx.emailHome] || '',
                    row[idx.emailOther] || '',
                  ].map(e => e.trim()).filter(Boolean);

                  return Array.from(new Set(emails)).join(';');
                }

                function groupRows(rows) {
                  const [header, ...data] = rows;
                  const idx = {
                    clienteId: header.indexOf('Cliente_ID'),
                    org: header.indexOf('Organiza√ß√£o - Nome'),
                    titulo: header.indexOf('Neg√≥cio - T√≠tulo'),
                    contato: header.indexOf('Neg√≥cio - Pessoa de contato'),
                    cargo: header.indexOf('Pessoa - Cargo'),
                    emailWork: header.indexOf('Pessoa - Email - Work'),
                    emailHome: header.indexOf('Pessoa - Email - Home'),
                    emailOther: header.indexOf('Pessoa - Email - Other'),
                    phoneWork: header.indexOf('Pessoa - Phone - Work'),
                    phoneHome: header.indexOf('Pessoa - Phone - Home'),
                    phoneMobile: header.indexOf('Pessoa - Phone - Mobile'),
                    phoneOther: header.indexOf('Pessoa - Phone - Other'),
                    tel: header.indexOf('Pessoa - Telefone'),
                    cel: header.indexOf('Pessoa - Celular'),
                    normalizado: header.indexOf('Telefone Normalizado'),
                    segmento: header.indexOf('Organiza√ß√£o - Segmento'),
                    tamanho: header.indexOf('Organiza√ß√£o - Tamanho da empresa'),
                    uf: header.indexOf('uf'),
                    cidade: header.indexOf('cidade_estimada'),
                    status: header.indexOf('Status_Kanban'),
                    data: header.indexOf('Data_Ultima_Movimentacao'),
                    linkedin: header.indexOf('Pessoa - End. Linkedin'),
                    cor: header.indexOf('Cor_Card'),
                  };

                  const filters = {
                    segmento: new Set(),
                    porte: new Set(),
                    uf: new Set(),
                    cidade: new Set(),
                  };

                  const clientesMap = new Map();

                  data.forEach((row) => {
                    const clienteId = row[idx.clienteId] || '';
                    const company = row[idx.org] || '';
                    const segment = row[idx.segmento] || '';
                    const size = row[idx.tamanho] || '';
                    const uf = row[idx.uf] || '';
                    const city = row[idx.cidade] || '';
                    const status = row[idx.status] || '';
                    const dataMov = row[idx.data] || '';
                    const color = row[idx.cor] || '';

                    filters.segmento.add(segment);
                    filters.porte.add(size);
                    filters.uf.add(uf);
                    filters.cidade.add(city);

                    const contact = {
                      name: (row[idx.contato] || '').trim(),
                      role: (row[idx.cargo] || '').trim(),
                      email: collectEmails(row, idx),
                      phone: protectPhoneValue(row[idx.tel]),
                      mobile: protectPhoneValue(row[idx.cel]),
                      normalizedPhones: normalizePhones(row, idx).map(protectPhoneValue),
                      linkedin: (row[idx.linkedin] || '').trim(),
                    };

                    const opportunity = row[idx.titulo] || '';

                    if (clientesMap.has(clienteId)) {
                      const existing = clientesMap.get(clienteId);

                      if (opportunity && !existing.opportunities.includes(opportunity)) {
                        existing.opportunities.push(opportunity);
                      }

                      const existsContact = existing.contacts.find(
                        (c) => c.name === contact.name && c.email === contact.email
                      );
                      if (!existsContact && (contact.name || contact.email)) {
                        existing.contacts.push(contact);
                      }
                    } else {
                      clientesMap.set(clienteId, {
                        id: clienteId,
                        company,
                        opportunities: opportunity ? [opportunity] : [],
                        contacts: contact.name || contact.email ? [contact] : [],
                        segment,
                        size,
                        uf,
                        city,
                        status,
                        dataMov,
                        color,
                      });
                    }
                  });

                  const clients = Array.from(clientesMap.values());

                  return {
                    clients,
                    filters: {
                      segmento: Array.from(filters.segmento).sort(),
                      porte: Array.from(filters.porte).sort(),
                      uf: Array.from(filters.uf).sort(),
                      cidade: Array.from(filters.cidade).sort(),
                    },
                  };
                }

                export default async function handler(req, res) {
                  if (req.method === 'GET') {
                    try {
                      const sheet = await getSheetCached();
                      const rows = sheet.data.values || [];
                      const { clients, filters } = groupRows(rows);

                      const limitParam = parseInt(req.query.limit, 10);
                      const limit = Number.isFinite(limitParam) && limitParam >= 0 ? limitParam : clients.length;

                      if (req.query.countOnly === '1') {
                        return res.status(200).json({ total: clients.length });
                      }

                      return res.status(200).json({ clients: clients.slice(0, limit), filters });
                    } catch (err) {
                      console.error('Erro ao listar clientes:', err);
                      return res.status(500).json({ error: 'Erro ao listar clientes' });
                    }
                  }

                  if (req.method === 'POST') {
                    try {
                      const { row, values } = req.body;

                      if (values?.telefone_normalizado) {
                        values.telefone_normalizado = values.telefone_normalizado
                          .split(';')
                          .map(protectPhoneValue)
                          .join(';');
                      }
                      if (values?.tel) values.tel = protectPhoneValue(values.tel);
                      if (values?.cel) values.cel = protectPhoneValue(values.cel);

                      if (row) {
                        await updateRow(row, values);
                      } else {
                        await appendRow(values);
                      }
                      return res.status(200).json({ ok: true });
                    } catch (err) {
                      console.error('Erro ao salvar cliente:', err);
                      return res.status(500).json({ error: 'Erro ao salvar cliente' });
                    }
                  }

                  return res.status(405).end();
                }

            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ clientes.test.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                /** @jest-environment node */
                import handler from './clientes';
                import { getSheetCached } from '../../lib/googleSheets';

                jest.mock('../../lib/googleSheets', () => ({
                  getSheetCached: jest.fn()
                }));

                describe('GET /api/clientes', () => {
                  const header = [
                    'Cliente_ID',
                    'Organiza√ß√£o - Nome',
                    'Neg√≥cio - T√≠tulo',
                    'Neg√≥cio - Pessoa de contato',
                    'Pessoa - Cargo',
                    'Pessoa - Email - Work',
                    'Pessoa - Email - Home',
                    'Pessoa - Email - Other',
                    'Pessoa - Phone - Work',
                    'Pessoa - Phone - Home',
                    'Pessoa - Phone - Mobile',
                    'Pessoa - Phone - Other',
                    'Pessoa - Telefone',
                    'Pessoa - Celular',
                    'Telefone Normalizado',
                    'Organiza√ß√£o - Segmento',
                    'Organiza√ß√£o - Tamanho da empresa',
                    'uf',
                    'cidade_estimada',
                    'Status_Kanban',
                    'Data_Ultima_Movimentacao',
                    'Pessoa - End. Linkedin',
                    'Cor_Card'
                  ];

                  function makeRows(count) {
                    return Array.from({ length: count }, (_, i) => {
                      const row = Array(header.length).fill('');
                      row[0] = `id${i}`;
                      row[1] = `Company ${i}`;
                      return row;
                    });
                  }

                  it('returns all clients when limit not provided', async () => {
                    const rows = [header, ...makeRows(1205)];
                    getSheetCached.mockResolvedValue({ data: { values: rows } });

                    const req = { method: 'GET', query: {} };
                    const res = { status: jest.fn().mockReturnThis(), json: jest.fn() };
                    await handler(req, res);

                    expect(res.status).toHaveBeenCalledWith(200);
                    const payload = res.json.mock.calls[0][0];
                    expect(payload.clients).toHaveLength(1205);
                  });

                  it('respects explicit limit', async () => {
                    const rows = [header, ...makeRows(50)];
                    getSheetCached.mockResolvedValue({ data: { values: rows } });

                    const req = { method: 'GET', query: { limit: '10' } };
                    const res = { status: jest.fn().mockReturnThis(), json: jest.fn() };
                    await handler(req, res);

                    const payload = res.json.mock.calls[0][0];
                    expect(payload.clients).toHaveLength(10);
                  });

                  it('returns count when countOnly=1', async () => {
                    const rows = [header, ...makeRows(30)];
                    getSheetCached.mockResolvedValue({ data: { values: rows } });

                    const req = { method: 'GET', query: { countOnly: '1' } };
                    const res = { status: jest.fn().mockReturnThis(), json: jest.fn() };
                    await handler(req, res);

                    expect(res.json).toHaveBeenCalledWith({ total: 30 });
                  });
                });

            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ corrigir-cor-card.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                import { getSheetsClient, getSheetData } from '../../lib/googleSheets';

                const SHEET_NAME = 'Sheet1';
                const KEY = 'Cliente_ID';
                const COLOR_COLUMN = 'Cor_Card';

                const clean = (v) => (v ?? '').toString().trim();

                function colLetter(n) {
                  let s = '';
                  while (n >= 0) {
                    s = String.fromCharCode((n % 26) + 65) + s;
                    n = Math.floor(n / 26) - 1;
                  }
                  return s;
                }

                export default async function handler(req, res) {
                  if (req.method !== 'POST') {
                    return res.status(405).json({ error: 'Method not allowed' });
                  }

                  try {
                    const { headers, rows } = await getSheetData(SHEET_NAME);
                    const colorIdx = headers.indexOf(COLOR_COLUMN);
                    if (colorIdx === -1) {
                      return res.status(400).json({ error: 'Coluna Cor_Card n√£o encontrada' });
                    }

                    const updates = [];
                    const antesDepois = [];

                    for (const row of rows) {
                      const id = clean(row[KEY]);
                      const cor = clean(row[COLOR_COLUMN]);
                      if (!id || !cor) continue;
                      if (cor.toLowerCase() === 'grenn') {
                        const linha = row._rowNumber;
                        const col = colLetter(colorIdx);
                        updates.push({
                          range: `${SHEET_NAME}!${col}${linha}:${col}${linha}`,
                          values: [['green']],
                        });
                        antesDepois.push({ linha, antes: cor, depois: 'green' });
                      }
                    }

                    if (updates.length > 0) {
                      const sheets = await getSheetsClient();
                      await sheets.spreadsheets.values.batchUpdate({
                        spreadsheetId: process.env.SPREADSHEET_ID,
                        requestBody: {
                          valueInputOption: 'RAW',
                          data: updates,
                        },
                      });
                    }

                    const linhas = antesDepois.map((a) => a.linha);
                    return res.status(200).json({
                      corrigidos: antesDepois.length,
                      linhas,
                      antesDepois,
                    });
                  } catch (err) {
                    console.error('[corrigir-cor-card] ERRO:', err);
                    return res.status(500).json({ error: err.message });
                  }
                }

            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ enriquecer-empresa.ts
            ‚îî‚îÄ‚îÄ Conte√∫do:
                import type { NextApiRequest, NextApiResponse } from 'next';
                import { enrichCompanyData } from '@/lib/perplexity';

                export default async function handler(req: NextApiRequest, res: NextApiResponse) {
                  if (req.method !== 'POST') return res.status(405).json({ error: 'Method not allowed' });

                  try {
                    const start = Date.now();
                    const { nome } = req.body || {};
                    if (!nome) return res.status(400).json({ error: 'Informe o nome da empresa' });

                    const suggestion = await enrichCompanyData({ nome });
                    console.log('ENRIQUECER_EMPRESA', { duration: Date.now() - start });
                    return res.status(200).json({ suggestion });
                  } catch (err: any) {
                    return res.status(500).json({ error: err?.message || 'Erro ao enriquecer empresa' });
                  }
                }

            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ interacoes.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                import { getHistorySheetCached, appendHistoryRow } from '../../lib/googleSheets';

                export default async function handler(req, res) {
                  if (req.method === 'POST') {
                    const {
                      clienteId,
                      tipo,
                      dataHora,
                      deFase,
                      paraFase,
                      canal,
                      observacao,
                      mensagemUsada,
                    } = req.body || {};

                    if (!clienteId || !tipo || !dataHora) {
                      return res.status(400).json({ error: 'Dados obrigat√≥rios ausentes' });
                    }

                    const rowData = {
                      cliente_id: clienteId,
                      tipo,
                      data_hora: dataHora,
                    };
                    if (deFase) rowData.de_fase = deFase;
                    if (paraFase) rowData.para_fase = paraFase;
                    if (canal) rowData.canal = canal;
                    if (observacao) rowData.observacao = observacao;
                    if (mensagemUsada) rowData.mensagem_usada = mensagemUsada;

                    try {
                      await appendHistoryRow(rowData);
                      return res.status(200).json({ ok: true });
                    } catch (err) {
                      console.error('Erro ao registrar intera√ß√£o:', err);
                      return res.status(500).json({ error: 'Falha ao registrar intera√ß√£o' });
                    }
                  }

                  if (req.method === 'GET') {
                    try {
                      const start = Date.now();
                      const clienteId = req.query.clienteId || '';
                      const sheet = await getHistorySheetCached();
                      const rows = sheet.data.values || [];
                      if (rows.length === 0) return res.status(200).json([]);
                      const [header, ...data] = rows;
                      const idx = {
                        cliente: header.indexOf('Cliente_ID'),
                        dataHora: header.indexOf('Data_Hora'),
                        tipo: header.indexOf('Tipo'),
                        deFase: header.indexOf('De_Fase'),
                        paraFase: header.indexOf('Para_Fase'),
                        canal: header.indexOf('Canal'),
                        obs: header.indexOf('Observacao'),
                        msg: header.indexOf('Mensagem_Usada'),
                      };

                      const itensRaw = data
                        .filter((r) => !clienteId || r[idx.cliente] === clienteId)
                        .map((r) => ({
                          clienteId: r[idx.cliente] || '',
                          dataHora: r[idx.dataHora] || '',
                          tipo: r[idx.tipo] || '',
                          deFase: r[idx.deFase] || '',
                          paraFase: r[idx.paraFase] || '',
                          canal: r[idx.canal] || '',
                          observacao: r[idx.obs] || '',
                          mensagemUsada: r[idx.msg] || '',
                        }))
                        .sort((a, b) => (a.dataHora < b.dataHora ? 1 : -1));

                      const limitParam = parseInt(req.query.limit, 10);
                      const limit = Number.isFinite(limitParam) && limitParam >= 0 ? limitParam : itensRaw.length;
                      const itens = itensRaw.slice(0, limit);

                      console.log('INTERACOES_READ', { duration: Date.now() - start, count: itens.length });
                      return res.status(200).json(itens);
                    } catch (err) {
                      console.error('Erro ao buscar hist√≥rico:', err);
                      return res.status(500).json({ error: 'Erro ao ler hist√≥rico' });
                    }
                  }

                  return res.status(405).end();
                }

            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ kanban.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                import { getSheet, getSheetCached, findRowIndexById, updateRowByIndex } from '../../lib/googleSheets';
                import { normalizePhones } from '../../lib/report';

                // ‚úÖ Protege n√∫meros de telefone para salvar como texto no Sheets
                function protectPhoneValue(value) {
                  if (!value) return '';
                  const str = String(value).trim();
                  if (/^\+?\d{8,}$/.test(str)) {
                    return str.startsWith("'") ? str : `'${str}`;
                  }
                  return str;
                }

                // ‚úÖ Junta os 3 tipos de e-mail e remove duplicados
                function collectEmails(row, idx) {
                  const emails = [
                    row[idx.emailWork] || '',
                    row[idx.emailHome] || '',
                    row[idx.emailOther] || '',
                  ]
                    .map((e) => String(e).trim())
                    .filter(Boolean);

                  return Array.from(new Set(emails)).join(';');
                }

                function groupRows(rows) {
                  const [header, ...data] = rows;
                  const idx = {
                    clienteId: header.indexOf('Cliente_ID'),
                    org: header.indexOf('Organiza√ß√£o - Nome'),
                    titulo: header.indexOf('Neg√≥cio - T√≠tulo'),
                    contato: header.indexOf('Neg√≥cio - Pessoa de contato'),
                    cargo: header.indexOf('Pessoa - Cargo'),
                    emailWork: header.indexOf('Pessoa - Email - Work'),
                    emailHome: header.indexOf('Pessoa - Email - Home'),
                    emailOther: header.indexOf('Pessoa - Email - Other'),
                    phoneWork: header.indexOf('Pessoa - Phone - Work'),
                    phoneHome: header.indexOf('Pessoa - Phone - Home'),
                    phoneMobile: header.indexOf('Pessoa - Phone - Mobile'),
                    phoneOther: header.indexOf('Pessoa - Phone - Other'),
                    tel: header.indexOf('Pessoa - Telefone'),
                    cel: header.indexOf('Pessoa - Celular'),
                    normalizado: header.indexOf('Telefone Normalizado'),
                    segmento: header.indexOf('Organiza√ß√£o - Segmento'),
                    tamanho: header.indexOf('Organiza√ß√£o - Tamanho da empresa'),
                    uf: header.indexOf('uf'),
                    cidade: header.indexOf('cidade_estimada'),
                    status: header.indexOf('Status_Kanban'),
                    data: header.indexOf('Data_Ultima_Movimentacao'),
                    linkedin: header.indexOf('Pessoa - End. Linkedin'),
                    cor: header.indexOf('Cor_Card'),
                    produto: header.indexOf('Neg√≥cio - Nome do produto'),
                  };

                  const map = new Map();

                  data.forEach((row, i) => {
                    const clienteId = row[idx.clienteId];
                    if (!clienteId) return;

                    if (!map.has(clienteId)) {
                      map.set(clienteId, {
                        id: clienteId,
                        company: row[idx.org] || '',
                        opportunities: [],
                        contactsMap: new Map(),
                        segment: row[idx.segmento] || '',
                        size: row[idx.tamanho] || '',
                        uf: row[idx.uf] || '',
                        city: row[idx.cidade] || '',
                        status: '', // Will be overwritten by the latest row
                        dataMov: '', // Will be overwritten by the latest row
                        color: '', // Will be overwritten by the latest row
                        produto: row[idx.produto] || '',
                        rows: [],
                      });
                    }

                    // Always update status and color to reflect the latest row for a given ID
                    const client = map.get(clienteId);
                    const newStatus = (row[idx.status] || '').trim();
                    const newColor = row[idx.cor] || '';
                    const newDataMov = row[idx.data] || '';

                    if (newStatus) client.status = newStatus;
                    if (newColor) client.color = newColor;
                    if (newDataMov) client.dataMov = newDataMov;

                    client.opportunities.push(row[idx.titulo] || '');
                    client.rows.push(i + 2);

                    const contactName = (row[idx.contato] || '').trim();
                    const allEmails = collectEmails(row, idx);
                    const key = `${contactName}|${allEmails}`;

                    if (!client.contactsMap.has(key)) {
                      const normalized = normalizePhones(row, idx).map(protectPhoneValue);
                      client.contactsMap.set(key, {
                        name: contactName,
                        role: (row[idx.cargo] || '').trim(),
                        email: allEmails,
                        phone: protectPhoneValue(row[idx.tel]),
                        mobile: protectPhoneValue(row[idx.cel]),
                        normalizedPhones: normalized,
                        linkedin: (row[idx.linkedin] || '').trim(),
                      });
                    }
                  });

                  return {
                    clients: Array.from(map.values()).map((c) => ({
                      id: c.id,
                      company: c.company,
                      opportunities: Array.from(new Set(c.opportunities)),
                      contacts: Array.from(c.contactsMap.values()),
                      segment: c.segment,
                      size: c.size,
                      uf: c.uf,
                      city: c.city,
                      status: c.status,
                      dataMov: c.dataMov,
                      color: c.color,
                      produto: c.produto,
                      rows: c.rows,
                    })),
                  };
                }

                export default async function handler(req, res) {
                  if (req.method === 'GET') {
                    try {
                      const sheet = await getSheet();
                      const rows = sheet.data.values || [];
                      const { clients } = groupRows(rows);

                      const limitParam = parseInt(req.query.limit, 10);
                      const limit = Number.isFinite(limitParam) && limitParam >= 0 ? limitParam : clients.length;

                      const columns = [
                        'Lead Selecionado',
                        'Tentativa de Contato',
                        'Contato Efetuado',
                        'Conversa Iniciada',
                        'Reuni√£o Agendada',
                        'Enviado Spotter',
                        'Perdido',
                      ];
                      const board = columns.map((col) => ({ id: col, title: col, cards: [] }));

                      clients.slice(0, limit).forEach((client) => {
                        const col = board.find((c) => c.id === client.status);
                        if (col) {
                          col.cards.push({ id: client.id, client });
                        }
                      });

                      return res.status(200).json(board);
                    } catch (err) {
                      console.error('Erro ao listar kanban:', err);
                      return res.status(500).json({ error: 'Erro ao listar kanban' });
                    }
                  }

                  if (req.method === 'POST') {
                    try {
                      const { id, destination, status, color } = req.body;
                      const newStatus = status || (destination && destination.droppableId);
                      const newColor =
                        color !== undefined
                          ? color
                          : newStatus === 'Perdido'
                          ? 'red'
                          : undefined;

                      const sheetName = 'Sheet1';
                      const rowIndex = await findRowIndexById(sheetName, 1, 'Cliente_ID', id);
                      if (rowIndex < 0) {
                        return res.status(404).json({ error: 'ID n√£o encontrado' });
                      }

                      const updates = {};
                      if (newStatus !== undefined) {
                        updates['Status_Kanban'] = newStatus;
                      }
                      if (newColor !== undefined) {
                        updates['Cor_Card'] = newColor;
                      }
                      updates['Data_Ultima_Movimentacao'] = new Date().toISOString().split('T')[0];

                      await updateRowByIndex({ sheetName, rowIndex, updates });

                      return res.status(200).json({ status: newStatus, color: newColor });
                    } catch (err) {
                      console.error('Erro ao atualizar kanban:', err);
                      const statusCode = err?.response?.status || err?.code || 500;
                      return res.status(statusCode).json({ error: err.message || 'Erro ao atualizar kanban' });
                    }
                  }

                  return res.status(405).end();
                }

            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ kanban.test.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                /** @jest-environment node */
                import handler from './kanban';
                import { findRowIndexById, updateRowByIndex } from '../../lib/googleSheets';

                jest.mock('../../lib/googleSheets', () => ({
                  getSheetCached: jest.fn(),
                  findRowIndexById: jest.fn(),
                  updateRowByIndex: jest.fn(),
                }));

                describe('POST /api/kanban', () => {
                  beforeEach(() => {
                    findRowIndexById.mockReset();
                    updateRowByIndex.mockReset();
                  });

                  it('persists double-click change', async () => {
                    findRowIndexById.mockResolvedValue(10);
                    const req = {
                      method: 'POST',
                      body: { id: '1', status: 'Lead Selecionado', color: 'green' },
                    };
                    const res = { status: jest.fn().mockReturnThis(), json: jest.fn() };
                    await handler(req, res);
                    expect(findRowIndexById).toHaveBeenCalledWith('Sheet1', 1, 'Cliente_ID', '1');
                    expect(updateRowByIndex).toHaveBeenCalled();
                    const call = updateRowByIndex.mock.calls[0][0];
                    expect(call.updates.Status_Kanban).toBe('Lead Selecionado');
                    expect(call.updates.Cor_Card).toBe('green');
                    expect(res.status).toHaveBeenCalledWith(200);
                  });

                  it('persists drag and drop change', async () => {
                    findRowIndexById.mockResolvedValue(5);
                    const req = {
                      method: 'POST',
                      body: { id: '1', destination: { droppableId: 'Contato Efetuado' } },
                    };
                    const res = { status: jest.fn().mockReturnThis(), json: jest.fn() };
                    await handler(req, res);
                    expect(updateRowByIndex).toHaveBeenCalled();
                    const call = updateRowByIndex.mock.calls[0][0];
                    expect(call.updates.Status_Kanban).toBe('Contato Efetuado');
                    expect(res.status).toHaveBeenCalledWith(200);
                  });

                  it('returns 404 when ID not found', async () => {
                    findRowIndexById.mockResolvedValue(-1);
                    const req = { method: 'POST', body: { id: 'xyz', status: 'Lead Selecionado' } };
                    const res = { status: jest.fn().mockReturnThis(), json: jest.fn() };
                    await handler(req, res);
                    expect(res.status).toHaveBeenCalledWith(404);
                  });
                });


            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ mensagens.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                import { getSheetData } from '../../lib/googleSheets';

                // Simple in-memory cache
                const cache = { time: 0, data: null };
                const TTL = 10000; // 10 seconds

                function normalizeApp(str) {
                  return String(str || '')
                    .toLowerCase()
                    .replace(/[^a-z]/g, '');
                }

                async function fetchMensagens() {
                  const { headers, rows } = await getSheetData('Mensagens');

                  // Find header names safely, accommodating for variations.
                  const lowerHeaders = headers.map(h => (h || '').toLowerCase());
                  const tituloHeader = headers[lowerHeaders.indexOf('t√≠tulo')] || headers[lowerHeaders.indexOf('titulo')];
                  const appHeader = headers[lowerHeaders.indexOf('aplicativo')];
                  const msgHeader = headers[lowerHeaders.indexOf('mensagem')];

                  // If essential headers are missing, log an error and return empty.
                  if (!tituloHeader || !appHeader || !msgHeader) {
                    console.error('Could not find required headers (t√≠tulo/titulo, aplicativo, mensagem) in "Mensagens" sheet.');
                    return [];
                  }

                  return rows
                    .map((row) => ({
                      titulo: row[tituloHeader] || '',
                      aplicativo: normalizeApp(row[appHeader]),
                      mensagem: row[msgHeader] || '',
                    }))
                    .filter((m) => m.titulo || m.mensagem);
                }

                export async function getMensagens() {
                  if (cache.data && Date.now() - cache.time < TTL) {
                    return cache.data;
                  }
                  const data = await fetchMensagens();
                  cache.time = Date.now();
                  cache.data = data;
                  return data;
                }

                export default async function handler(req, res) {
                  if (req.method !== 'GET') return res.status(405).end();
                  try {
                    const appFilter = req.query.app ? normalizeApp(req.query.app) : '';
                    const messages = await getMensagens();
                    const filtered = appFilter
                      ? messages.filter((m) => m.aplicativo === appFilter)
                      : messages;
                    res.status(200).json({ messages: filtered });
                  } catch (err) {
                    console.error('Erro ao ler mensagens:', err);
                    res.status(500).json({ error: 'Erro ao ler mensagens' });
                  }
                }

            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ mesclar-leads-exact-spotter.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                import { getSheetsClient, getSheetData, withRetry, chunk } from '../../lib/googleSheets';

                const SHEET_LAYOUT = 'layout_importacao_empresas';
                const SHEET_SHEET1 = 'Sheet1';
                const SHEET_PADROES = 'Padroes';
                const SHEET_DEST = 'Leads Exact Spotter';
                const KEY = 'Cliente_ID'; // chave √∫nica padronizada

                // Utils
                const clean = (v) => (v ?? '').toString().trim();
                const pick = (row, ...names) => {
                  for (const n of names) {
                    const v = row[n];
                    if (v !== undefined && v !== null && clean(v)) return clean(v);
                  }
                  return '';
                };

                function normalizeUF(uf) {
                  const norm = clean(uf)
                    .toUpperCase()
                    .normalize('NFD')
                    .replace(/[^A-Z]/g, '');
                  const map = {
                    AC: 'AC', ACRE: 'AC',
                    AL: 'AL', ALAGOAS: 'AL',
                    AP: 'AP', AMAPA: 'AP',
                    AM: 'AM', AMAZONAS: 'AM',
                    BA: 'BA', BAHIA: 'BA',
                    CE: 'CE', CEARA: 'CE', CEAR√Å: 'CE',
                    DF: 'DF', DISTRITOFEDERAL: 'DF',
                    ES: 'ES', ESPIRITOSANTO: 'ES', ESP√çRITOSANTO: 'ES',
                    GO: 'GO', GOIAS: 'GO', GOI√ÅS: 'GO',
                    MA: 'MA', MARANHAO: 'MA', MARANH√ÉO: 'MA',
                    MT: 'MT', MATOGROSSO: 'MT',
                    MS: 'MS', MATOGROSSODOSUL: 'MS',
                    MG: 'MG', MINASGERAIS: 'MG',
                    PA: 'PA', PARA: 'PA', PAR√Å: 'PA',
                    PB: 'PB', PARAIBA: 'PB', PARA√çBA: 'PB',
                    PR: 'PR', PARANA: 'PR', PARAN√Å: 'PR',
                    PE: 'PE', PERNAMBUCO: 'PE',
                    PI: 'PI', PIAUI: 'PI', PIAU√ç: 'PI',
                    RJ: 'RJ', RIODEJANEIRO: 'RJ',
                    RN: 'RN', RIOGRANDEDONORTE: 'RN',
                    RS: 'RS', RIOGRANDEDOSUL: 'RS',
                    RO: 'RO', RONDONIA: 'RO', ROND√îNIA: 'RO',
                    RR: 'RR', RORAIMA: 'RR',
                    SC: 'SC', SANTACATARINA: 'SC',
                    SP: 'SP', SAOPAULO: 'SP',
                    SE: 'SE', SERGIPE: 'SE',
                    TO: 'TO', TOCANTINS: 'TO'
                  };
                  return map[norm] || norm;
                }
                function splitPhones(str) {
                  if (!str) return [];
                  return [...new Set(
                    str.split(';').map(s => clean(s)).filter(Boolean)
                  )];
                }
                function joinPhones(arr) {
                  return (arr && arr.length) ? arr.join(';') : '';
                }
                function preferNonEmpty(curr, next) {
                  return clean(next) || clean(curr) || '';
                }
                // A -> Z -> AA...
                function colLetter(n) {
                  let s = '';
                  while (n >= 0) {
                    s = String.fromCharCode((n % 26) + 65) + s;
                    n = Math.floor(n / 26) - 1;
                  }
                  return s;
                }

                export default async function handler(req, res) {
                  if (req.method !== 'POST') {
                    return res.status(405).json({ error: 'Method not allowed' });
                  }

                  try {
                    // 1) Ler abas com helpers do lib
                    const [{ rows: layout }, { rows: sheet1 }, { rows: padroes }, destRaw] = await Promise.all([
                      getSheetData(SHEET_LAYOUT),
                      getSheetData(SHEET_SHEET1),
                      getSheetData(SHEET_PADROES),
                      getSheetData(SHEET_DEST),
                    ]);

                    const { headers: destHeadersRaw, rows: destRows } = destRaw;

                    // 2) Listas v√°lidas de Produtos e Mercados
                    const produtosValidos = padroes.map(r => clean(r['Produtos'])).filter(Boolean);
                    const mercadosValidos = padroes.map(r => clean(r['Mercados'])).filter(Boolean);

                    // 3) √çndices por Cliente_ID
                    const idOf = (r) => clean(r[KEY]);
                    const mapSheet1 = new Map(sheet1.map(r => [idOf(r), r]).filter(([k]) => !!k));
                    const mapDest = new Map(destRows.map(r => [idOf(r), r]).filter(([k]) => !!k));

                    // 4) Header do destino (migrar Client_ID -> Cliente_ID se necess√°rio)
                    const neededCols = new Set([
                      KEY,
                      'Nome do Lead','Origem','Sub-Origem','Mercado','Produto',
                      'Site','Pa√≠s','Estado','Cidade','Logradouro','N√∫mero','Bairro','Complemento','CEP',
                      'DDI','Telefones',
                      'Observa√ß√£o','CPF/CNPJ',
                      'Nome Contato','E-mail Contato','Cargo Contato','DDI Contato','Telefones Contato',
                      'Tipo do Serv. Comunica√ß√£o','ID do Serv. Comunica√ß√£o','√Årea',
                      'Nome da Empresa','Etapa','Funil',
                    ]);

                    let header = Array.isArray(destHeadersRaw) ? [...destHeadersRaw] : [];
                    const hasOld = header.includes('Client_ID');
                    const hasKey = header.includes(KEY);
                    if (hasOld && !hasKey) {
                      header = header.map(h => (h === 'Client_ID' ? KEY : h));
                    }
                    if (!header.includes(KEY)) header.unshift(KEY);
                    for (const c of neededCols) {
                      if (!header.includes(c)) header.push(c);
                    }

                    const sheets = await getSheetsClient();
                    const headerChanged = !destHeadersRaw
                      || header.length !== destHeadersRaw.length
                      || header.some((h, i) => h !== destHeadersRaw[i]);

                    if (headerChanged) {
                      await withRetry(() =>
                        sheets.spreadsheets.values.update({
                          spreadsheetId: process.env.SPREADSHEET_ID,
                          range: `${SHEET_DEST}!1:1`,
                          valueInputOption: 'RAW',
                          requestBody: { values: [header] },
                        })
                      );
                    }
                    const endCol = colLetter(header.length - 1);

                    // 5) Preparar upserts
                    const updates = [];
                    const appends = [];
                    let created = 0, updated = 0, ignoradasSemId = 0, ignoradasSemBase = 0;
                    const errosObrigatorios = [];

                    for (const row of layout) {
                      const id = idOf(row);
                      if (!id) { ignoradasSemId++; continue; }

                      const base = mapSheet1.get(id);
                      if (!base) { ignoradasSemBase++; continue; }

                      const atual = mapDest.get(id) || {};

                      // Nome da Empresa
                      const nomeEmpresa = pick(row, 'Nome da Empresa') || clean(atual['Nome da Empresa']);

                      // Produto (pode n√£o existir na layout; s√≥ aceita se ‚àà Padroes/Produtos)
                      const produtoInput = pick(row, 'Produto'); // se n√£o existir, vir√° vazio
                      const produto = produtosValidos.includes(produtoInput) ? produtoInput : clean(atual['Produto']);

                      // Nome do Lead
                      const nomeLead = produto ? `${nomeEmpresa} - ${produto}` : `${nomeEmpresa}`;

                      // Mercado (Sheet1 -> Organiza√ß√£o - Segmento)
                      const segmento = clean(base['Organiza√ß√£o - Segmento']);
                      const mercado = segmento && mercadosValidos.includes(segmento) ? segmento : 'N/A';

                      // Site (remover barras finais)
                      const rawSite = pick(row, 'Site Empresa');
                      const site = rawSite.replace(/\/+$/, '');

                      // Endere√ßo vindo da layout
                      const estado = normalizeUF(pick(row, 'Estado Empresa'));
                      const cidade = pick(row, 'Cidade Empresa');
                      const logradouro = pick(row, 'Logradouro Empresa');
                      const numero = pick(row, 'Numero Empresa', 'N√∫mero Empresa');
                      const bairro = pick(row, 'Bairro Empresa');
                      const complemento = pick(row, 'Complemento Empresa');
                      const cep = pick(row, 'CEP Empresa');

                      // Pa√≠s: preferir ‚ÄúPa√≠s Empresa‚Äù (ou ‚ÄúPais Empresa‚Äù); se faltar e houver cidade+estado, usar "Brasil"
                      const pais = pick(row, 'Pa√≠s Empresa', 'Pais Empresa') || ((cidade && estado) ? 'Brasil' : '');

                      // Telefones (prioridade: Card -> layout -> Sheet1)
                      const telsCard = splitPhones(pick(row, 'Telefones Card')); // pode n√£o existir
                      const telsLayout = splitPhones(pick(row, 'Telefones Empresa'));
                      const telSheet1 = splitPhones(base['Telefone Normalizado']);
                      const telefones = telsCard.length ? telsCard : (telsLayout.length ? telsLayout : telSheet1);
                      const telefonesStr = joinPhones(telefones);

                      // DDI apenas se houver algum telefone
                      const ddi = telefones.length ? pick(row, 'DDI Empresa', 'DDI') : '';

                      // Observa√ß√£o (n√£o herdar se vazio)
                      const observacao = pick(row, 'Observa√ß√£o Empresa', 'Observa√ß√£o');

                      // CPF/CNPJ
                      const cnpj = pick(row, 'CNPJ Empresa');

                      // Contatos (Card) ‚Äî podem n√£o existir na layout
                      const nomeContato = pick(row, 'Nome Contato');
                      const emailContato = pick(row, 'E-mail Contato', 'Email Contato');
                      const cargoContato = pick(row, 'Cargo Contato');
                      const telsContato = splitPhones(pick(row, 'Telefones Contato'));
                      const ddiContato = telsContato.length ? pick(row, 'DDI Contato') : '';
                      const algumContatoPreenchido = !!(nomeContato || emailContato || cargoContato || telsContato.length);
                      if (algumContatoPreenchido && !nomeContato) {
                        errosObrigatorios.push({ [KEY]: id, erro: 'Nome Contato obrigat√≥rio quando houver outros campos de contato' });
                      }

                      // Monta objeto final com pol√≠tica "n√£o sobrescrever com vazio"
                      const novo = {
                        [KEY]: id,

                        'Nome do Lead': preferNonEmpty(atual['Nome do Lead'], nomeLead),
                        'Origem': 'Carteira de Clientes',
                        'Sub-Origem': '',

                        'Mercado': preferNonEmpty(atual['Mercado'], mercado),
                        'Produto': preferNonEmpty(atual['Produto'], produto),

                        'Site': preferNonEmpty(atual['Site'], site),

                        'Pa√≠s': preferNonEmpty(atual['Pa√≠s'], pais),
                        'Estado': preferNonEmpty(atual['Estado'], estado),
                        'Cidade': preferNonEmpty(atual['Cidade'], cidade),
                        'Logradouro': preferNonEmpty(atual['Logradouro'], logradouro),
                        'N√∫mero': preferNonEmpty(atual['N√∫mero'], numero),
                        'Bairro': preferNonEmpty(atual['Bairro'], bairro),
                        'Complemento': preferNonEmpty(atual['Complemento'], complemento),
                        'CEP': preferNonEmpty(atual['CEP'], cep),

                        'DDI': preferNonEmpty(atual['DDI'], ddi),
                        'Telefones': preferNonEmpty(atual['Telefones'], telefonesStr),

                        'Observa√ß√£o': observacao || clean(atual['Observa√ß√£o']),

                        'CPF/CNPJ': preferNonEmpty(atual['CPF/CNPJ'], cnpj),

                        'Nome Contato': preferNonEmpty(atual['Nome Contato'], nomeContato),
                        'E-mail Contato': preferNonEmpty(atual['E-mail Contato'], emailContato),
                        'Cargo Contato': preferNonEmpty(atual['Cargo Contato'], cargoContato),
                        'DDI Contato': preferNonEmpty(atual['DDI Contato'], ddiContato),
                        'Telefones Contato': preferNonEmpty(atual['Telefones Contato'], joinPhones(telsContato)),

                        'Tipo do Serv. Comunica√ß√£o': '',
                        'ID do Serv. Comunica√ß√£o': '',
                        '√Årea': '',

                        'Nome da Empresa': preferNonEmpty(atual['Nome da Empresa'], nomeEmpresa),
                        'Etapa': 'Agendados',
                        'Funil': 'Padr√£o',
                      };

                      const rowValues = header.map(col => (novo[col] ?? '').toString());

                      const exists = mapDest.get(id);
                      if (exists && exists._rowNumber) {
                        const rowIndex = exists._rowNumber;
                        updates.push({
                          range: `${SHEET_DEST}!A${rowIndex}:${endCol}${rowIndex}`,
                          values: [rowValues],
                        });
                        updated++;
                      } else {
                        appends.push(rowValues);
                        created++;
                      }
                    }

                    // 6) Writes
                    if (updates.length > 0) {
                      for (const batch of chunk(updates, 300)) {
                        await withRetry(() =>
                          sheets.spreadsheets.values.batchUpdate({
                            spreadsheetId: process.env.SPREADSHEET_ID,
                            requestBody: {
                              valueInputOption: 'RAW',
                              data: batch,
                            },
                          })
                        );
                      }
                    }
                    if (appends.length > 0) {
                      for (const batch of chunk(appends, 300)) {
                        await withRetry(() =>
                          sheets.spreadsheets.values.append({
                            spreadsheetId: process.env.SPREADSHEET_ID,
                            range: `${SHEET_DEST}!A1`,
                            valueInputOption: 'RAW',
                            insertDataOption: 'INSERT_ROWS',
                            requestBody: { values: batch },
                          })
                        );
                      }
                    }

                    // 7) Retorno
                    const ignoradas = ignoradasSemId + ignoradasSemBase; // total ignoradas
                    return res.status(200).json({
                      criadas: created,
                      atualizadas: updated,
                      ignoradas,
                      ignoradasSemId,
                      ignoradasSemBase,
                      errosObrigatorios,
                    });

                  } catch (err) {
                    console.error('[mesclar-leads-exact-spotter] ERRO:', err);
                    return res.status(500).json({ error: err.message });
                  }
                }


            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ migrar-clienteid.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                import { getSheetsClient, withRetry } from '../../lib/googleSheets';

                const SHEETS = ['Sheet1', 'layout_importacao_empresas', 'Leads Exact Spotter'];

                const clean = (v) => (v ?? '').toString().trim();
                const colLetter = (n) => { let s=''; while(n>=0){ s=String.fromCharCode((n%26)+65)+s; n=Math.floor(n/26)-1; } return s; };

                export default async function handler(req, res) {
                  if (req.method !== 'POST') return res.status(405).json({ error: 'Method not allowed' });
                  const debug = req.query?.debug === '1';
                  try {
                    const sheets = await getSheetsClient();
                    const spreadsheetId = process.env.SPREADSHEET_ID;

                    const meta = await withRetry(() => sheets.spreadsheets.get({ spreadsheetId }));
                    const sheetIdByTitle = new Map(meta.data.sheets.map(s => [s.properties.title, s.properties.sheetId]));

                    const out = {
                      changedSheets: [],
                      renamedHeaders: [],
                      movedValues: [],
                      deletedClientIdColumns: [],
                      warnings: [],
                      debugDump: {}
                    };

                    for (const title of SHEETS) {
                      const sheetId = sheetIdByTitle.get(title);
                      if (!sheetId) { out.warnings.push(`Aba n√£o encontrada: ${title}`); continue; }

                      // Header
                      const headerResp = await withRetry(() => sheets.spreadsheets.values.get({
                        spreadsheetId, range: `'${title}'!1:1`
                      }));
                      const header = headerResp.data.values?.[0] || [];
                      if (!header.length) { out.warnings.push(`Aba vazia: ${title}`); continue; }

                      let idxCliente = header.findIndex(h => clean(h) === 'Cliente_ID');
                      let idxClient  = header.findIndex(h => clean(h) === 'Client_ID');

                      if (idxCliente === -1 && idxClient === -1) {
                        out.warnings.push(`Nenhuma coluna Cliente_ID/Client_ID em ${title}`);
                        continue;
                      }

                      // Apenas Client_ID -> renomear para Cliente_ID
                      if (idxCliente === -1 && idxClient !== -1) {
                        header[idxClient] = 'Cliente_ID';
                        await sheets.spreadsheets.values.update({
                          spreadsheetId,
                          range: `'${title}'!1:1`,
                          valueInputOption: 'RAW',
                          requestBody: { values: [header] }
                        });
                        out.renamedHeaders.push({ sheet: title, from: 'Client_ID', to: 'Cliente_ID' });
                        idxCliente = idxClient;
                        idxClient = -1; // j√° renomeado
                        out.changedSheets.push(title);
                      }

                      // Ambas existem -> mover dados e deletar coluna errada
                      if (idxCliente !== -1 && idxClient !== -1) {
                        const endCol = colLetter(Math.max(idxCliente, idxClient));
                        const bodyResp = await withRetry(() => sheets.spreadsheets.values.get({
                          spreadsheetId, range: `'${title}'!A2:${endCol}`
                        }));
                        const rows = bodyResp.data.values || [];
                        let moved = 0;

                        // Copiar valores Client_ID -> Cliente_ID quando Cliente_ID estiver vazio
                        for (let r = 0; r < rows.length; r++) {
                          const row = rows[r];
                          const vCliente = clean(row[idxCliente] ?? '');
                          const vClient  = clean(row[idxClient] ?? '');
                          if (!vCliente && vClient) {
                            row[idxCliente] = vClient; // move
                            moved++;
                          }
                        }
                        if (moved > 0) {
                          // regravar apenas as colunas at√© endCol para todas as linhas lidas
                          await withRetry(() => sheets.spreadsheets.values.update({
                            spreadsheetId,
                            range: `'${title}'!A2:${endCol}`,
                            valueInputOption: 'RAW',
                            requestBody: { values: rows }
                          }));
                          out.movedValues.push({ sheet: title, moved });
                        }

                        // Deletar coluna Client_ID
                        await withRetry(() => sheets.spreadsheets.batchUpdate({
                          spreadsheetId,
                          requestBody: {
                            requests: [{
                              deleteDimension: {
                                range: {
                                  sheetId,
                                  dimension: 'COLUMNS',
                                  startIndex: idxClient,
                                  endIndex: idxClient + 1
                                }
                              }
                            }]
                          }
                        }));
                        out.deletedClientIdColumns.push({ sheet: title, index: idxClient });
                        out.changedSheets.push(title);
                      }

                      if (debug) {
                        const finalHeaderResp = await withRetry(() => sheets.spreadsheets.values.get({
                          spreadsheetId, range: `'${title}'!1:1`
                        }));
                        const finalHeader = finalHeaderResp.data.values?.[0] || [];
                        const sampleResp = await withRetry(() => sheets.spreadsheets.values.get({
                          spreadsheetId, range: `'${title}'!A2:${colLetter(finalHeader.length - 1)}`
                        }));
                        out.debugDump[title] = {
                          header: finalHeader,
                          sample: (sampleResp.data.values || []).slice(0, 3)
                        };
                      }
                    }

                    return res.status(200).json(out);
                  } catch (err) {
                    console.error('[migrar-clienteid] ERRO:', err);
                    return res.status(500).json({ error: err.message });
                  }
                }


            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ padroes.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                import { getSheetData } from '../../lib/googleSheets';

                export default async function handler(req, res) {
                  if (req.method !== 'GET') return res.status(405).end();
                  const start = Date.now();
                  try {
                    const [padroesData, usuariosData] = await Promise.all([
                      getSheetData('Padroes', 'A:B'),
                      getSheetData('Usuarios', 'A:C'), // Assuming Email is in one of the first 3 columns
                    ]);

                    const produtos = Array.from(new Set(padroesData.rows.map(r => r.Produtos).filter(Boolean)));
                    const mercados = Array.from(new Set(padroesData.rows.map(r => r.Mercados).filter(Boolean)));
                    const prevendedores = Array.from(new Set(usuariosData.rows.map(r => r.Email).filter(Boolean)));

                    console.log('PADROES_READ', { duration: Date.now() - start, count: padroesData.rows.length });
                    res.status(200).json({ produtos, mercados, prevendedores });
                  } catch (err) {
                    res.status(500).json({ error: err.message });
                  }
                }

            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ pdf.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                import { getSheet, updateRow } from '../../lib/googleSheets';
                import { buildReport, mapToRows } from '../../lib/report';
                import { jsPDF } from 'jspdf';
                import autoTable from 'jspdf-autotable';

                export default async function handler(req, res) {
                  try {
                    if (req.method !== 'GET') return res.status(405).end();

                     const sheet = await getSheet();
                    const rows = sheet.data.values || [];
                    const { map } = buildReport(rows);

                    const { max = 300, ...query } = req.query || {};
                    const requested = Number(max) || 300;
                    if (requested > 300) {
                      return res.status(400).json({ error: 'Use max <= 300 ou refine os filtros' });
                    }
                    const limit = requested;

                    // ‚úÖ Normalizar valores que venham como array em query params
                    const normalizedQuery = {};
                    Object.entries(query).forEach(([k, v]) => {
                      normalizedQuery[k] = Array.isArray(v) ? v.join(',') : v;
                    });

                    const { rows: result } = mapToRows(map, normalizedQuery, limit);

                    // ‚úÖ Gera√ß√£o do PDF
                    const doc = new jsPDF({ orientation: 'landscape' });
                    autoTable(doc, {
                      head: [['Empresa', 'Segmento', 'Porte', 'Contato', 'Cargo', 'Telefones', 'Email', 'LinkedIn']],
                      body: result.map((r) => [
                        r.company,
                        r.segment,
                        r.size,
                        r.nome,
                        r.cargo,
                        (r.normalizedPhones || []).join(' / '),
                        r.email,
                        r.linkedin,
                      ]),
                      margin: { top: 20, bottom: 20, left: 15, right: 15 },
                    });

                    const pdfData = doc.output('arraybuffer');
                    res.setHeader('Content-Type', 'application/pdf');
                    res.setHeader('Content-Disposition', 'attachment; filename="lista.pdf"');
                    res.send(Buffer.from(pdfData));
                  } catch (err) {
                    console.error('Erro ao gerar PDF:', err);
                    res.status(500).json({ error: 'Erro ao gerar PDF' });
                  }
                }


            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ reports.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                import { getSheet, updateRow } from '../../lib/googleSheets';
                import { buildReport, mapToRows, markPrintedRows } from '../../lib/report';

                export default async function handler(req, res) {
                  if (req.method === 'GET') {
                    try {
                      const limitParam = parseInt(req.query.limit ?? req.query.maxLeads, 10);
                      const onlyNew = req.query.onlyNew === '1';

                      const sheet = await getSheet();
                      const rows = sheet.data.values || [];

                      const limit = Number.isFinite(limitParam) && limitParam >= 0 ? limitParam : rows.length;
                      console.log('API /reports GET', { query: req.query, limit, onlyNew });
                      // ‚úÖ buildReport j√° agrupa por Cliente_ID agora
                      // Evita atualizar telefones durante a gera√ß√£o do relat√≥rio
                      const { map, filters } = await buildReport(rows, { savePhones: false });
                      const { rows: reportRows, toMark } = mapToRows(
                        map,
                        req.query,
                        limit,
                        onlyNew
                      );

                      const resposta = {
                        filters: {
                          segmento: Array.from(filters.segmento),
                          porte: Array.from(filters.porte),
                          uf: Array.from(filters.uf),
                          cidade: Array.from(filters.cidade),
                        },
                        rows: reportRows,
                        total: reportRows.length,
                        toMark: Array.from(toMark),
                      };

                      console.log('API /reports resposta', { total: resposta.total });
                      return res.status(200).json(resposta);
                    } catch (err) {
                      console.error('Erro ao gerar relat√≥rio:', err);
                      return res.status(500).json({ error: 'Erro ao gerar relat√≥rio' });
                    }
                  }

                  if (req.method === 'POST') {
                    try {
                      const { rowsToMark } = req.body;
                      if (!rowsToMark || rowsToMark.length === 0) {
                        return res.status(400).json({ error: 'Nenhuma linha para marcar' });
                      }

                      // ‚úÖ Marca as linhas como "Em Lista"
                      await markPrintedRows(updateRow, rowsToMark);

                      return res.status(200).json({ success: true });
                    } catch (err) {
                      console.error('Erro ao marcar linhas:', err);
                      return res.status(500).json({ error: 'Erro ao marcar linhas' });
                    }
                  }

                  return res.status(405).json({ error: 'M√©todo n√£o permitido' });
                }

            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            üìÑ test-gsheet.js
            ‚îî‚îÄ‚îÄ Conte√∫do:
                import { getSheetCached } from '../../lib/googleSheets';

                export default async function handler(req, res) {
                  try {
                    const start = Date.now();
                    const response = await getSheetCached();
                    const rows = response.data.values || [];
                    const [header, ...data] = rows;
                    const duration = Date.now() - start;
                    console.log('TEST_GSHEET_READ', { duration, rows: data.length });
                    res.status(200).json({
                      header,
                      total: data.length,
                      preview: data.slice(0, 5),
                    });
                  } catch (error) {
                    console.error('Erro na leitura da planilha:', error.message);
                    res.status(500).json({ error: 'Erro ao acessar o Google Sheets' });
                  }
                }


            ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ postcss.config.js
    ‚îî‚îÄ‚îÄ Conte√∫do:
        module.exports = {
          plugins: {
            tailwindcss: {},
            autoprefixer: {},
          },
        };

    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÅ scripts
        üìÑ check-spotter-url.sh
        ‚îî‚îÄ‚îÄ Conte√∫do:
            #!/bin/sh
            set -e

            # This script checks for forbidden URL patterns related to the Spotter API.
            # It uses ripgrep (rg) for searching. The `|| true` prevents the script from exiting
            # if rg finds no matches (which is the success case).
            # The second rg command runs without `|| true`. If it finds a match, it prints it,
            # and the script proceeds to the `if` block, which then exits with an error.

            if rg -q "apiv3\\.exactspotter|:81|http://api\\.exactspotter|/api/v3(?![a-zA-Z])" -- ".(js|jsx|ts|tsx)" ':!scripts/check-spotter-url.sh'; then
              echo "‚ùå Forbidden Spotter URL patterns found in the codebase."
              echo "Please use the centralized SPOTTER_BASE_URL from lib/exactSpotter.js and the joinUrl helper."
              exit 1
            else
              echo "‚úÖ No forbidden Spotter URL patterns found."
            fi

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ gerarClienteId.js
        ‚îî‚îÄ‚îÄ Conte√∫do:
            import { getSheetCached, updateRow } from '../lib/googleSheets.js';

            function gerarIdSequencial(numero) {
              return `CLT-${String(numero).padStart(4, '0')}`;
            }
            
            async function gerarClienteIds() {
              const res = await getSheetCached();
              const rows = res.data.values || [];
              const [header, ...data] = rows;
            
              const idxOrg = header.indexOf('Organiza√ß√£o - Nome');
              const idxClienteId = header.indexOf('Cliente_ID');
            
              if (idxOrg === -1) {
                console.error('‚ùå Coluna "Organiza√ß√£o - Nome" n√£o encontrada.');
                return;
              }
              if (idxClienteId === -1) {
                console.error('‚ùå Coluna "Cliente_ID" n√£o encontrada. Crie a coluna na planilha.');
                return;
              }
            
              const mapaClientes = new Map();
              let contador = 1;
            
              for (let i = 0; i < data.length; i++) {
                const rowNum = i + 2; // linha real na planilha (considerando cabe√ßalho)
                const cliente = (data[i][idxOrg] || '').trim();
                if (!cliente) continue;
            
                const clienteIdAtual = data[i][idxClienteId];
                if (clienteIdAtual && clienteIdAtual.trim()) {
                  mapaClientes.set(cliente, clienteIdAtual);
                  continue;
                }
            
                let novoId;
                if (mapaClientes.has(cliente)) {
                  novoId = mapaClientes.get(cliente);
                } else {
                  novoId = gerarIdSequencial(contador++);
                  mapaClientes.set(cliente, novoId);
                }
            
                // Log de depura√ß√£o para confirmar gera√ß√£o
                console.log(`Linha ${rowNum}: Cliente="${cliente}" -> ID="${novoId}"`);
            
                // Atualiza a c√©lula em mem√≥ria
                data[i][idxClienteId] = novoId;
            
                // Monta o objeto completo da linha baseado no cabe√ßalho
                const rowObj = {};
                header.forEach((col, idx) => {
                  rowObj[col] = data[i][idx] || '';
                });
            
                // For√ßa a grava√ß√£o do Cliente_ID independente do estado anterior
                await updateRow(rowNum, { ...rowObj, Cliente_ID: novoId });
              }
            
              console.log('‚úÖ IDs de clientes gerados/atualizados com sucesso.');
            }
            
            gerarClienteIds().catch(console.error);

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ inventario.js
        ‚îî‚îÄ‚îÄ Conte√∫do:
            /* eslint-disable no-console */
            const fs = require('fs');
            const path = require('path');
            
            const BASE_DIR = process.cwd();
            const OUTPUT = path.join(BASE_DIR, 'estrutura_nodejs.txt');
            
            const IGNORE_DIRS = new Set([
              'node_modules', '.git', '.next', 'dist', 'build', 'out', '.vercel', '.cache'
            ]);
            
            // Regex de arquivos ‚Äútextuais‚Äù relevantes
            const FILE_OK = /\.(jsx?|tsx?|json|sh)$|^Dockerfile$|^Makefile$|\.config\..*$|^\.gitignore$|^next\.config\.js$|^tsconfig\.json$|^package\.json$/i;
            
            function isEnvFile(file) {
              const b = path.basename(file);
              return b.startsWith('.env');
            }
            
            function* walk(dir, depth = 0) {
              const entries = fs.readdirSync(dir, { withFileTypes: true });
              for (const ent of entries) {
                const full = path.join(dir, ent.name);
                if (ent.isDirectory()) {
                  if (!IGNORE_DIRS.has(ent.name)) {
                    yield { type: 'dir', full, name: ent.name, depth };
                    yield* walk(full, depth + 1);
                  }
                } else if (ent.isFile()) {
                  yield { type: 'file', full, name: ent.name, depth };
                }
              }
            }

            function pad(depth) { return '    '.repeat(depth); }
            
            function writeLine(s) { fs.appendFileSync(OUTPUT, s + '\n'); }
            
            function analyzeForKanban(readFiles) {
              const KANBAN_TERMS = [
                'Status_Kanban', 'Lead Selecionado', 'Tentativa de Contato', 'Contato Efetuado',
                'Conversa Iniciada', 'Reuni√£o Agendada', 'Enviado Spotter', 'Perdido',
                'groupBy', 'columns', 'kanban', 'buscar', 'search'
              ];
              const kanbanRegex = new RegExp(KANBAN_TERMS.join('|'), 'i');
              const relatedFiles = new Map();

              for (const { fullPath, content } of readFiles) {
                const lines = content.split('\n');
                for (let i = 0; i < lines.length; i++) {
                  const line = lines[i];
                  if (kanbanRegex.test(line)) {
                    if (!relatedFiles.has(fullPath)) {
                      relatedFiles.set(fullPath, []);
                    }
                    relatedFiles.get(fullPath).push({ lineNum: i + 1, line: line.trim() });
                  }
                }
              }
            
              if (relatedFiles.size > 0) {
                writeLine('\n\n=================================================');
                writeLine('üìä Arquivos possivelmente relacionados ao Kanban');
                writeLine('=================================================\n');
            
                for (const [filePath, matches] of relatedFiles.entries()) {
                  writeLine(`üìÑ ${filePath}`);
                  for (const { lineNum, line } of matches) {
                    writeLine(`    [${lineNum}]: ${line}`);
                  }
                  writeLine('‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ');
                }
              }
            }
            
            
            function main() {
              fs.writeFileSync(OUTPUT, `üìÇ Estrutura do projeto ‚Äì ${new Date().toISOString()}\nPasta base: ${BASE_DIR}\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`);
              // raiz
              writeLine(`${pad(0)}üìÅ ${path.basename(BASE_DIR)}`);

              const filesForAnalysis = []; // <-- To store file paths and content
            
              for (const item of walk(BASE_DIR, 0)) {
                const indent = pad(item.depth + 1);
                if (item.type === 'dir') {
                  writeLine(`${indent}üìÅ ${item.name}`);
                  continue;
                }
                // file
                if (FILE_OK.test(item.name)) {
                  writeLine(`${indent}üìÑ ${item.name}`);

                  if (isEnvFile(item.full)) {
                    writeLine(`${indent}‚îî‚îÄ‚îÄ Conte√∫do:`);
                    writeLine(`${indent}    (conte√∫do ocultado por seguran√ßa)`);
                  } else {
                    try {
                      const content = fs.readFileSync(item.full, 'utf8');
                      // Store for later analysis
                      filesForAnalysis.push({ fullPath: item.full, content });
            
                      writeLine(`${indent}‚îî‚îÄ‚îÄ Conte√∫do:`);
                      const indentedContent = content
                        .split('\n')
                        .map(l => `${indent}    ${l}`)
                        .join('\n');
                      writeLine(indentedContent);
                    } catch (e) {
                      writeLine(`${indent}    (erro ao ler arquivo: ${e.message})`);
                    }
                  }
                  writeLine(`${indent}‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ`);
                }
              }

              // After walking the tree, perform the analysis
              analyzeForKanban(filesForAnalysis);
            
              console.log(`‚úÖ Invent√°rio gerado em: ${OUTPUT}`);
            }
            
            main();

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ migrate_dic_sheets.js
        ‚îî‚îÄ‚îÄ Conte√∫do:
            /**
             * MIGRA√á√ÉO PER/DCOMP ‚Äî cria/atualiza abas DIC_* e EVENTOS_PERDCOMP
             * Incluir novos "motivos" a partir de situacao/situacao_detalhamento
             */
            import { google } from "googleapis";
            
            const SHEET_ID = process.env.SHEET_ID;
            
            if (!SHEET_ID) {
              console.error("‚ùå SHEET_ID n√£o definido nas vari√°veis de ambiente.");
              process.exit(1);
            }

            const auth = new google.auth.GoogleAuth({
              scopes: ["https://www.googleapis.com/auth/spreadsheets"],
            });
            const sheets = google.sheets({ version: "v4", auth });

            const HEADERS = {
              DIC_TIPOS: [
                "Chave",
                "Bloco",
                "Codigo",
                "Nome",
                "Descricao",
                "Fonte",
                "Exemplo",
                "Ult_Atualizacao",
              ],
              DIC_NATUREZAS: [
                "Chave",
                "Bloco",
                "Codigo",
                "Familia",
                "Nome",
                "Observacao",
                "Fonte",
                "Exemplo",
                "Ult_Atualizacao",
              ],
              DIC_CREDITOS: [
                "Chave",
                "Bloco",
                "Codigo",
                "Descricao",
                "Fonte",
                "Exemplo",
                "Ult_Atualizacao",
              ],
              EVENTOS_PERDCOMP: [
                "Perdcomp_Bruto",
                "Perdcomp_Formatado",
                "Data_ISO",
                "Tipo_Bloco4",
                "Natureza",
                "Familia",
                "Credito",
                "Tipo_Documento_RFB",
                "Tipo_Credito_RFB",
                "CNPJ",
                "Solicitante",
                "Situacao",
                "Situacao_Detalhamento",
                "Motivo_Normalizado",
                "Fonte_URL",
                "Ult_Atualizacao",
              ],
            };

            function colLetter(idx) {
              return String.fromCharCode(65 + idx);
            }

            async function ensureSheet(title) {
              const { data } = await sheets.spreadsheets.get({ spreadsheetId: SHEET_ID });
              const sheet = data.sheets?.find((s) => s.properties?.title === title);
              let sheetId = sheet?.properties?.sheetId;
              if (!sheet) {
                const res = await sheets.spreadsheets.batchUpdate({
                  spreadsheetId: SHEET_ID,
                  requestBody: { requests: [{ addSheet: { properties: { title } } }] },
                });
                sheetId = res.data.replies?.[0]?.addSheet?.properties?.sheetId;
                console.log(`‚úî Criada aba: ${title}`);
              }

              const headers = HEADERS[title];
              const range = `${title}!A1:${colLetter(headers.length - 1)}1`;

              await sheets.spreadsheets.values.update({
                spreadsheetId: SHEET_ID,
                range,
                valueInputOption: "RAW",
                requestBody: { values: [headers] },
              });
            
              if (sheetId !== undefined) {
                await sheets.spreadsheets.batchUpdate({
                  spreadsheetId: SHEET_ID,
                  requestBody: {
                    requests: [
                      {
                        updateSheetProperties: {
                          properties: {
                            sheetId,
                            gridProperties: { frozenRowCount: 1 },
                          },
                          fields: "gridProperties.frozenRowCount",
                        },
                      },
                      {
                        repeatCell: {
                          range: { sheetId, startRowIndex: 0, endRowIndex: 1 },
                          cell: {
                            userEnteredFormat: { textFormat: { bold: true } },
                          },
                          fields: "userEnteredFormat.textFormat.bold",
                        },
                      },
                    ],
                  },
                });
              }

              console.log(`‚úî Cabe√ßalhos ok: ${title}`);
            }
            
            async function migrate() {
              for (const title of Object.keys(HEADERS)) {
                await ensureSheet(title);
              }
              console.log("‚úÖ Migra√ß√£o conclu√≠da.");
            }
            
            migrate().catch((err) => {
              console.error("Erro:", err);
              process.exit(1);
            });


        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ tailwind.config.js
    ‚îî‚îÄ‚îÄ Conte√∫do:
        /** @type {import('tailwindcss').Config} */
        module.exports = {
          content: [
            './app/**/*.{js,jsx,ts,tsx}',
            './components/**/*.{js,jsx,ts,tsx}',
          ],
          theme: {
            extend: {},
          },
          plugins: [],
        };

    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ tsconfig.json
    ‚îî‚îÄ‚îÄ Conte√∫do:
        {
          "compilerOptions": {
            "lib": [
              "dom",
              "dom.iterable",
              "esnext"
            ],
            "allowJs": true,
            "skipLibCheck": true,
            "strict": false,
            "noEmit": true,
            "incremental": true,
            "module": "esnext",
            "esModuleInterop": true,
            "moduleResolution": "node",
            "resolveJsonModule": true,
            "isolatedModules": true,
            "jsx": "preserve",
            "plugins": [
              {
                "name": "next"
              }
            ],
            "strictNullChecks": true,
            "baseUrl": ".",
            "paths": {
              "@/*": [
                "./*"
              ]
            }
          },
          "include": [
            "next-env.d.ts",
            ".next/types/**/*.ts",
            "**/*.ts",
            "**/*.tsx"
          ],
          "exclude": [
            "node_modules"
          ]
        }

    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÅ utils
        üìÑ cnpj-matriz.test.ts
        ‚îî‚îÄ‚îÄ Conte√∫do:
            import { toMatrizCNPJ, isFilial, ordem } from '@/utils/cnpj-matriz';

            test('filial Dalben 46241741000408 -> matriz 46241741000165', () => {
              const filial = '46241741000408';
              expect(isFilial(filial)).toBe(true);
              expect(ordem(filial)).toBe('0004');
              expect(toMatrizCNPJ(filial)).toBe('46241741000165');
            });

            test('BSBIOS: 07322382001352 -> matriz 07322382000119', () => {
              const filial = '07322382001352';
              expect(isFilial(filial)).toBe(true);
              expect(ordem(filial)).toBe('0013');
              expect(toMatrizCNPJ(filial)).toBe('07322382000119');
            });

            test('Prompt example: 08781394002036 -> matriz 08781394000174', () => {
              const filial = '08.781.394/0020-36'; // with punctuation
              const matriz = '08781394000174'; // Corrected expected value from 09 to 74
              expect(isFilial(filial)).toBe(true);
              expect(ordem(filial)).toBe('0020');
              expect(toMatrizCNPJ(filial)).toBe(matriz);
            });

        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ cnpj-matriz.ts
        ‚îî‚îÄ‚îÄ Conte√∫do:
            export const onlyDigits = (v?: string) => (v ?? '').replace(/\D/g, '');
            const is14 = (d: string) => /^\d{14}$/.test(d);
            export const ordem = (cnpj: string) => {
              const d = onlyDigits(cnpj);
              return d.length >= 12 ? d.slice(8, 12) : '';
            };
            export const isMatriz = (cnpj: string) => ordem(cnpj) === '0001';
            export const isFilial = (cnpj: string) => {
              const d = onlyDigits(cnpj);
              return is14(d) && ordem(d) !== '0001';
            };
            export const isEmptyCNPJLike = (v?: string) => {
              const d = onlyDigits(v);
              return d.length === 0 || /^0+$/.test(d);
            };
            
            // c√°lculo oficial dos DVs (m√≥d 11)
            function calcDVs(base12: string) {
              const n = base12.split('').map(Number);
              const w1 = [5,4,3,2,9,8,7,6,5,4,3,2];
              const s1 = n.reduce((a,x,i)=>a+x*w1[i],0), r1 = s1%11, dv1 = r1<2?0:11-r1;
              const w2 = [6,5,4,3,2,9,8,7,6,5,4,3,2];
              const n13 = [...n,dv1];
              const s2 = n13.reduce((a,x,i)=>a+x*w2[i],0), r2 = s2%11, dv2 = r2<2?0:11-r2;
              return `${dv1}${dv2}`;
            }
            export const toMatrizCNPJ = (cnpj: string) => {
              const d = onlyDigits(cnpj);
              if (d.length < 12) return d;
              const raiz8 = d.slice(0, 8);
              const base12 = `${raiz8}0001`;
              return `${base12}${calcDVs(base12)}`;
            };
            
            export const fmtCNPJ = (d: string) =>
              onlyDigits(d).replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/, '$1.$2.$3/$4-$5');
            
        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ cnpj.ts
        ‚îî‚îÄ‚îÄ Conte√∫do:
            export function onlyDigits(v: any) {
              return String(v ?? '').replace(/\D/g, '');
            }
            
            export function padCNPJ14(v: any) {
              return onlyDigits(v).padStart(14, '0');
            }
            
            export function normalizeDigits(str?: string) {
              return (str ?? '').replace(/\D/g, '');
            }
            
            export function isEmptyCNPJLike(value?: string) {
              const digits = normalizeDigits(value);
              return digits.length === 0 || /^0+$/.test(digits);
            }
            
            export function isCNPJ14(digits?: string) {
              return /^\d{14}$/.test(digits ?? '');
            }

            // Official validation (mod 11). Accepts any input and validates after padStart.
            export function isValidCNPJ(input: any) {
              const cnpj = padCNPJ14(input);
              if (cnpj.length !== 14) return false;
              if (/^(\d)\1{13}$/.test(cnpj)) return false;

              const calcDV = (base: string) => {
                let sum = 0, pos = base.length - 7;
                for (let i = base.length; i >= 1; i--) {
                  sum += parseInt(base[base.length - i], 10) * pos--;
                  if (pos < 2) pos = 9;
                }
                const r = sum % 11;
                return (r < 2) ? 0 : 11 - r;
              };

              const dv1 = calcDV(cnpj.slice(0, 12));
              if (parseInt(cnpj[12], 10) !== dv1) return false;
              const dv2 = calcDV(cnpj.slice(0, 13));
              if (parseInt(cnpj[13], 10) !== dv2) return false;
              return true;
            }
            
        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ perdcomp.ts
        ‚îî‚îÄ‚îÄ Conte√∫do:
            export type PerdcompTipo = 'DCOMP' | 'REST' | 'CANC' | 'DESCONHECIDO';
            export type FamiliaTipo = 'DCOMP' | 'REST' | 'RESSARC' | 'CANC' | 'DESCONHECIDO';
            
            export function formatPerdcompNumero(raw: string): string {
              const digits = (raw || '').replace(/\D/g, '');
              // PER/DCOMP "compacto": 24 d√≠gitos = 5+5+6+1+1+2+4
              if (digits.length === 24) {
                const b1 = digits.slice(0, 5);   // seq
                const b2 = digits.slice(5, 10);  // controle
                const b3 = digits.slice(10, 16); // data DDMMAA
                const b4 = digits.slice(16, 17); // tipo (1/2/8)
                const b5 = digits.slice(17, 18); // natureza: 1.x ‚Üí x aqui
                const b6 = digits.slice(18, 20); // cr√©dito
                const suf = digits.slice(20, 24); // protocolo (4)
                return `${b1}.${b2}.${b3}.${b4}.${b5}.${b6}-${suf}`;
              }
              // Se j√° vier formatado, devolve como est√°
              return raw ?? '';
            }
            
            export function parsePerdcompNumero(raw: string) {
              const formatted = formatPerdcompNumero(raw);
              const rx = /^(\d{5})\.(\d{5})\.(\d{6})\.(\d)\.(\d)\.(\d{2})-(\d{4})$/;
              const m = formatted.match(rx);
              if (!m) return { valido: false as const };
            
              const [, , , ddmmaa, tipoStr, natDigit, credito, protocolo] = m;
            
              const tipoNum = Number(tipoStr);
              const tipo: PerdcompTipo =
                tipoNum === 1 ? 'DCOMP' :
                tipoNum === 2 ? 'REST'  :
                tipoNum === 8 ? 'CANC'  :
                'DESCONHECIDO';
            
              // natureza "1.x" (bloco 5)
              const natureza = `1.${natDigit}`;
            
              // data ISO (assumindo s√©culo 2000‚Äì2099)
              const dd = ddmmaa.slice(0, 2);
              const mm = ddmmaa.slice(2, 4);
              const aa = ddmmaa.slice(4, 6);
              const ano = 2000 + Number(aa);
              const dataISO = `${ano}-${mm}-${dd}`;
            
              return {
                valido: true as const,
                formatted,
                tipo, natureza, credito, protocolo, dataISO,
              };
            }

            // Natureza (bloco 5) mapeada para a fam√≠lia principal
            export const NATUREZA_TO_FAMILIA: Record<string, FamiliaTipo> = {
              '1.1': 'RESSARC',
              '1.5': 'RESSARC',

              '1.2': 'REST',
              '1.6': 'REST',

              '1.3': 'DCOMP',
              '1.7': 'DCOMP',

              '1.8': 'CANC',
            };

            export function classificaFamiliaPorNatureza(natureza: string): FamiliaTipo {
              return NATUREZA_TO_FAMILIA[natureza] ?? 'DESCONHECIDO';
            }

            export function agregaPerdcomp(lista: Array<{ perdcomp?: string }>) {
              let total = 0;
              let canc = 0;

              const porFamilia: Record<FamiliaTipo, number> = {
                DCOMP: 0,
                REST: 0,
                RESSARC: 0,
                CANC: 0,
                DESCONHECIDO: 0,
              };

              // Naturezas agrupadas para exibi√ß√£o no card
              const porNaturezaAgrupada: Record<string, number> = {
                '1.3/1.7': 0,
                '1.2/1.6': 0,
                '1.1/1.5': 0,
              };

              for (const it of lista ?? []) {
                const num = it?.perdcomp;
                if (!num) continue;
                const p = parsePerdcompNumero(num);
                if (!p.valido) continue;

                total++;

                const familia = classificaFamiliaPorNatureza(p.natureza);
                porFamilia[familia] = (porFamilia[familia] ?? 0) + 1;

                if (p.natureza === '1.3' || p.natureza === '1.7') {
                  porNaturezaAgrupada['1.3/1.7']++;
                }
                if (p.natureza === '1.2' || p.natureza === '1.6') {
                  porNaturezaAgrupada['1.2/1.6']++;
                }
                if (p.natureza === '1.1' || p.natureza === '1.5') {
                  porNaturezaAgrupada['1.1/1.5']++;
                }

                if (familia === 'CANC') canc++;
              }
            
              return {
                total,
                totalSemCancelamento: total - canc,
                canc,
                porFamilia,
                porNaturezaAgrupada,
              };
            }
            
        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        üìÑ telefone.js
        ‚îî‚îÄ‚îÄ Conte√∫do:
            /**
             * Cleans, normalizes, and validates a single Brazilian phone number.
             * Returns a string of 12 or 13 digits (55 + DD + number) or null if invalid.
             * @param {string} phone - The phone number string to process.
             * @param {string} defaultDDI - The default DDI to use if not present.
             * @returns {string|null}
             */
            function normalizeAndValidatePhone(phone, defaultDDI = '55') {
              if (!phone) return null;
            
              // 1. Remover tudo que n√£o for d√≠gito
              let digits = String(phone).replace(/\D/g, '');
            
              // 2. Tratar prefixos internacionais (00)
              if (digits.startsWith('00')) {
                digits = digits.substring(2);
              }

              // 3. Garantir DDI
              if (digits.startsWith(defaultDDI)) {
                // Already has DDI, do nothing
              } else {
                digits = defaultDDI + digits;
              }

              // 4. Remover o ‚Äú0‚Äù de trunk ap√≥s o DDI
              if (digits.startsWith(defaultDDI + '0')) {
                digits = defaultDDI + digits.substring(3);
              }

              // 5. Valida√ß√£o m√≠nima de tamanho (55 + DD + 8/9 d√≠gitos)
              if (digits.length >= 12 && digits.length <= 13) {
                return digits;
              }

              return null; // Retorna nulo se n√£o for v√°lido
            }

            /**
             * Takes a string containing one or more phone numbers with various separators,
             * normalizes each one, removes duplicates, and returns a single semicolon-separated string.
             * @param {string} phoneListStr - The string of phone numbers.
             * @returns {string|null}
             */
            export function normalizePhoneList(phoneListStr) {
              if (!phoneListStr || typeof phoneListStr !== 'string') return null;

              // Considerar m√∫ltiplos separadores
              const parts = phoneListStr.split(/[;,/|\\n]+/g);

              const normalizedPhones = parts
                .map(part => normalizeAndValidatePhone(part.trim())) // Normaliza cada parte
                .filter(Boolean); // Remove nulos (inv√°lidos)

              if (normalizedPhones.length === 0) return null;

              // Remove duplicados e junta com ';'
              const uniquePhones = Array.from(new Set(normalizedPhones));
              return uniquePhones.join(';');
            }
            
        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    üìÑ vercel.json
    ‚îî‚îÄ‚îÄ Conte√∫do:
        {
          "version": 2,
          "builds": [
            { "src": "next.config.js", "use": "@vercel/next" }
          ]
        }

    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ


=================================================
üìä Arquivos possivelmente relacionados ao Kanban
=================================================

üìÑ /app/app/api/clientes/buscar/route.ts
    [21]: const { searchParams } = new URL(request.url);
    [22]: const q = searchParams.get('q')?.trim() || '';
    [101]: console.error('Error searching clients:', error);
    [103]: return NextResponse.json({ message: 'Failed to search clients', error: errorMessage }, { status: 500 });
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/app/api/empresas/concorrentes/route.ts
    [16]: return NextResponse.json({ error: e?.message || 'Erro ao buscar concorrentes' }, { status: 400 });
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/app/api/infosimples/perdcomp/route.ts
    [125]: const rawCnpj = body?.cnpj ?? url.searchParams.get('cnpj') ?? '';
    [134]: let data_fim = (body?.data_fim ?? url.searchParams.get('data_fim') ?? '').toString().slice(0, 10);
    [135]: let data_inicio = (body?.data_inicio ?? url.searchParams.get('data_inicio') ?? '').toString().slice(0, 10);
    [147]: url.searchParams.get('Cliente_ID') ??
    [148]: url.searchParams.get('clienteId');
    [152]: url.searchParams.get('Nome_da_Empresa') ??
    [153]: url.searchParams.get('nomeEmpresa');
    [242]: const params = new URLSearchParams({
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/app/api/perdecomp/verificar/route.ts
    [8]: const { searchParams } = new URL(request.url);
    [9]: const cnpj = searchParams.get('cnpj')?.trim();
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/app/consultas/perdecomp-comparativo/ClientPerdecompComparativo.tsx
    [7]: import CompetitorSearchDialog from '../../../components/CompetitorSearchDialog';
    [512]: const res = await fetch(`/api/clientes/buscar?q=${encodeURIComponent(q)}`);
    [738]: <CompetitorSearchDialog
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/app/consultas/perdecomp-comparativo/page.tsx
    [4]: searchParams?: { [key: string]: string | string[] | undefined };
    [7]: export default function Page({ searchParams }: PageProps) {
    [8]: const raw = searchParams?.q;
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/app/kanban/page.jsx
    [4]: import KanbanColumn from '../../components/KanbanColumn';
    [7]: export default function KanbanPage() {
    [8]: const [columns, setColumns] = useState([]);
    [9]: const [filteredColumns, setFilteredColumns] = useState(null);
    [15]: // Buscar dados ao montar
    [17]: fetchColumns();
    [20]: // Sempre que columns mudar, reseta o filtro
    [22]: setFilteredColumns(null);
    [23]: }, [columns]);
    [25]: const fetchColumns = async () => {
    [26]: const res = await fetch('/api/kanban');
    [28]: setColumns(data);
    [109]: const newFiltered = columns.map(col => ({
    [115]: setFilteredColumns(newFiltered);
    [127]: const prevColumns = columns.map((c) => ({ ...c, cards: [...c.cards] }));
    [128]: const newColumns = columns.map((c) => ({ ...c, cards: [...c.cards] }));
    [129]: const sourceCol = newColumns.find((c) => c.id === source.droppableId);
    [130]: const destCol = newColumns.find((c) => c.id === destination.droppableId);
    [140]: if (newStatus === 'Perdido') {
    [142]: } else if (newStatus === 'Lead Selecionado') {
    [149]: setColumns(newColumns);
    [152]: const res = await fetch('/api/kanban', {
    [158]: await fetchColumns();
    [171]: setColumns(prevColumns);
    [178]: const columnsToShow = filteredColumns ?? columns;
    [209]: {columnsToShow.map((col) => (
    [210]: <KanbanColumn key={col.id} column={col} />
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/app/layout.jsx
    [5]: title: 'Client Kanban System',
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/app/page.jsx
    [30]: 'Lead Selecionado',
    [31]: 'Tentativa de Contato',
    [32]: 'Contato Efetuado',
    [33]: 'Conversa Iniciada',
    [34]: 'Reuni√£o Agendada',
    [35]: 'Perdido',
    [53]: 'Lead Selecionado',
    [54]: 'Tentativa de Contato',
    [55]: 'Contato Efetuado',
    [56]: 'Conversa Iniciada',
    [59]: const meetings = phaseCounts['Reuni√£o Agendada'] || 0;
    [60]: const losses = phaseCounts['Perdido'] || 0;
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/app/reports/page.jsx
    [13]: const params = new URLSearchParams();
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/components/Charts.jsx
    [17]: 'Lead Selecionado',
    [18]: 'Tentativa de Contato',
    [19]: 'Contato Efetuado',
    [20]: 'Conversa Iniciada',
    [21]: 'Reuni√£o Agendada',
    [22]: 'Perdido',
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/components/ClientCard.jsx
    [82]: if (updating || status === 'Lead Selecionado') return;
    [86]: const newStatus = 'Lead Selecionado';
    [94]: const res = await fetch('/api/kanban', {
    [105]: await fetch('/api/kanban');
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/components/CompetitorSearchDialog.tsx
    [17]: export default function CompetitorSearchDialog({
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/components/Filters.jsx
    [34]: placeholder="Buscar..."
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/components/KanbanCard.jsx
    [64]: export default function KanbanCard({ card, index }) {
    [172]: await fetch('/api/kanban', {
    [447]: Deseja buscar e atualizar os dados para a empresa <span className="font-bold">{client.company}</span>?
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/components/KanbanColumn.jsx
    [3]: import KanbanCard from './KanbanCard';
    [5]: export default function KanbanColumn({ column }) {
    [24]: <KanbanCard key={card.id} card={card} index={index} />
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/components/NewCompanyModal.tsx
    [4]: import { FaSpinner, FaSearch } from 'react-icons/fa';
    [281]: window.open(`https://www.google.com/search?q=${query}`, '_blank');
    [287]: <FaSearch />
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/components/Perdecomp/Autocomplete.tsx
    [51]: const response = await fetch(`/api/clientes/buscar?q=${query}`);
    [60]: setError("Falha ao buscar dados.");
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/components/Sidebar.jsx
    [5]: import { FaChartBar, FaUsers, FaColumns, FaCog, FaHome, FaSearchDollar } from 'react-icons/fa';
    [13]: { href: '/kanban', label: 'Kanban', icon: <FaColumns /> },
    [14]: { href: '/consultas/perdecomp-comparativo', label: 'PER/DCOMP (Comparativo)', icon: <FaSearchDollar /> },
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/components/SpotterModal.jsx
    [3]: import { FaSpinner, FaSearch } from 'react-icons/fa';
    [182]: await fetch('/api/kanban', {
    [185]: body: JSON.stringify({ id: initialData.id, color: 'purple', status: 'Enviado Spotter' })
    [189]: onSent({ color: 'purple', status: 'Enviado Spotter' });
    [262]: window.open(`https://www.google.com/search?q=${query}`, '_blank');
    [268]: <FaSearch />
    [324]: Deseja buscar e atualizar os dados para a empresa <span className="font-bold">{formData[fieldMap["Nome da Empresa"]]}</span>?
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/lib/googleSheets.js
    [307]: 'Neg√≥cio - T√≠tulo', 'Neg√≥cio - Valor', 'Neg√≥cio - Organiza√ß√£o', 'Neg√≥cio - Pessoa de contato', 'Neg√≥cio - Data de fechamento esperada', 'Neg√≥cio - Data da pr√≥xima atividade', 'Neg√≥cio - Propriet√°rio', 'Neg√≥cio - Etapa', 'Neg√≥cio - Fonte do Lead', 'Neg√≥cio - Qualifica√ß√£o Lead (Closer)', 'Neg√≥cio - Qualifica√ß√£o do Lead (SDR)', 'Neg√≥cio - Motivo da perda', 'Neg√≥cio - Data de cria√ß√£o do neg√≥cio', 'Neg√≥cio - SDR Respons√°vel', 'Neg√≥cio - Ganho em', 'Neg√≥cio - Data de perda', 'Neg√≥cio - VLR Mensalidade', 'Neg√≥cio - VLR Implanta√ß√£o', 'Neg√≥cio - Ranking', 'Neg√≥cio - Neg√≥cio fechado em', 'Neg√≥cio - [Closer] Lead √© o Decisor?', 'Neg√≥cio - Atividades conclu√≠das', 'Neg√≥cio - Atividades para fazer', 'Neg√≥cio - Criador', 'Neg√≥cio - Data atualizada', 'Neg√≥cio - Data da √∫ltima atividade', 'Neg√≥cio - Etiqueta', 'Neg√≥cio - Funil', 'Neg√≥cio - Moeda de VLR Mensalidade', 'Neg√≥cio - Moeda de VLR Implanta√ß√£o', 'Neg√≥cio - Canal de origem', 'Neg√≥cio - MRR', 'Neg√≥cio - Valor de produtos', 'Neg√≥cio - Valor ponderado', 'Neg√≥cio - Moeda', 'Neg√≥cio - ID', 'Neg√≥cio - ID de origem', 'Neg√≥cio - ID do canal de origem', 'Neg√≥cio - Nome do produto', 'Neg√≥cio - N√∫mero de mensagens de e-mail', 'Neg√≥cio - Origem', 'Neg√≥cio - Probabilidade', 'Neg√≥cio - ACV', 'Neg√≥cio - ARR', 'Neg√≥cio - Quantidade de produtos', 'Neg√≥cio - Telefone do Closer', 'Neg√≥cio - Tempo de Implanta√ß√£o', 'Neg√≥cio - Total de atividades', 'Neg√≥cio - UTM CAMPAIGN', 'Neg√≥cio - UTM CONTENT', 'Neg√≥cio - UTM MEDIUM', 'Neg√≥cio - UTM_SOURCE', 'Neg√≥cio - UTM_TERM', 'Neg√≥cio - Vis√≠vel para', 'Neg√≥cio - √öltima altera√ß√£o de etapa', 'Neg√≥cio - √öltimo e-mail enviado', 'Neg√≥cio - √öltimo e-mail recebido', 'Pessoa - Cargo', 'Pessoa - Email - Work', 'Pessoa - Email - Home', 'Pessoa - Email - Other', 'Pessoa - End. Linkedin', 'Pessoa - Phone - Work', 'Pessoa - Phone - Home', 'Pessoa - Phone - Mobile', 'Pessoa - Phone - Other', 'Pessoa - Telefone', 'Pessoa - Celular', 'Organiza√ß√£o - Nome', 'Organiza√ß√£o - Segmento', 'Organiza√ß√£o - Tamanho da empresa', 'Neg√≥cio - Status', 'ddd', 'uf', 'cidade_estimada', 'fonte_localizacao', 'Status_Kanban', 'Cor_Card', 'Data_Ultima_Movimentacao', 'Impresso_Lista', 'Telefone Normalizado', 'Cliente_ID'
    [363]: const SHEETS_TO_SEARCH = ['Leads Exact Spotter', 'layout_importacao_empresas', 'Sheet1'];
    [369]: for (const sheetName of SHEETS_TO_SEARCH) {
    [387]: for (const sheetName of SHEETS_TO_SEARCH) {
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/lib/googleSheets.test.js
    [49]: ['ID', 'Status_Kanban', 'Cor_Card'],
    [60]: updates: { Status_Kanban: 'Lead Selecionado', Cor_Card: 'green' },
    [67]: { range: 'Sheet1!B5:B5', values: [['Lead Selecionado']] },
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/lib/infosimples.ts
    [23]: const params = new URLSearchParams();
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/package-lock.json
    [2]: "name": "client-kanban-system",
    [8]: "name": "client-kanban-system",
    [2171]: "streamsearch": "^1.1.0"
    [5745]: "node_modules/lines-and-columns": {
    [5747]: "resolved": "https://registry.npmjs.org/lines-and-columns/-/lines-and-columns-1.2.4.tgz",
    [6345]: "lines-and-columns": "^1.1.6"
    [7351]: "node_modules/streamsearch": {
    [7353]: "resolved": "https://registry.npmjs.org/streamsearch/-/streamsearch-1.1.0.tgz",
    [7510]: "lines-and-columns": "^1.1.6",
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/package.json
    [2]: "name": "client-kanban-system",
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/pages/api/clientes.js
    [47]: status: header.indexOf('Status_Kanban'),
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/pages/api/clientes.test.js
    [30]: 'Status_Kanban',
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/pages/api/interacoes.js
    [80]: console.error('Erro ao buscar hist√≥rico:', err);
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/pages/api/kanban.js
    [49]: status: header.indexOf('Status_Kanban'),
    [140]: const columns = [
    [141]: 'Lead Selecionado',
    [142]: 'Tentativa de Contato',
    [143]: 'Contato Efetuado',
    [144]: 'Conversa Iniciada',
    [145]: 'Reuni√£o Agendada',
    [146]: 'Enviado Spotter',
    [147]: 'Perdido',
    [149]: const board = columns.map((col) => ({ id: col, title: col, cards: [] }));
    [160]: console.error('Erro ao listar kanban:', err);
    [161]: return res.status(500).json({ error: 'Erro ao listar kanban' });
    [172]: : newStatus === 'Perdido'
    [184]: updates['Status_Kanban'] = newStatus;
    [195]: console.error('Erro ao atualizar kanban:', err);
    [197]: return res.status(statusCode).json({ error: err.message || 'Erro ao atualizar kanban' });
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/pages/api/kanban.test.js
    [2]: import handler from './kanban';
    [11]: describe('POST /api/kanban', () => {
    [21]: body: { id: '1', status: 'Lead Selecionado', color: 'green' },
    [28]: expect(call.updates.Status_Kanban).toBe('Lead Selecionado');
    [37]: body: { id: '1', destination: { droppableId: 'Contato Efetuado' } },
    [43]: expect(call.updates.Status_Kanban).toBe('Contato Efetuado');
    [49]: const req = { method: 'POST', body: { id: 'xyz', status: 'Lead Selecionado' } };
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/pages/api/migrar-clienteid.js
    [22]: deletedClientIdColumns: [],
    [99]: dimension: 'COLUMNS',
    [107]: out.deletedClientIdColumns.push({ sheet: title, index: idxClient });
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/pages/api/padroes.js
    [9]: getSheetData('Usuarios', 'A:C'), // Assuming Email is in one of the first 3 columns
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/scripts/check-spotter-url.sh
    [5]: # It uses ripgrep (rg) for searching. The `|| true` prevents the script from exiting
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ /app/scripts/inventario.js
    [39]: function analyzeForKanban(readFiles) {
    [40]: const KANBAN_TERMS = [
    [41]: 'Status_Kanban', 'Lead Selecionado', 'Tentativa de Contato', 'Contato Efetuado',
    [42]: 'Conversa Iniciada', 'Reuni√£o Agendada', 'Enviado Spotter', 'Perdido',
    [43]: 'groupBy', 'columns', 'kanban', 'buscar', 'search'
    [45]: const kanbanRegex = new RegExp(KANBAN_TERMS.join('|'), 'i');
    [52]: if (kanbanRegex.test(line)) {
    [63]: writeLine('üìä Arquivos possivelmente relacionados ao Kanban');
    [118]: analyzeForKanban(filesForAnalysis);
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
